!function($){$.widget("AgentConsole.footer",{hoverOnFooterDiv:!1,options:{container:null},_create:function(){var phoneDiv,workItemDiv,chatDiv,emailDiv,personalQueueDiv,rootDiv=$("<div/>").appendTo(this.element);this.settingDiv=$('<div class="divOption" id="optionBtn"/>').appendTo(rootDiv),$('<img class="img" src="'+this.options.container.resourceBase+'/css/images/footer-options.png" />').attr("title",IC_Localization.options).appendTo(this.settingDiv).on("click",$.proxy(this.onClickSetting,this)),this.queuePanel=$('<div class="divQueuePanel" />').appendTo(rootDiv),phoneDiv=$('<div class="divQueueCount" id="phoneDivQueueCount" />').appendTo(this.queuePanel),$('<img class="img" src="'+this.options.container.resourceBase+'/css/images/footer-voice.png" />').attr("title",IC_Localization.phoneCall).appendTo(phoneDiv),phoneDiv.css("margin-left","1px"),this.phoneCount=$('<div class="label" />').appendTo(phoneDiv),workItemDiv=$('<div class="divQueueCount" id="workItemDivQueueCount" />').appendTo(this.queuePanel),$('<img class="img" src="'+this.options.container.resourceBase+'/css/images/footer-work-item.png" />').attr("title",IC_Localization.workItem).appendTo(workItemDiv),this.workItemCount=$('<div class="label" ></div> ').appendTo(workItemDiv),chatDiv=$('<div class="divQueueCount" id="chatDivQueueCount" />').appendTo(this.queuePanel),$('<img class="chatimg" src="'+this.options.container.resourceBase+'/css/images/footer-chat.png" />').attr("title",IC_Localization.chat).appendTo(chatDiv),this.chatCount=$('<div class="label" ></div> ').appendTo(chatDiv),personalQueueDiv=$('<div class="divQueueCount" id="personalQueueDivQueueCount" />').appendTo(this.queuePanel),$('<img class="img" src="'+this.options.container.resourceBase+'/css/images/footer-personal.png" />').attr("title",IC_Localization.personalQueue).appendTo(personalQueueDiv),this.personalQueueCount=$('<div class="label" ></div> ').appendTo(personalQueueDiv),emailDiv=$('<div class="divQueueCount" id="emailDivQueueCount" />').appendTo(this.queuePanel),$('<img class="emailimg" src="'+this.options.container.resourceBase+'/css/images/footer-email.png" />').attr("title",IC_Localization.email).appendTo(emailDiv),this.emailCount=$('<div class="label" ></div> ').appendTo(emailDiv),this.updateData("phone",0),this.updateData("workItem",0),this.updateData("chat",0),this.updateData("personalQueue",0),this.updateData("email",0),this.onDemandTooltip=$("<div class='footerTooltip'/>").appendTo(this.queuePanel),this.phoneCount.hoverfn($.proxy(this.showFooterTooltip,this)),this.phoneCount.on("mouseleave",$.proxy(this.hideFooterTooltip,this)),this.workItemCount.hoverfn($.proxy(this.showFooterTooltip,this)),this.workItemCount.on("mouseleave",$.proxy(this.hideFooterTooltip,this)),this.chatCount.hoverfn($.proxy(this.showFooterTooltip,this)),this.chatCount.on("mouseleave",$.proxy(this.hideFooterTooltip,this)),this.personalQueueCount.hoverfn($.proxy(this.showFooterTooltip,this)),this.personalQueueCount.on("mouseleave",$.proxy(this.hideFooterTooltip,this)),this.emailCount.hoverfn($.proxy(this.showFooterTooltip,this)),this.emailCount.on("mouseleave",$.proxy(this.hideFooterTooltip,this))},showFooterTooltip:function(event){var position=$(event.target).offset();this.onDemandTooltip.text($(event.target).text()),$(event.target).hasClass("textEllipsis")&&(this.onDemandTooltip.showfn(),this.onDemandTooltip.css({left:position.left-24,top:position.top-19,"z-index":500}))},hideFooterTooltip:function(){this.onDemandTooltip.hide()},setFooterTextWithEllipsis:function(domObj,text,widthLimit){var textWidth,lengthTextDom=$("#renderTextSize");lengthTextDom||(lengthTextDom=$('<div id="renderTextSize"/>').addClass("renderTextSize").appendTo("Body")),textWidth=lengthTextDom.text(text).width(),domObj.text(text),textWidth>widthLimit?(domObj.addClass("textEllipsis"),domObj.css("width",widthLimit+"px")):domObj.removeClass("textEllipsis"),lengthTextDom.text("")},updateData:function(type,value){"phone"===type?this.setFooterTextWithEllipsis(this.phoneCount,value,18):"workItem"===type?this.setFooterTextWithEllipsis(this.workItemCount,value,18):"chat"===type?this.setFooterTextWithEllipsis(this.chatCount,value,18):"email"===type?this.setFooterTextWithEllipsis(this.emailCount,value,18):"personalQueue"===type&&this.setFooterTextWithEllipsis(this.personalQueueCount,value,18)},onClickSetting:function(){!1===IC_Common.isButtonSelected(this.settingDiv)&&this.options.container.onOptionsPanelOpen()},toggleFooterCount:function(showFooterCount){!0===showFooterCount?(this.phoneCount.showfn(),this.workItemCount.showfn(),this.chatCount.showfn(),this.emailCount.showfn(),this.personalQueueCount.showfn()):(this.phoneCount.hide(),this.workItemCount.hide(),this.chatCount.hide(),this.emailCount.hide(),this.personalQueueCount.hide())},updateOptionIconSelected:function(isOptionSelected){!0===isOptionSelected?(this.settingDiv.addClass("divOptionSelected"),this.queuePanel.addClass("divQueuePanelSelected")):(this.settingDiv.removeClass("divOptionSelected"),this.queuePanel.removeClass("divQueuePanelSelected"))}})}(jQuery);
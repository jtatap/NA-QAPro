!function($){$.widget("AgentConsole.consultAcceptRejectPanel",$.AgentConsole.acceptRejectPanel,{options:{controller:null,resourceBase:""},_init:function(){},_create:function(){this.contact=this.options.contact,this.resourceBase=this.options.resourceBase,this.agentLegState=this.options.agentLegState,this.root=this.createRootPanel(),this.root.appendTo(this.element),this.postCreate()},postCreate:function(){this.messageHeader.text(IC_Localization.consultRequest).attr("title",IC_Localization.consultRequest),this.message.removeClass("content").addClass("contentConsult"),this.updateAgentName(this.contact),this.mediaTypeImgPnlL.attr("src",this.resourceBase+"/css/images/mediatype-phone.png"),this.rightArrowPnl.attr("src",this.resourceBase+"/css/images/bumber-arrow-right.png"),this.acceptBtn.on("click",$.proxy(this.acceptBtnClick,this)),"Active"!==this.agentLegState&&(this.acceptBtn.removeClass("acceptGradient"),IC_Common.disableButton(this.acceptBtn)),this.rejectBtn.css("display","none")},updateData:function(type,data){"agentLeg"===type&&(this.agentLegState=data,"Active"===this.agentLegState?this.acceptBtn.addClass("acceptGradient"):this.acceptBtn.removeClass("acceptGradient"))},updateAgentName:function(contact){this.contact=contact;var agentNameToDisplay=IC_Validation.isNullOrEmpty(this.contact.consultAgentName)?IC_Localization.unknownAgent:this.contact.consultAgentName;this.message.html(IC_Localization.consultRequestWaiting+" "+agentNameToDisplay+". "+IC_Localization.doYouAcceptIt)},acceptBtnClick:function(){this.acceptBtn.hasClass("acceptGradient")&&(this.options.controller.acceptAgentConsult(this.contact.id),this.destroy())}})}(jQuery);
!function($){$.widget("AgentConsole.keyPad",{options:{container:null,resourceBase:""},_init:function(){document.getElementById("renderTextSize")||$('<div id="renderTextSize"/>').addClass("renderTextSize").appendTo("Body")},_create:function(){var keyPressElement,headerPanel,rootPanel,contentPanel,exitBtn,that=this;for(var prop in void 0===this.keyElements&&(this.keyElements={ascii_49:{number:"1",alpha:""},ascii_50:{number:"2",alpha:IC_Localization.abc},ascii_51:{number:"3",alpha:IC_Localization.def},ascii_52:{number:"4",alpha:IC_Localization.ghi},ascii_53:{number:"5",alpha:IC_Localization.jkl},ascii_54:{number:"6",alpha:IC_Localization.mno},ascii_55:{number:"7",alpha:IC_Localization.pqrs},ascii_56:{number:"8",alpha:IC_Localization.tuv},ascii_57:{number:"9",alpha:IC_Localization.wxyz},ascii_42:{number:"*",alpha:""},ascii_48:{number:"0",alpha:""},ascii_35:{number:"#",alpha:""}}),this.element.addClass("keyPadPanel"),bgPanelKeypad=$('<div class="bgPanelKeypad"/>').appendTo(this.element),$('<div class="notificationArrow"/>').appendTo(this.element),rootPanel=$('<div class="modalDialogBackground"/>').appendTo(this.element),headerPanel=$('<div class="modalDialogHeader"/>').appendTo(rootPanel),$('<div class="modalDialogHeaderText"/>').text(IC_Localization.keypadTones).appendTo(headerPanel),$('<div class="modalDialogCloseIcon" title="'+IC_Localization.close+'"/>').appendTo(headerPanel).on("click",$.proxy(this.keyPadClose,this)),contentPanel=$('<div class="contentPanel" />').appendTo(rootPanel),this.keyPanel=$("<div/>").addClass("keyPanel").appendTo(contentPanel),rootPanel.on("keypress",function(e){that.keyReleasedBGColor("ascii_"+e.which)}),this.keyElements)"*"==this.keyElements[prop].number?this.keyElement=$("<div/>").html("<div class='number1'>"+this.keyElements[prop].number+"</div>").addClass("keyElement keyElementBg").appendTo(this.keyPanel):"0"==this.keyElements[prop].number||"#"==this.keyElements[prop].number?this.keyElement=$("<div/>").html("<div class='number2'>"+this.keyElements[prop].number+"</div>").addClass("keyElement keyElementBg").appendTo(this.keyPanel):this.keyElement=$("<div/>").html("<div >"+this.keyElements[prop].number+"</div><div class='alpha textEllipsis' title='"+this.keyElements[prop].alpha+"'>"+this.keyElements[prop].alpha+"</div>").addClass("keyElement keyElementBg").appendTo(this.keyPanel),this.keyElement.attr({cus_id:prop}),this.keyElement.hoverfn(function(){$(this).removeClass("keyElement keyElementBg"),$(this).addClass("keyElement keyElementHover")},function(){$(this).removeClass("keyElement keyElementHover"),$(this).addClass("keyElement keyElementBg")}),this.keyElement.on("click",function(){that.keyReleasedBGColor($(this)),that.enterDTMFValue($(this))});exitBtn=$('<div class="exitBtn keyElementBg" />').appendTo(rootPanel),exitTxt=$('<div class="exitTxt textEllipsis" />').appendTo(exitBtn),exitIcn=$('<div class="exitIcn" />').appendTo(exitBtn),IC_Common.setTextWithEllipsis(exitTxt,IC_Localization.close,38),exitBtn.on("click",$.proxy(this.keyPadClose,this)),this.element.attr("tabindex",1).trigger("focus"),rootPanel.on("keypress",function(e){if(8!=e.which&&0!=e.which&&(e.which<48||e.which>57)&&42!=e.which&&35!=e.which&&43!=e.which)return!1;keyPressElement=$(".keyElement[cus_id=ascii_"+e.which+"]"),that.keyReleasedBGColor(keyPressElement),that.enterDTMFValue(keyPressElement)}),this.element.on("keypress",function(e){if(8!=e.which&&0!=e.which&&(e.which<48||e.which>57)&&42!=e.which&&35!=e.which&&43!=e.which)return!1;keyPressElement=$(".keyElement[cus_id=ascii_"+e.which+"]"),that.keyReleasedBGColor(keyPressElement),that.enterDTMFValue(keyPressElement)})},setKeyPadFocus:function(){this.element.attr("tabindex",1).trigger("focus")},keyReleasedBGColor:function(element){element.addClass("keyElementSelected"),setTimeout(function(){element.removeClass("keyElementSelected"),element.addClass("keyElementBg")},250)},enterDTMFValue:function(element){this.options.container.sendDTMFValue(this.keyElements[element.attr("cus_id")].number)},keyPadClose:function(){this.options.container.onkeyPadClick()},updatePanelHeight:function(isDialerPanel,isShowIndicator){}})}(jQuery);
!function($){$.extend(!0,window,{Slick:{Data:{DataView:function(options){var fastSortField,sortComparer,filterArgs,compiledFilter,compiledFilterWithCaching,self=this,idProperty="id",items=[],rows=[],idxById={},rowsById=null,filter=null,updated=null,suspend=!1,sortAsc=!0,refreshHints={},prevRefreshHints={},filteredItems=[],filterCache=[],groupingInfoDefaults={getter:null,formatter:null,comparer:function(a,b){return a.value===b.value?0:a.value>b.value?1:-1},predefinedValues:[],aggregators:[],aggregateEmpty:!1,aggregateCollapsed:!1,aggregateChildGroups:!1,collapsed:!1,displayTotalsRow:!0,lazyTotalsCalculation:!1},groupingInfos=[],groups=[],toggledGroupsByLevel=[],groupingDelimiter=":|:",pagesize=0,pagenum=0,totalRows=0,onRowCountChanged=new Slick.Event,onRowsChanged=new Slick.Event,onPagingInfoChanged=new Slick.Event;function updateIdxById(startingIndex){for(var id,i=startingIndex=startingIndex||0,l=items.length;i<l;i++){if(void 0===(id=items[i][idProperty]))throw new Error("Each data element must implement a unique 'id' property");idxById[id]=i}}function getPagingInfo(){var totalPages=pagesize?Math.max(1,Math.ceil(totalRows/pagesize)):1;return{pageSize:pagesize,pageNum:pagenum,totalRows:totalRows,totalPages:totalPages,dataView:self}}function sort(comparer,ascending){sortAsc=ascending,sortComparer=comparer,fastSortField=null,!1===ascending&&items.reverse(),items.sort(comparer),!1===ascending&&items.reverse(),idxById={},updateIdxById(),refresh()}function fastSort(field,ascending){sortAsc=ascending,fastSortField=field,sortComparer=null;var oldToString=Object.prototype.toString;Object.prototype.toString="function"==typeof field?field:function(){return this[field]},!1===ascending&&items.reverse(),items.sort(),Object.prototype.toString=oldToString,!1===ascending&&items.reverse(),idxById={},updateIdxById(),refresh()}function setGrouping(groupingInfo){options.groupItemMetadataProvider||(options.groupItemMetadataProvider=new Slick.Data.GroupItemMetadataProvider),groups=[],toggledGroupsByLevel=[],groupingInfos=(groupingInfo=groupingInfo||[])instanceof Array?groupingInfo:[groupingInfo];for(var i=0;i<groupingInfos.length;i++){var gi=groupingInfos[i]=$.extend(!0,{},groupingInfoDefaults,groupingInfos[i]);gi.getterIsAFn="function"==typeof gi.getter,gi.compiledAccumulators=[];for(var idx=gi.aggregators.length;idx--;)gi.compiledAccumulators[idx]=(aggregator=gi.aggregators[idx],void 0,fn=void 0,accumulatorInfo=getFunctionInfo(aggregator.accumulate),(fn=new Function("_items","for (var "+accumulatorInfo.params[0]+", _i=0, _il=_items.length; _i<_il; _i++) {"+accumulatorInfo.params[0]+" = _items[_i]; "+accumulatorInfo.body+"}")).displayName=fn.name="compiledAccumulatorLoop",fn);toggledGroupsByLevel[i]={}}var aggregator,accumulatorInfo,fn;refresh()}function ensureRowsByIdCache(){if(!rowsById){rowsById={};for(var i=0,l=rows.length;i<l;i++)rowsById[rows[i][idProperty]]=i}}function getItemById(id){return items[idxById[id]]}function updateItem(id,item){if(void 0===idxById[id]||id!==item[idProperty])throw new Error("Invalid or non-matching id");items[idxById[id]]=item,updated||(updated={}),updated[id]=!0,refresh()}function insertItem(insertBefore,item){items.splice(insertBefore,0,item),updateIdxById(insertBefore),refresh()}function deleteItem(id){var idx=idxById[id];if(void 0===idx)throw new Error("Invalid id");delete idxById[id],items.splice(idx,1),updateIdxById(idx),refresh()}function sortedAddItem(item){if(!sortComparer)throw new Error("sortedAddItem() requires a sort comparer, use sort()");insertItem(function(searchItem){for(var low=0,high=items.length;low<high;){var mid=low+high>>>1;-1===sortComparer(items[mid],searchItem)?low=mid+1:high=mid}return low}(item),item)}function expandCollapseAllGroups(level,collapse){if(null==level)for(var i=0;i<groupingInfos.length;i++)toggledGroupsByLevel[i]={},groupingInfos[i].collapsed=collapse;else toggledGroupsByLevel[level]={},groupingInfos[level].collapsed=collapse;refresh()}function expandCollapseGroup(level,groupingKey,collapse){toggledGroupsByLevel[level][groupingKey]=groupingInfos[level].collapsed^collapse,refresh()}function calculateTotals(totals){var agg,group=totals.group,gi=groupingInfos[group.level],isLeafLevel=group.level==groupingInfos.length,idx=gi.aggregators.length;if(!isLeafLevel&&gi.aggregateChildGroups)for(var i=group.groups.length;i--;)group.groups[i].totals.initialized||calculateTotals(group.groups[i].totals);for(;idx--;)(agg=gi.aggregators[idx]).init(),!isLeafLevel&&gi.aggregateChildGroups?gi.compiledAccumulators[idx].call(agg,group.groups):gi.compiledAccumulators[idx].call(agg,group.rows),agg.storeResult(totals);totals.initialized=!0}function addGroupTotals(group){var gi=groupingInfos[group.level],totals=new Slick.GroupTotals;totals.group=group,group.totals=totals,gi.lazyTotalsCalculation||calculateTotals(totals)}function getFunctionInfo(fn){var matches=fn.toString().match(/^function[^(]*\(([^)]*)\)\s*{([\s\S]*)}$/);return{params:matches[1].split(","),body:matches[2]}}function uncompiledFilter(items,args){for(var retval=[],idx=0,i=0,ii=items.length;i<ii;i++)filter(items[i],args)&&(retval[idx++]=items[i]);return retval}function uncompiledFilterWithCaching(items,args,cache){for(var item,retval=[],idx=0,i=0,ii=items.length;i<ii;i++)item=items[i],cache[i]?retval[idx++]=item:filter(item,args)&&(retval[idx++]=item,cache[i]=!0);return retval}function getFilteredAndPagedItems(items){if(filter){var batchFilter=options.inlineFilters?compiledFilter:uncompiledFilter,batchFilterWithCaching=options.inlineFilters?compiledFilterWithCaching:uncompiledFilterWithCaching;refreshHints.isFilterNarrowing?filteredItems=batchFilter(filteredItems,filterArgs):refreshHints.isFilterExpanding?filteredItems=batchFilterWithCaching(items,filterArgs,filterCache):refreshHints.isFilterUnchanged||(filteredItems=batchFilter(items,filterArgs))}else filteredItems=pagesize?items:items.concat();var paged;return pagesize?(filteredItems.length<=pagenum*pagesize&&(pagenum=0===filteredItems.length?0:Math.floor((filteredItems.length-1)/pagesize)),paged=filteredItems.slice(pagesize*pagenum,pagesize*pagenum+pagesize)):paged=filteredItems,{totalRows:filteredItems.length,rows:paged}}function recalc(_items){rowsById=null,refreshHints.isFilterNarrowing==prevRefreshHints.isFilterNarrowing&&refreshHints.isFilterExpanding==prevRefreshHints.isFilterExpanding||(filterCache=[]);var filteredItems=getFilteredAndPagedItems(_items);totalRows=filteredItems.totalRows;var newRows=filteredItems.rows;groups=[],groupingInfos.length&&(groups=function extractGroups(rows,parentGroup){for(var group,val,r,groups=[],groupsByVal={},level=parentGroup?parentGroup.level+1:0,gi=groupingInfos[level],i=0,l=gi.predefinedValues.length;i<l;i++)(group=groupsByVal[val=gi.predefinedValues[i]])||((group=new Slick.Group).value=val,group.level=level,group.groupingKey=(parentGroup?parentGroup.groupingKey+groupingDelimiter:"")+val,groups[groups.length]=group,groupsByVal[val]=group);for(i=0,l=rows.length;i<l;i++)r=rows[i],(group=groupsByVal[val=gi.getterIsAFn?gi.getter(r):r[gi.getter]])||((group=new Slick.Group).value=val,group.level=level,group.groupingKey=(parentGroup?parentGroup.groupingKey+groupingDelimiter:"")+val,groups[groups.length]=group,groupsByVal[val]=group),group.rows[group.count++]=r;if(level<groupingInfos.length-1)for(i=0;i<groups.length;i++)(group=groups[i]).groups=extractGroups(group.rows,group);return groups.sort(groupingInfos[level].comparer),groups}(newRows)).length&&(function addTotals(groups,level){for(var g,gi=groupingInfos[level=level||0],groupCollapsed=gi.collapsed,toggledGroups=toggledGroupsByLevel[level],idx=groups.length;idx--;)(g=groups[idx]).collapsed&&!gi.aggregateCollapsed||(g.groups&&addTotals(g.groups,level+1),gi.aggregators.length&&(gi.aggregateEmpty||g.rows.length||g.groups&&g.groups.length)&&addGroupTotals(g),g.collapsed=groupCollapsed^toggledGroups[g.groupingKey],g.title=gi.formatter?gi.formatter(g):g.value)}(groups),newRows=function flattenGroupedRows(groups,level){for(var rows,g,gi=groupingInfos[level=level||0],groupedRows=[],gl=0,i=0,l=groups.length;i<l;i++){if(g=groups[i],groupedRows[gl++]=g,!g.collapsed)for(var j=0,jj=(rows=g.groups?flattenGroupedRows(g.groups,level+1):g.rows).length;j<jj;j++)groupedRows[gl++]=rows[j];g.totals&&gi.displayTotalsRow&&(!g.collapsed||gi.aggregateCollapsed)&&(groupedRows[gl++]=g.totals)}return groupedRows}(groups));var diff=function(rows,newRows){var item,r,eitherIsNonData,diff=[],from=0,to=newRows.length;refreshHints&&refreshHints.ignoreDiffsBefore&&(from=Math.max(0,Math.min(newRows.length,refreshHints.ignoreDiffsBefore))),refreshHints&&refreshHints.ignoreDiffsAfter&&(to=Math.min(newRows.length,Math.max(0,refreshHints.ignoreDiffsAfter)));for(var i=from,rl=rows.length;i<to;i++)i>=rl?diff[diff.length]=i:(item=newRows[i],r=rows[i],(groupingInfos.length&&(eitherIsNonData=item.__nonDataRow||r.__nonDataRow)&&item.__group!==r.__group||item.__group&&!item.equals(r)||eitherIsNonData&&(item.__groupTotals||r.__groupTotals)||item[idProperty]!=r[idProperty]||updated&&updated[item[idProperty]])&&(diff[diff.length]=i));return diff}(rows,newRows);return rows=newRows,diff}function refresh(){if(!suspend){var countBefore=rows.length,totalRowsBefore=totalRows,diff=recalc(items);pagesize&&totalRows<pagenum*pagesize&&(pagenum=Math.max(0,Math.ceil(totalRows/pagesize)-1),diff=recalc(items)),updated=null,prevRefreshHints=refreshHints,refreshHints={},totalRowsBefore!==totalRows&&onPagingInfoChanged.notify(getPagingInfo(),null,self),countBefore!==rows.length&&onRowCountChanged.notify({previous:countBefore,current:rows.length,dataView:self},null,self),diff.length>0&&onRowsChanged.notify({rows:diff,dataView:self},null,self)}}options=$.extend(!0,{},{groupItemMetadataProvider:null,inlineFilters:!1},options),$.extend(this,{beginUpdate:function(){suspend=!0},endUpdate:function(){suspend=!1,refresh()},setPagingOptions:function(args){void 0!=args.pageSize&&(pagesize=args.pageSize,pagenum=pagesize?Math.min(pagenum,Math.max(0,Math.ceil(totalRows/pagesize)-1)):0),void 0!=args.pageNum&&(pagenum=Math.min(args.pageNum,Math.max(0,Math.ceil(totalRows/pagesize)-1))),onPagingInfoChanged.notify(getPagingInfo(),null,self),refresh()},getPagingInfo:getPagingInfo,getItems:function(){return items},setItems:function(data,objectIdProperty){void 0!==objectIdProperty&&(idProperty=objectIdProperty),items=filteredItems=data,idxById={},updateIdxById(),function(){for(var id,i=0,l=items.length;i<l;i++)if(void 0===(id=items[i][idProperty])||idxById[id]!==i)throw new Error("Each data element must implement a unique 'id' property")}(),refresh()},setFilter:function(filterFn){filter=filterFn,options.inlineFilters&&(compiledFilter=function(){var filterInfo=getFunctionInfo(filter),filterPath2="{ _retval[_idx++] = $item$; continue _coreloop; }$1",filterBody=filterInfo.body.replace(/return false\s*([;}]|\}|$)/gi,"{ continue _coreloop; }$1").replace(/return!1([;}]|\}|$)/gi,"{ continue _coreloop; }$1").replace(/return true\s*([;}]|\}|$)/gi,filterPath2).replace(/return!0([;}]|\}|$)/gi,filterPath2).replace(/return ([^;}]+?)\s*([;}]|$)/gi,"{ if ($1) { _retval[_idx++] = $item$; }; continue _coreloop; }$2"),tpl=["var _retval = [], _idx = 0; ","var $item$, $args$ = _args; ","_coreloop: ","for (var _i = 0, _il = _items.length; _i < _il; _i++) { ","$item$ = _items[_i]; ","$filter$; ","} ","return _retval; "].join("");tpl=(tpl=(tpl=tpl.replace(/\$filter\$/gi,filterBody)).replace(/\$item\$/gi,filterInfo.params[0])).replace(/\$args\$/gi,filterInfo.params[1]);var fn=new Function("_items,_args",tpl);return fn.displayName=fn.name="compiledFilter",fn}(),compiledFilterWithCaching=function(){var filterInfo=getFunctionInfo(filter),filterPath2="{ _cache[_i] = true;_retval[_idx++] = $item$; continue _coreloop; }$1",filterBody=filterInfo.body.replace(/return false\s*([;}]|\}|$)/gi,"{ continue _coreloop; }$1").replace(/return!1([;}]|\}|$)/gi,"{ continue _coreloop; }$1").replace(/return true\s*([;}]|\}|$)/gi,filterPath2).replace(/return!0([;}]|\}|$)/gi,filterPath2).replace(/return ([^;}]+?)\s*([;}]|$)/gi,"{ if ((_cache[_i] = $1)) { _retval[_idx++] = $item$; }; continue _coreloop; }$2"),tpl=["var _retval = [], _idx = 0; ","var $item$, $args$ = _args; ","_coreloop: ","for (var _i = 0, _il = _items.length; _i < _il; _i++) { ","$item$ = _items[_i]; ","if (_cache[_i]) { ","_retval[_idx++] = $item$; ","continue _coreloop; ","} ","$filter$; ","} ","return _retval; "].join("");tpl=(tpl=(tpl=tpl.replace(/\$filter\$/gi,filterBody)).replace(/\$item\$/gi,filterInfo.params[0])).replace(/\$args\$/gi,filterInfo.params[1]);var fn=new Function("_items,_args,_cache",tpl);return fn.displayName=fn.name="compiledFilterWithCaching",fn}()),refresh()},getFilter:function(){return filter},getFilteredItems:function(){return filteredItems},sort:sort,fastSort:fastSort,reSort:function(){sortComparer?sort(sortComparer,sortAsc):fastSortField&&fastSort(fastSortField,sortAsc)},setGrouping:setGrouping,getGrouping:function(){return groupingInfos},groupBy:function(valueGetter,valueFormatter,sortComparer){setGrouping(null!=valueGetter?{getter:valueGetter,formatter:valueFormatter,comparer:sortComparer}:[])},setAggregators:function(groupAggregators,includeCollapsed){if(!groupingInfos.length)throw new Error("At least one grouping must be specified before calling setAggregators().");groupingInfos[0].aggregators=groupAggregators,groupingInfos[0].aggregateCollapsed=includeCollapsed,setGrouping(groupingInfos)},collapseAllGroups:function(level){expandCollapseAllGroups(level,!0)},expandAllGroups:function(level){expandCollapseAllGroups(level,!1)},collapseGroup:function(varArgs){var args=Array.prototype.slice.call(arguments),arg0=args[0];1==args.length&&-1!=arg0.indexOf(groupingDelimiter)?expandCollapseGroup(arg0.split(groupingDelimiter).length-1,arg0,!0):expandCollapseGroup(args.length-1,args.join(groupingDelimiter),!0)},expandGroup:function(varArgs){var args=Array.prototype.slice.call(arguments),arg0=args[0];1==args.length&&-1!=arg0.indexOf(groupingDelimiter)?expandCollapseGroup(arg0.split(groupingDelimiter).length-1,arg0,!1):expandCollapseGroup(args.length-1,args.join(groupingDelimiter),!1)},getGroups:function(){return groups},getIdxById:function(id){return idxById[id]},getRowByItem:function(item){return ensureRowsByIdCache(),rowsById[item[idProperty]]},getRowById:function(id){return ensureRowsByIdCache(),rowsById[id]},getItemById:getItemById,getItemByIdx:function(i){return items[i]},mapItemsToRows:function(itemArray){var rows=[];ensureRowsByIdCache();for(var i=0,l=itemArray.length;i<l;i++){var row=rowsById[itemArray[i][idProperty]];null!=row&&(rows[rows.length]=row)}return rows},mapRowsToIds:function(rowArray){for(var ids=[],i=0,l=rowArray.length;i<l;i++)rowArray[i]<rows.length&&(ids[ids.length]=rows[rowArray[i]][idProperty]);return ids},mapIdsToRows:function(idArray){var rows=[];ensureRowsByIdCache();for(var i=0,l=idArray.length;i<l;i++){var row=rowsById[idArray[i]];null!=row&&(rows[rows.length]=row)}return rows},setRefreshHints:function(hints){refreshHints=hints},setFilterArgs:function(args){filterArgs=args},refresh:refresh,updateItem:updateItem,insertItem:insertItem,addItem:function(item){items.push(item),updateIdxById(items.length-1),refresh()},deleteItem:deleteItem,sortedAddItem:sortedAddItem,sortedUpdateItem:function(id,item){if(void 0===idxById[id]||id!==item[idProperty])throw new Error("Invalid or non-matching id "+idxById[id]);if(!sortComparer)throw new Error("sortedUpdateItem() requires a sort comparer, use sort()");var oldItem=getItemById(id);0!==sortComparer(oldItem,item)?(deleteItem(id),sortedAddItem(item)):updateItem(id,item)},syncGridSelection:function(grid,preserveHidden,preserveHiddenOnSelectionChange){var inHandler,self=this,selectedRowIds=self.mapRowsToIds(grid.getSelectedRows()),onSelectedRowIdsChanged=new Slick.Event;function setSelectedRowIds(rowIds){selectedRowIds.join(",")!=rowIds.join(",")&&(selectedRowIds=rowIds,onSelectedRowIdsChanged.notify({grid:grid,ids:selectedRowIds,dataView:self},new Slick.EventData,self))}function update(){if(selectedRowIds.length>0){inHandler=!0;var selectedRows=self.mapIdsToRows(selectedRowIds);preserveHidden||setSelectedRowIds(self.mapRowsToIds(selectedRows)),grid.setSelectedRows(selectedRows),inHandler=!1}}return grid.onSelectedRowsChanged.subscribe(function(e,args){if(!inHandler){var newSelectedRowIds=self.mapRowsToIds(grid.getSelectedRows());preserveHiddenOnSelectionChange&&grid.getOptions().multiSelect?setSelectedRowIds($.grep(selectedRowIds,function(id){return void 0===self.getRowById(id)}).concat(newSelectedRowIds)):setSelectedRowIds(newSelectedRowIds)}}),this.onRowsChanged.subscribe(update),this.onRowCountChanged.subscribe(update),onSelectedRowIdsChanged},syncGridCellCssStyles:function(grid,key){var hashById,inHandler;function storeCellCssStyles(hash){for(var row in hashById={},hash){var id=rows[row][idProperty];hashById[id]=hash[row]}}function update(){if(hashById){inHandler=!0,ensureRowsByIdCache();var newHash={};for(var id in hashById){var row=rowsById[id];void 0!=row&&(newHash[row]=hashById[id])}grid.setCellCssStyles(key,newHash),inHandler=!1}}storeCellCssStyles(grid.getCellCssStyles(key)),grid.onCellCssStylesChanged.subscribe(function(e,args){inHandler||key==args.key&&(args.hash?storeCellCssStyles(args.hash):(grid.onCellCssStylesChanged.unsubscribe(styleChanged),self.onRowsChanged.unsubscribe(update),self.onRowCountChanged.unsubscribe(update)))}),this.onRowsChanged.subscribe(update),this.onRowCountChanged.subscribe(update)},getLength:function(){return rows.length},getItem:function(i){var item=rows[i];if(item&&item.__group&&item.totals&&!item.totals.initialized){var gi=groupingInfos[item.level];gi.displayTotalsRow||(calculateTotals(item.totals),item.title=gi.formatter?gi.formatter(item):item.value)}else item&&item.__groupTotals&&!item.initialized&&calculateTotals(item);return item},getItemMetadata:function(i){var item=rows[i];return void 0===item?null:item.__group?options.groupItemMetadataProvider.getGroupRowMetadata(item):item.__groupTotals?options.groupItemMetadataProvider.getTotalsRowMetadata(item):null},onRowCountChanged:onRowCountChanged,onRowsChanged:onRowsChanged,onPagingInfoChanged:onPagingInfoChanged})},Aggregators:{Avg:function(field){this.field_=field,this.init=function(){this.count_=0,this.nonNullCount_=0,this.sum_=0},this.accumulate=function(item){var val=item[this.field_];this.count_++,null==val||""===val||isNaN(val)||(this.nonNullCount_++,this.sum_+=parseFloat(val))},this.storeResult=function(groupTotals){groupTotals.avg||(groupTotals.avg={}),0!=this.nonNullCount_&&(groupTotals.avg[this.field_]=this.sum_/this.nonNullCount_)}},Min:function(field){this.field_=field,this.init=function(){this.min_=null},this.accumulate=function(item){var val=item[this.field_];null==val||""===val||isNaN(val)||(null==this.min_||val<this.min_)&&(this.min_=val)},this.storeResult=function(groupTotals){groupTotals.min||(groupTotals.min={}),groupTotals.min[this.field_]=this.min_}},Max:function(field){this.field_=field,this.init=function(){this.max_=null},this.accumulate=function(item){var val=item[this.field_];null==val||""===val||isNaN(val)||(null==this.max_||val>this.max_)&&(this.max_=val)},this.storeResult=function(groupTotals){groupTotals.max||(groupTotals.max={}),groupTotals.max[this.field_]=this.max_}},Sum:function(field){this.field_=field,this.init=function(){this.sum_=null},this.accumulate=function(item){var val=item[this.field_];null==val||""===val||isNaN(val)||(this.sum_+=parseFloat(val))},this.storeResult=function(groupTotals){groupTotals.sum||(groupTotals.sum={}),groupTotals.sum[this.field_]=this.sum_}}}}}})}(jQuery);
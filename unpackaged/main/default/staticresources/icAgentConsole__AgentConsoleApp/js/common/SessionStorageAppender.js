function SessionStorageAppender(){}SessionStorageAppender.prototype=new log4javascript.Appender,SessionStorageAppender.prototype.layout=new log4javascript.NullLayout,SessionStorageAppender.prototype.threshold=log4javascript.Level.DEBUG,SessionStorageAppender.prototype.append=function(loggingEvent){var layout,formattedMessage,cnt,appender=this,removeOldLogMessages=function(limit){var pattern=/^icLog_/,count=0,key="",i=0,keyArray=[],icLogSize=0,icLogsSize=sessionStorage.getItem("icLogsSize");for(i=0;i<sessionStorage.length;i++)key=sessionStorage.key(i),!0===pattern.test(key)&&keyArray.push(parseInt(key.replace("icLog_","")));for(keyArray.sort(function(a,b){return a-b}),i=0;i<keyArray.length&&(key="icLog_"+keyArray[i],count++,icLogSize=sessionStorage.getItem(key).length/1024,icLogsSize=Math.abs(parseFloat(icLogsSize)-icLogSize),sessionStorage.setItem("icLogsSize",icLogsSize),sessionStorage.removeItem(key),!(count>=limit));i++);},calculateLogSize=function(key,msg){var icLogSize=msg.length/1024,icLogsSize=sessionStorage.getItem("icLogsSize");void 0!=icLogsSize&&null!=icLogsSize&&""!=icLogsSize&&(icLogSize=parseFloat(icLogsSize)+icLogSize),sessionStorage.setItem("icLogsSize",icLogSize),sessionStorage.setItem(key,msg),icLogSize>3072&&removeOldLogMessages(1e3)};try{var logCnt=(cnt=sessionStorage.getItem("logCount"),IC_Validation.isNotNullOrUndefinedString(cnt)?parseInt(cnt)+1:1),key="icLog_"+logCnt,formattedMesage=(layout=appender.getLayout(),formattedMessage=layout.format(loggingEvent),layout.ignoresThrowable()&&loggingEvent.exception&&(formattedMessage+=loggingEvent.getThrowableStrRep()),formattedMessage);calculateLogSize(key,formattedMesage)}catch(ex){removeOldLogMessages(1e3),calculateLogSize(key,formattedMesage)}finally{!function(logCnt){sessionStorage.setItem("logCount",logCnt)}(logCnt)}},SessionStorageAppender.prototype.toString=function(){return"SessionStorageAppender"},log4javascript.SessionStorageAppender=SessionStorageAppender;
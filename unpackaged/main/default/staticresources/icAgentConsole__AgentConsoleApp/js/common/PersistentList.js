jQuery,PersistentList=function(name){var list=[],listName=name+"_list",isDestroyed=!1;function persistList(){if(!0===isDestroyed)throw new Error("List has been destroyed");localStorage.setItem(listName,JSON.stringify(list))}function onListUpdate(e){if(e||(e=window.event),e.key===listName)try{list=IC_Common.parseJSON(localStorage.getItem(listName))}catch(e){}}function clone(o){return"object"==typeof o?IC_Common.parseJSON(JSON.stringify(o)):o}this.isEmpty=function(){return 0==list.length},this.forEach=function(f){if("function"!=typeof f)throw new Error("Invalid argument type. Expected function.");var i=0,newList=clone(list);for(i=0;i<newList.length&&!0!==f(i,newList[i]);i++);},this.add=function(item){list.push(clone(item)),persistList()},this.remove=function(item){if(0!=list.length){for(var i=list.length-1;i>=0;i--)this.equals(item,list[i])&&list.splice(i,1);persistList()}},this.contains=function(item){if(0==list.length)return!1;for(var i=0;i<list.length;i++)if(this.equals(i,list[i]))return!0;return!1},this.count=function(){return list.length},this.peek=function(){return list.length>0?clone(list[0]):void 0},this.clear=function(){list=[],persistList()},this.equals=function(a,b){return a===b},this.destroy=function(clearStorage){return isDestroyed=!0,window.removeEventListener?window.removeEventListener("storage",onListUpdate,!1):window.detachEvent("onstorage",onListUpdate),!0===clearStorage&&localStorage.removeItem(listName),null},function(){if(null==name||void 0==name||0===name.trim().length)throw new Error("List name is invalid");if(null!=localStorage.getItem(listName))try{list=IC_Common.parseJSON(localStorage.getItem(listName))}catch(e){persistList()}else persistList();window.addEventListener?window.addEventListener("storage",onListUpdate,!1):window.attachEvent("onstorage",onListUpdate)}()},String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")});
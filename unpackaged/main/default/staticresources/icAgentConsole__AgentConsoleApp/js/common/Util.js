!function($){var hasOwnProperty,hasDontEnumBug,dontEnums,dontEnumsLength;Object.keys||(Object.keys=(hasOwnProperty=Object.prototype.hasOwnProperty,hasDontEnumBug=!{toString:null}.propertyIsEnumerable("toString"),dontEnumsLength=(dontEnums=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"]).length,function(obj){if("object"!=typeof obj&&"function"!=typeof obj||null===obj)throw new TypeError("Object.keys called on non-object");var result=[];for(var prop in obj)hasOwnProperty.call(obj,prop)&&result.push(prop);if(hasDontEnumBug)for(var i=0;i<dontEnumsLength;i++)hasOwnProperty.call(obj,dontEnums[i])&&result.push(dontEnums[i]);return result})),Object.clone||(Object.clone=function(o){return"object"==typeof o?IC_Common.parseJSON(JSON.stringify(o)):o}),Array.indexOfElement||(Array.indexOfElement=function(arr,f){"use strict";var len=arr.length;if(null!==typeof f&&"function"==typeof f)for(var i=0;i<len;i++)if(f(i,arr[i]))return i;return-1}),jQuery.fn.placeholder=function(placeholdertext){""===$(this).val()&&($(this).val(placeholdertext),$(this).addClass("addPlaceHolderColor")),$(this).on("focus",function(){$(this).val()===placeholdertext&&($(this).val(""),$(this).removeClass("addPlaceHolderColor"),$(this).addClass("addTextColor"),$(this).attr("spellcheck","true"))}).on("focusout",function(){""===$(this).val()&&($(this).val(placeholdertext),$(this).removeClass("addTextColor"),$(this).addClass("addPlaceHolderColor"),$(this).attr("spellcheck","false"))}),$(this).on("click",function(){$(this).val()===placeholdertext&&($(this).val(""),$(this).removeClass("addPlaceHolderColor"),$(this).addClass("addTextColor"),$(this).attr("spellcheck","true"))})},jQuery.fn.insertAt=function(index,$parent){return this.each(function(){0===index?$parent.prepend(this):$parent.children().eq(index-1).after(this)})},jQuery.fn.hoverfn=function(mouseEnterFn,mouseLeaveFn){return this.on("mouseenter",mouseEnterFn).on("mouseleave",mouseLeaveFn)},jQuery.fn.showfn=function(){var nodeName,temp,displayVal;this.show(),this.each(function(index,elem){""!==jQuery.css(elem,"display")&&jQuery.contains(elem.ownerDocument,elem)||(nodeName=elem.nodeName,temp=document.body.appendChild(document.createElement(nodeName)),displayVal=jQuery.css(temp,"display"),temp.parentNode.removeChild(temp),displayVal=displayVal||"block",$(elem).css("display",displayVal))})},Array.prototype.contains=function(f){"use strict";var t=Object(this),len=t.length;if(null!==typeof f&&"function"==typeof f)for(var i=0;i<len;i++)if(!0===f(i,t[i]))return!0;return!1},Array.prototype.remove=function(f){"use strict";if(null!==typeof f&&"function"==typeof f)for(var i=this.length-1;i>=0;i--)if(!0===f(i,this[i]))return this.splice(i,1),!0;return!1},Array.prototype.addOrUpdate=function(o,f){"use strict";var t=Object(this),len=t.length;if(void 0!==o&&null!==o&&"function"==typeof f){for(var i=0;i<len;i++)if(!0===f(t[i],o))return t[i]=o,!0;return t.push(o),!0}return!1},Array.prototype.isNewObject=function(o,f){"use strict";var t=Object(this),len=t.length;if(void 0!==o&&null!==o&&"function"==typeof f){for(var i=0;i<len;i++)if(!0===f(t[i],o))return!1;return!0}return!1},Array.prototype.indexOfKey=function(searchKey,value){"use strict";for(var i=0,length=this.length;i<length;i++)if(this[i].hasOwnProperty(searchKey)&&this[i][searchKey]==value)return i;return-1},String.prototype.width=function(){var lengthTextDom=$("#renderTextSize");return lengthTextDom&&0!==lengthTextDom.length||(lengthTextDom=$('<div id="renderTextSize"/>').addClass("renderTextSize").appendTo("Body")),lengthTextDom.text(this).width()},String.prototype.replaceAll=function(search,replacement){return this.split(search).join(replacement)},Date.prototype.isDSTzone=function(){var jan=new Date(this.getFullYear(),0,1),jul=new Date(this.getFullYear(),6,1),stdTimezoneOffset=Math.max(jan.getTimezoneOffset(),jul.getTimezoneOffset());return this.getTimezoneOffset()<stdTimezoneOffset},log4javascript.getLevelByName=function(name){if(IC_Validation.isNullOrEmpty(name))return log4javascript.Level.ERROR;switch(name.toUpperCase()){case"ALL":return log4javascript.Level.ALL;case"TRACE":return log4javascript.Level.TRACE;case"DEBUG":return log4javascript.Level.DEBUG;case"INFO":return log4javascript.Level.INFO;case"WARN":return log4javascript.Level.WARN;case"ERROR":return log4javascript.Level.ERROR;case"FATAL":return log4javascript.Level.FATAL;case"OFF":return log4javascript.Level.OFF;default:throw new Error("Invalid Log Level name")}},IC_Util={LogLevel:"ERROR",LogLevelEvent:"IC_LogLevelChangeEvent",Disposition:"Disposition",SecondaryDisposition:"SecondaryDisposition",DispositionPayload:"DispositionPayload",WhatId:"WhatId",WhoId:"WhoId",Notes:"Notes",SoftPhone:"SoftPhone",WebRTC:"WebRTC",SalesforceOmnichannelRouting:"salesforce-omnichannel-routing"},IC_Validation={isNullOrEmptyOrEmptySpace:function(data){return void 0===data||null===data||""===$.trim(data)},isNullOrEmpty:function(data){return void 0===data||null===data||""===data},isNotNullOrUndefinedString:function(data){return void 0!==data&&null!==data&&""!==data&&"undefined"!==data&&"null"!==data},isNotNullOrEmpty:function(data){return void 0!==data&&null!==data&&""!==data},isNotNull:function(data){return void 0!==data&&null!==data&&""!==data},isNotNullOrEmptyArray:function(data){return!(void 0===data||null===data||""===data||"object"!=typeof data||!this.isNumber(data.length)||0===data.length)},isNumber:function(n){return!isNaN(parseFloat(n))&&isFinite(n)},isValidObject:function(o){return null!==o&&"object"==typeof o},isValidFunction:function(f){return null!==f&&"function"==typeof f},isValidDialNumber:function(data){return!!/^(\+?)([0-9#\*])+$/.test(data)},isValidEmail:function(data){return/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/.test(data)},isValidPhoneNumber:function(data){return!!(/^(\+?)([0-9#\*])+$/.test(data)&&data.length<=30)},isValidStationId:function(data){return/^[0-9]+$/.test(data)},isValidURL:function(url){return/((?:https?\:\/\/|www\.)(?:[-a-z0-9]+\.)*[-a-z0-9]+.*)/i.test(url)},isJSON:function(target){try{var parsedData=JSON.parse(target);return parsedData&&"object"==typeof parsedData}catch(e){}return!1}},IC_Common={loggers:[],_timeZones:[],MS_IANA_MapperList:null,generateUniqueId:function(prefix){function rand(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return prefix+"_"+rand()+rand()+"-"+rand()+"-"+rand()},generateChatMessageId:function(msg,time){return(msg+(time=time.substring(0,19))).hashCode()},discardElement:function(element){var garbageBin=document.getElementById("IELeakGarbageBin");garbageBin||((garbageBin=document.createElement("DIV")).id="IELeakGarbageBin",garbageBin.style.display="none",document.body.appendChild(garbageBin)),garbageBin.appendChild(element),garbageBin.innerHTML=""},phoneMask:function(phoneNum){return phoneNum.replace(/\D+/g,"").replace(/([0-9]{1,3})([0-9]{3})([0-9]{4}$)/gi,"($1) $2-$3")},textMask:function(text,width){var textWidth,str,lengthTextDom=$("#renderTextSize"),charLen=0,len=0;return void 0!==text&&(len=text.length),lengthTextDom||(lengthTextDom=$('<div id="renderTextSize"/>').addClass("renderTextSize").appendTo("Body")),width<(textWidth=lengthTextDom.text(text).width())?(charLen=textWidth/len,charLimit=Math.round(width/charLen),str=text.substring(0,Math.abs(charLimit-4))+"..."):str=text,lengthTextDom.text(""),str},htmlEncode:function(value){var textDom=$("#renderTextSize");return textDom||(textDom=$('<div id="renderTextSize"/>').addClass("renderTextSize").appendTo("Body")),textDom.html(value),textDom.text()},secondsToTime:function(seconds){var hours,mins,secs,time=":00";return null!==seconds&&void 0!==seconds&&"number"==typeof seconds?seconds<=0?time:(hours=Math.floor(seconds/3600),mins=Math.floor(seconds/60)%60,secs=seconds%60,time=hours>0?hours+":"+(mins>9?mins:"0"+mins)+":"+(secs>9?secs:"0"+secs):mins<=0?":"+(secs>9?secs:"0"+secs):mins+":"+(secs>9?secs:"0"+secs)):time},getMilliseconds:function(duration){var milliseconds=0,matches=duration.match(/(-)?P(?:([\.,\d]+)Y)?(?:([\.,\d]+)M)?(?:([\.,\d]+)W)?(?:([\.,\d]+)D)?T(?:([\.,\d]+)H)?(?:([\.,\d]+)M)?(?:([\.,\d]+)S)?/);return milliseconds+=void 0===matches[5]?0:24*matches[5]*36e5,milliseconds+=void 0===matches[6]?0:36e5*matches[6],milliseconds+=void 0===matches[7]?0:6e4*matches[7],milliseconds+=void 0===matches[8]?0:1e3*matches[8]},toBoolean:function(val){return null!==val&&void 0!==val&&"true"===val.toLowerCase()},toNumber:function(val){return null!==val&&void 0!==val&&!1===isNaN(val)?parseInt(val):0},enableButton:function(btnDivDOM,btnImgDOM,imgUri){btnDivDOM.removeClass("btnDivDisable btnDivSelect"),btnDivDOM.hasClass("btnDivEnable")||btnDivDOM.addClass("btnDivEnable"),IC_Validation.isNotNull(btnImgDOM)&&btnImgDOM.attr("src",imgUri)},disableButton:function(btnDivDOM,btnImgDOM,imgUri){btnDivDOM.removeClass("btnDivEnable btnDivSelect"),btnDivDOM.hasClass("btnDivDisable")||btnDivDOM.addClass("btnDivDisable"),IC_Validation.isNotNull(btnImgDOM)&&btnImgDOM.attr("src",imgUri)},selectButton:function(btnDivDOM,btnImgDOM,imgUri){btnDivDOM.removeClass("btnDivDisable"),btnDivDOM.hasClass("btnDivSelect")||btnDivDOM.addClass("btnDivSelect"),IC_Validation.isNotNull(btnImgDOM)&&btnImgDOM.attr("src",imgUri)},unselectButton:function(btnDivDOM,btnImgDOM,imgUri){btnDivDOM.removeClass("btnDivSelect"),IC_Validation.isNotNull(btnImgDOM)&&btnImgDOM.attr("src",imgUri)},isButtonEnabled:function(btnDivDOM){return!!IC_Validation.isNotNullOrEmpty(btnDivDOM)&&!btnDivDOM.hasClass("btnDivDisable")},isButtonSelected:function(btnDivDOM){return!!IC_Validation.isNotNullOrEmpty(btnDivDOM)&&btnDivDOM.hasClass("btnDivSelect")},mouseEnterButton:function(){var btnDiv=$(this);(IC_Common.isButtonEnabled(btnDiv)||IC_Common.isButtonSelected(btnDiv))&&btnDiv.addClass("btnDivHover")},mouseLeaveButton:function(){$(this).removeClass("btnDivHover")},formQueryString:function(map){var queryString="",key="";for(key in map)map.hasOwnProperty(key)&&(""!==queryString&&(queryString+="&"),queryString+=key+"="+encodeURIComponent(map[key]));return""===queryString?queryString:"?"+queryString},appendQueryString:function(url,map){var queryString="",key="";for(key in map)map.hasOwnProperty(key)&&(""!==queryString&&(queryString+="&"),queryString+=key+"="+encodeURIComponent(map[key]));return-1===url.indexOf("?")?url+=""===queryString?queryString:"?"+queryString:url+=""===queryString?queryString:"&"+queryString,url},toISODateString:function(d){function pad(n){return n<10?"0"+n:n}return d.getUTCFullYear()+"-"+pad(d.getUTCMonth()+1)+"-"+pad(d.getUTCDate())+"T"+pad(d.getUTCHours())+":"+pad(d.getUTCMinutes())+":"+pad(d.getUTCSeconds())+"Z"},toUTCDateString:function(dateTime){function getIn2Digits(value){return value<10?"0"+value:value}var year=dateTime.getUTCFullYear(),month=getIn2Digits(dateTime.getUTCMonth()+1),date=getIn2Digits(dateTime.getUTCDate()),hours=getIn2Digits(dateTime.getUTCHours()),minutes=getIn2Digits(dateTime.getUTCMinutes());return"{0}-{1}-{2}T{3}:{4}:00.000Z".format(year,month,date,hours,minutes)},toSFDateString:function(d){function pad(n){return n<10?"0"+n:n}return d.getFullYear()+"-"+pad(d.getMonth()+1)+"-"+pad(d.getDate())+" "+pad(d.getHours())+":"+pad(d.getMinutes())+":"+pad(d.getSeconds())},toShortDateTimeString:function(date){var hrs=(date=date||new Date).getHours(),ampm=hrs>=12?"pm":"am";return hrs=(hrs%=12)||12,"MM/dd/yyyy HH:min ampm".replace("yyyy",date.getFullYear()).replace("dd",IC_Common.twoDigitText(date.getDate())).replace("MM",IC_Common.twoDigitText(date.getMonth()+1)).replace("HH",IC_Common.twoDigitText(hrs)).replace("min",IC_Common.twoDigitText(date.getMinutes())).replace("ampm",ampm)},toMailShortDateTimeString:function(date){var hrs=(date=date||new Date).getHours(),ampm=hrs>=12?"pm":"am";return hrs=(hrs%=12)||12,"HH:minampm MM/dd/yyyy".replace("yyyy",date.getFullYear()).replace("dd",IC_Common.twoDigitText(date.getDate())).replace("MM",IC_Common.twoDigitText(date.getMonth()+1)).replace("HH",IC_Common.twoDigitText(hrs)).replace("min",IC_Common.twoDigitText(date.getMinutes())).replace("ampm",ampm)},getLocaleTime:function(time,locale,langCode){var a,b,today=new Date;return a=(today=new Date(time).format(locale).split(" "))[1],b=IC_Validation.isNotNullOrUndefinedString(today[2])?" "+today[2]:"",this.getAMPMLocale(a,langCode)+this.getAMPMLocale(b,langCode)},getEpochTimeLocale:function(epoch,offset,locale,langCode){var a,b,today=new Date;return epoch+=6e4*today.getTimezoneOffset()+offset,a=(today=new Date(epoch).format(locale).split(" "))[1],b=IC_Validation.isNotNullOrUndefinedString(today[2])?" "+today[2]:"",this.getAMPMLocale(a,langCode)+this.getAMPMLocale(b,langCode)},toSalesforceTimezone:function(date,offset){var today=new Date,epoch=date.getTime();return epoch+=6e4*today.getTimezoneOffset()+offset,new Date(epoch)},selectTimeZone:function(localeTimeFormat,localeCode){return this.loadMapperList=function(callback,resourceBase){var that=this;$.ajax({url:resourceBase+"/js/data/windowsZones.xml",method:"get",dataType:"text",success:function(data){var parsedData=$.parseXML(data);that.MS_IANA_MapperList=$(parsedData),callback()},error:function(){that.MS_IANA_MapperList=[],callback()}})},this.loadTimeIntervals=function(timePickerObj){var dispTime,options=[],currentTime=new Date;currentTime.setHours(0),currentTime.setMinutes(0);for(var i=0,intervalInc=0;i<96;i++)currentTime.setHours(0),currentTime.setMinutes(intervalInc),dispTime=this.getDisplayTime(currentTime),options.push({id:dispTime,value:dispTime}),intervalInc+=15;timePickerObj.comboBox("setStore",options)},this.setTimezones=function(timeZoneObj,timeZones){this._timeZones=[];for(var timezone=null,i=0,length=timeZones.length;i<length;i++)timezone=timeZones[i],this._timeZones.push({id:timezone.offset,value:timezone.displayName,standardName:timezone.standardName});timeZoneObj.comboBox("setStore",this._timeZones)},this.setUserTimeZone=function(timeZoneObj,resourceBase){var that=this,tz=jstz.determine().name();function findIANA_Match(){var standardTimeZoneName,itemToSelect,targetTZ=that.MS_IANA_MapperList.find('mapZone[type="'+tz+'"]');null!=targetTZ?(standardTimeZoneName=targetTZ.attr("other"),(itemToSelect=findinTimeZonesList("standardName",standardTimeZoneName))?timeZoneObj.comboBox("setSelectedItem",itemToSelect):selectClientTimeZoneByOffset()):selectClientTimeZoneByOffset()}function selectClientTimeZoneByOffset(){var timeZoneOffset=function(){var now=new Date,offset=now.getTimezoneOffset();now.isDSTzone()&&(offset+=60);return offset}(),hours=Math.abs(parseInt(timeZoneOffset/60,10)),minutes=Math.abs(parseInt(timeZoneOffset%60,10));hours<10&&(hours="0"+hours),minutes<10&&(minutes="0"+minutes);var itemToSelect=findinTimeZonesList("id",(timeZoneOffset>0?"-":"")+hours+":"+minutes);timeZoneObj.comboBox("setSelectedItem",itemToSelect)}function findinTimeZonesList(property,value){for(var timeZones=that._timeZones,i=0,length=timeZones.length;i<length;i++)if(timeZones[i][property]===value)return timeZones[i]}null==that.MS_IANA_MapperList?that.loadMapperList(findIANA_Match,resourceBase):findIANA_Match()},this.getIANAName=function(timeZoneObj){var standardName=timeZoneObj.comboBox("getSelectedItem").standardName;if(null!=this.MS_IANA_MapperList){var name=this.MS_IANA_MapperList.find("mapZone[other='"+standardName+"']").attr("type");return name?name.split(" ")[0]:""}},this.getDisplayTime=function(date){return this.getAMPMLocale(date.format(localeTimeFormat),localeCode)},this.isValidTimeSelected=function(timeValue,time){var parts,ampm={ar:{AM:"م",PM:"ص"},sq:{AM:".PD",PM:".MD"},zh:{AM:"上午",PM:"下午"},el:{AM:"πμ",PM:"μμ"},hi:{AM:"पूर्वाह्न",PM:"अपराह्न"},ko:{AM:"오전",PM:"오후"},th:{AM:"น",PM:"น"}},langCode=localeCode,isPM=!1;if(langCode=langCode.substr(0,2),this.localeTimeReg.test(timeValue))if(this.is12HrFormat?(ampmVal=ampm.hasOwnProperty(langCode)?ampm[langCode]:{AM:"AM",PM:"PM"},RegExp(ampmVal.PM,"i").test(timeValue)&&(isPM=!0),parts=(parts=timeValue.replace(RegExp(ampmVal.AM,"i"),"").replace(RegExp(ampmVal.PM,"i"),"")).split(/[:.]/)):parts=timeValue.split(/[:.]/),time.hours=parseInt(parts[0],10),time.minutes=parseInt(parts[1],10),this.is12HrFormat){if(time.hours>0&&time.hours<=12&&time.minutes>=0&&time.minutes<=59)return isPM?12!==time.hours&&(time.hours=12+time.hours):time.hours=time.hours%12,!0}else if(time.hours>=0&&time.hours<=23&&time.minutes>=0&&time.minutes<=59)return!0;return!1},this.saveSelectedTimeForValidation=function(time){var ampm={ar:{AM:"م",PM:"ص"},sq:{AM:".PD",PM:".MD"},zh:{AM:"上午",PM:"下午"},el:{AM:"πμ",PM:"μμ"},hi:{AM:"पूर्वाह्न",PM:"अपराह्न"},ko:{AM:"오전",PM:"오후"},th:{AM:"น",PM:"น"}},en_ampmVal_AM="AM",en_ampmVal_PM="PM";if(langCode=localeCode,langCode=langCode.substr(0,2),ampm.hasOwnProperty(langCode)){if(ampmVal=ampm[langCode],0===time.search(RegExp(ampmVal.AM,"i"))||0===time.search(RegExp(ampmVal.PM,"i"))){var appendSpace=" "==time.replace(RegExp(ampmVal.AM,"i"),"").replace(RegExp(ampmVal.PM,"i"),"")[0];this.localeTimeReg=new RegExp("^"+ampmVal.AM+"|"+ampmVal.PM+(appendSpace?" ":"")+"[0-9]{1,2}[:|.][0-9]{1,2}$","i"),this.is12HrFormat=!0}else if(time.search(RegExp(ampmVal.AM,"i"))>0||time.search(RegExp(ampmVal.PM,"i"))>0){var temp=time.replace(RegExp(ampmVal.AM,"i"),"").replace(RegExp(ampmVal.PM,"i"),""),prependSpace=" "==temp[temp.length-1];this.localeTimeReg=new RegExp("^[0-9]{1,2}[:|.][0-9]{1,2}"+(prependSpace?" ":"")+ampmVal.AM+"|"+ampmVal.PM+"$","i"),this.is12HrFormat=!0}}else-1===time.search(RegExp(en_ampmVal_AM,"i"))&&-1===time.search(RegExp(en_ampmVal_PM,"i"))?(this.localeTimeReg=new RegExp("^[0-9]{1,2}[:|.][0-9]{1,2}$","i"),this.is12HrFormat=!1):(this.localeTimeReg=new RegExp("[0-9]{1,2}[:|.][0-9]{1,2} [A|P]M","i"),this.is12HrFormat=!0)},this.getHoursMinutesbyOffset=function(timeZoneObj,dateTime){var targetZoneID=timeZoneObj.comboBox("getSelectedItem").id,hoursMinsSplit=targetZoneID.split(":"),hours=parseFloat(hoursMinsSplit[0]),minutes=parseFloat(hoursMinsSplit[1]),dif="-"!==targetZoneID[0]?"+":"-";return dateTime.isDSTzone()&&(hours+=1),{hours:hours=Math.abs(hours),minutes:minutes,dif:dif}},this},timeDiffFromNow:function(epoch){return parseInt((.001*(new Date).getTime()).toFixed(0))-epoch},timeDiff:function(time1,time2){return parseInt((.001*time1).toFixed(0))-parseInt((.001*time2).toFixed(0))},parseUrl:function(url){var urlDom=document.createElement("a");return urlDom.href=url,{protocol:urlDom.protocol,host:urlDom.host,hostname:urlDom.hostname,port:urlDom.port,path:urlDom.pathname,search:urlDom.search,hash:urlDom.hash}},getParameterByName:function(queryStr,name){name=name.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var results=new RegExp("[\\?&]"+name+"=([^&#]*)").exec(queryStr);return null==results?"":decodeURIComponent(results[1].replace(/\+/g," "))},getCurrentTime:function(){var today,hrs,mts,ampm;return hrs=(today=new Date).getHours(),mts=today.getMinutes(),today.getSeconds(),ampm=hrs>=12?"pm":"am",(hrs=(hrs%=12)||12)+":"+(mts=mts<10?"0"+mts:mts)+" "+ampm},getLocaleCurrentTime:function(langCode){var today,hrs,mts,secs,ampm,curTime;return hrs=(today=new Date).getHours(),mts=today.getMinutes(),secs=today.getSeconds(),ampm=hrs>=12?"pm":"am",curTime=(hrs=(hrs%=12)||12)+":"+(mts=mts<10?"0"+mts:mts)+":"+(secs=secs<10?"0"+secs:secs)+" "+ampm,curTime=this.getAMPMLocale(curTime,langCode)},differentLocaleAMPM:{ar:{AM:"م",PM:"ص"},sq:{AM:".PD",PM:".MD"},zh:{AM:"上午",PM:"下午"},el:{AM:"πμ",PM:"μμ"},hi:{AM:"पूर्वाह्न",PM:"अपराह्न"},ko:{AM:"오전",PM:"오후"},th:{AM:"น",PM:"น"}},getAMPMLocale:function(val,langCode){var ampm=this.differentLocaleAMPM;return langCode=langCode.substr(0,2),val=val.toUpperCase(),IC_Validation.isNotNullOrUndefinedString(ampm[langCode])?val.replace("AM",ampm[langCode].AM).replace("PM",ampm[langCode].PM):val},getCurrentTimeLocale:function(locale,langCode){var a,b,today;return a=(today=(new Date).format(locale).split(" "))[1],b=IC_Validation.isNotNullOrUndefinedString(today[2])?" "+today[2]:"",this.getAMPMLocale(a,langCode)+this.getAMPMLocale(b,langCode)},getMonday:function(date){var day=(date=date||new Date).getDay(),diff=date.getDate()-day+(0==day?-6:1);return new Date(date.setDate(diff))},toShortDateString:function(date){date=date||new Date;return"MM/dd/yyyy".replace("yyyy",date.getFullYear()).replace("dd",IC_Common.twoDigitText(date.getDate())).replace("MM",IC_Common.twoDigitText(date.getMonth()+1))},toDateTimeString:function(date){var HH=(date=date||new Date).getHours(),mm=date.getMinutes(),ampm=HH>11?"PM":"AM",hh=HH%12;return hh=hh||12,IC_Common.toShortDateString(date)+" "+"hh:mm tt".replace("hh",IC_Common.twoDigitText(hh)).replace("mm",IC_Common.twoDigitText(mm)).replace("tt",ampm)},twoDigitText:function(number){return(number<10?"0":"")+number},setTextWithEllipsis:function(domObj,text,widthLimit,textStyle){var textWidth,lengthTextDom=$("#renderTextSize");0==lengthTextDom.length&&(lengthTextDom=$('<div id="renderTextSize"/>').addClass("renderTextSize").appendTo("Body")),IC_Validation.isNotNullOrUndefinedString(textStyle)?(lengthTextDom.attr("style","font-size:"+domObj.css("font-size")+";font-family:"+domObj.css("font-family")),textWidth=lengthTextDom.text(text).width(),lengthTextDom.removeAttr("style")):textWidth=lengthTextDom.text(text).width(),domObj.text(text),textWidth>widthLimit||0===textWidth?(domObj.attr("title",text),domObj.addClass("textEllipsis"),domObj.css("width",widthLimit+"px")):(domObj.attr("title",""),domObj.removeClass("textEllipsis")),lengthTextDom.text("")},getTextWidth:function(text,fontStyle){var textWidth,lengthTextDom=$("#renderTextSize");return lengthTextDom||(lengthTextDom=$('<div id="renderTextSize"/>').addClass("renderTextSize").appendTo("Body")),lengthTextDom.attr("style","font-size:"+fontStyle["font-size"]+";font-family:"+fontStyle["font-family"]),textWidth=lengthTextDom.text(text).width(),lengthTextDom.removeAttr("style"),lengthTextDom.text(""),textWidth},isIE11:function(){return"11"==this.getIEVersion()},isEdge:function(){return/Edge/.test(navigator.userAgent)},isSupportedIEVersion:function(){return this.isIE11()},isSafari:function(){return-1!=navigator.userAgent.toLowerCase().indexOf("safari")&&-1==navigator.userAgent.toLowerCase().indexOf("chrome")},getIEVersion:function(){var ua=window.navigator.userAgent;if(ua.indexOf("Trident/")>0){var rv=ua.indexOf("rv:");return parseInt(ua.substring(rv+3,ua.indexOf(".",rv)),10)}return!1},createAnchor:function(url){var anchor=document.createElement("a");return anchor.href=url,anchor},isSFDomain:function(hostname){return!!(/\.force\.com$/i.test(hostname)||/\.salesforce\.com/i.test(hostname)||/\.visualforce\.com$/i.test(hostname))},removePlaceholderText:function(text,placeholderText){return text===placeholderText?"":text},getSFRelativeUrl:function(anchor){try{var hostname,pathname=anchor.pathname;return/\.force\.com$/i.test(anchor.hostname)&&(hostname="apex/"+(hostname=anchor.hostname.slice(0,anchor.hostname.indexOf(".")))+"__",pathname=pathname.replace(/\/apex\//i,hostname)),pathname+anchor.search}catch(e){return logger.error("getRelativeUrl failed:",e),""}},isSameDay:function(date1,date2){if(null===date1||void 0===date1)throw new Error("Invalid argument: date1");if(null===date2||void 0===date2)throw new Error("Invalid argument: date2");return date1.getUTCFullYear()===date2.getUTCFullYear()&&date1.getMonth()===date2.getMonth()&&date1.getDay()===date2.getDay()},sortWithKey:function(lists,attrName){return lists.sort(function(a,b){var x=parseInt(a[attrName]),y=parseInt(b[attrName]);return x<y?-1:x>y?1:0}),lists},trimUrl:function(url){if(null===url||void 0===url||"undefined"===url)throw new Error("Invalid argument: url");if("string"!=typeof url)throw TypeError("Invalid argumnet type: url"+url);var len=url.length,lastSlashIndex=url.lastIndexOf("/");return len>2&&lastSlashIndex===len-1&&(url=url.substring(0,lastSlashIndex)),url},getLogger:function(loggerName){var logger=log4javascript.getLogger(loggerName),layout=new log4javascript.PatternLayout("%d{yyyy-MM-dd HH:mm:ss.SSS} %-5p [%c] %m%n"),browserConsoleAppender=new log4javascript.BrowserConsoleAppender,sessionStorageAppender=new log4javascript.SessionStorageAppender;return sessionStorageAppender.setLayout(layout),browserConsoleAppender.setLayout(layout),sessionStorageAppender.setThreshold(log4javascript.Level.ALL),browserConsoleAppender.setThreshold(log4javascript.Level.ALL),logger.addAppender(sessionStorageAppender),logger.addAppender(browserConsoleAppender),IC_Validation.isNotNullOrUndefinedString(localStorage.icLogLevel)&&(IC_Util.LogLevel=localStorage.icLogLevel),logger.setLevel(log4javascript.getLevelByName(IC_Util.LogLevel)),this.loggers.push(logger),logger},parseEmailHtml:function(html){if(IC_Validation.isNotNullOrEmpty(html)){return unescape(html.replace(/\\u([\d\w]{4})/gi,function(match,grp){return String.fromCharCode(parseInt(grp,16))}))}},setCookie:function(cname,cvalue,exdays){var d=new Date;d.setTime(d.getTime()+24*exdays*60*60*1e3);var expires="expires="+d.toUTCString();document.cookie=cname+"="+cvalue+";"+expires},getCookie:function(cname){var i,name=cname+"=",ca=document.cookie.split(";");for(i=0;i<ca.length;i++){for(var c=ca[i];" "==c.charAt(0);)c=c.substring(1);if(-1!=c.indexOf(name))return c.substring(name.length,c.length)}return""},parseQueryString:function(queryString){var params={};try{if("string"!=typeof queryString)return params;if("?"===queryString.charAt(0)&&(queryString=queryString.slice(1)),0===queryString.length)return params;for(var pairs=queryString.split("&"),i=0;i<pairs.length;i++){var pair=pairs[i].split("=");params[pair[0]]=pair[1]?decodeURIComponent(pair[1]):null}}catch(e){logger.error("parseQueryString failed:",e)}return params},getFormatOtherInfo:function(otherInfoStr){var otherInfo={valueOne:[],valueTwo:[]},keyValue1=[],keyValue2=[];return otherInfoStr.match("]@/")?(keyValue1=(otherInfoStr=otherInfoStr.split("]@/"))[0].split("~|^"),(keyValue2=otherInfoStr[1].split("~|^"))[0]=keyValue2[0].replace("$Localized:",""),keyValue2[0]=void 0===IC_Localization[keyValue2[0]]?keyValue2[0]:IC_Localization[keyValue2[0]],IC_Validation.isNotNullOrUndefinedString(keyValue2[1])&&(keyValue2[1]=IC_Common.htmlEncode(keyValue2[1]))):keyValue1=otherInfoStr.split("~|^"),keyValue1[0]=keyValue1[0].replace("$Localized:",""),keyValue1[0]=void 0===IC_Localization[keyValue1[0]]?keyValue1[0]:IC_Localization[keyValue1[0]],IC_Validation.isNotNullOrUndefinedString(keyValue1[1])&&(keyValue1[1]=IC_Common.htmlEncode(keyValue1[1])),otherInfo.valueOne=keyValue1,otherInfo.valueTwo=keyValue2,otherInfo},replaceTag:function(tag){return{"&":"&amp;","<":"&lt;",">":"&gt;"}[tag]||tag},safeTagsReplace:function(str){return str.replace(/[&<>]/g,this.replaceTag)},blockScriptInjection:function(str){for(var scriptTag,spanElement=$("<span>").html(str),scriplets=$("script",spanElement),scriptAttributes="",i=0,length=scriplets.length;i<length;i++)scriptTag=scriplets[i],$.each(scriptTag.attributes,function(){scriptAttributes+=" "+this.name+"="+this.value}),scriptTag.outerHTML="&lt;script "+scriptAttributes+"&gt;"+scriptTag.innerHTML+"&lt;/script&gt;";return spanElement.html()},enterKeyPress:function(icon,callback){icon.off("keypress"),icon.on("keypress",function(e){13==e.which&&callback()})},setFocusToElement:function(elem,className){elem.on("focus",function(){elem.addClass(className)}).on("focusout",function(){elem.removeClass(className)})},setFocusToCloseIcon:function(closeDiv,closeIcon,closeDivCss,closeIconCss){closeDiv.on("focus",function(){closeDiv.addClass(closeDivCss),closeIcon.addClass(closeIconCss)}).on("focusout",function(){closeDiv.removeClass(closeDivCss),closeIcon.removeClass(closeIconCss)})},removeFocusFromCloseIcon:function(closeIcon,closeIconCss){closeIcon.hasClass(closeIconCss)&&closeIcon.removeClass(closeIconCss)},getLocalizedErrorMsg:function(msg){var lMsg=msg.toLowerCase(),invalidUser=IC_Localization.loginFailedErrorAttempt+" "+IC_Localization.pwdErrorAttempt,invalidPhone=IC_Localization.loginFailedErrorAttempt+" "+IC_Localization.phoneErrorAttempt,remoteError=IC_Localization.loginFailedErrorAttempt+" "+IC_Localization.remoteErrorAttempt,saveError=IC_Localization.loginFailedErrorAttempt+" "+IC_Localization.userSettingErrorAttempt,authenticateError=IC_Localization.loginFailedErrorAttempt+" "+IC_Localization.authenticateErrorAttempt,timeoutError=IC_Localization.loginFailedErrorAttempt+" "+IC_Localization.timeout,phoneStationIDUseError=IC_Localization.loginFailedErrorAttempt+" "+IC_Localization.phoneStationIDUse,authenticateTimeoutError=IC_Localization.loginFailedErrorAttempt+" "+IC_Localization.authenticateErrorAttempt+" "+IC_Localization.timeoutError,pwdExpired=IC_Localization.loginFailedErrorAttempt+" "+IC_Localization.pwdExpired,openIDConnectConfigError=IC_Localization.loginFailedErrorAttempt+" "+IC_Localization.openIDConnectConfigurationNotValidated,ssoLoginError=IC_Localization.loginFailedErrorAttempt;return-1!==lMsg.indexOf("invalid username or bad password")?invalidUser:-1!==lMsg.indexOf("invalidphonenumberorstation")?invalidPhone:-1!==lMsg.indexOf("unauthorized endpoint")?remoteError:-1!==lMsg.indexOf("stacktrace :")&&-1!==lMsg.indexOf("message :")&&-1!==lMsg.indexOf("read timed out")?authenticateTimeoutError:-1!==lMsg.indexOf("authenticate failure :")&&-1!==lMsg.indexOf("stacktrace :")&&-1!==lMsg.indexOf("message :")?authenticateError:-1!==lMsg.indexOf("stacktrace :")&&-1!==lMsg.indexOf("message :")?saveError:-1!==lMsg.indexOf("timeout")?timeoutError:-1!==lMsg.indexOf("phonenumberorstationinuse")?phoneStationIDUseError:-1!==lMsg.indexOf("your password has expired")?pwdExpired:-1!==lMsg.indexOf("openidconnectconfigurationnotvalidated")?openIDConnectConfigError:-1!==lMsg.indexOf("ssologinfailed")?ssoLoginError:msg},parseJSON:function(data){return IC_Validation.isNotNullOrUndefinedString(data)?JSON.parse(data):null}},IC_Request={},$(document).on(IC_Util.LogLevelEvent,function(){if(IC_Validation.isNotNullOrEmptyArray(IC_Common.loggers))for(var i=0;i<IC_Common.loggers.length;i++)IC_Common.loggers[i].setLevel(log4javascript.getLevelByName(IC_Util.LogLevel))}),String.prototype.format||(String.prototype.format=function(){var args=arguments;return this.replace(/\{(\d+)\}/g,function(match,number){return void 0!==args[number]?args[number]:match})}),String.prototype.hashCode||(String.prototype.hashCode=function(){var i,hash=0;if(0===this.length)return hash;for(i=0;i<this.length;i++)hash=(hash<<5)-hash+this.charCodeAt(i),hash|=0;return hash})}(jQuery);var globalTimer=function(){var module={callbacks:{}};return setInterval(function(){var callbacks=module.callbacks;for(var func in callbacks)callbacks.hasOwnProperty(func)&&callbacks[func]()},1e3),module}();
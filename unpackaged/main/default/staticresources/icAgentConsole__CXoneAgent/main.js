(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{0:function(n,t,e){n.exports=e("gmml")},"59Rt":function(n,t){Date.prototype.isDSTzone=function(){var n=new Date(this.getFullYear(),0,1),t=new Date(this.getFullYear(),6,1),e=Math.max(n.getTimezoneOffset(),t.getTimezoneOffset());return this.getTimezoneOffset()<e}},gmml:function(n,t,e){"use strict";e.r(t);var l,o=e("lyMf"),i={production:!0,authUrl:location.protocol+"//"+location.host+"/apex/authenticate2"},s=e("kS7W"),c=e("qIyx"),a=e("Fpf7"),r=e.n(a),u=e("Oeku"),d=e("+X4q"),g={AuthToken:"authToken",AuthErrors:"authErr",AuthSettings:"authConfig",AuthIdpConfig:"authIdp",AppLogs:"appLogs",QueryString:"qrystr",SessionId:"sessionId",AgentSessionInfo:"agentSessionInfo",AgentLeg:"agentLeg",LocalTime:"localTime",ServerTime:"serverTime",StateInfo:"stateInfo",AgentMessages:"agentMsgs",BusinessUnit:"businessUnit",Permissions:"permissions",AgentSettings:"agentSettings",AgentInfo:"agentInfo",UnavailableCodes:"unavailableCodes",DisableAutoLogin:"disableAutoLogin",InitParam:"initParam",RefreshTokenError:"refreshTokenError",RouterUrl:"routerUrl",SfResult:"sfResult",SearchResult:"searchResult",SFSessionId:"sfSessionId",AgentSkillList:"agentSkillList",Cx1Tab:"cx1Tab",IsCx1Open:"isCX1Open",WfoUrl:"wfoUrl",TimezonesList:"timezonesList",SkillMediaType:"skillMediaType",AgentMuted:"agentMuted",CommitmentReminderData:"commitmentReminderData",LastAttentedContactId:"lastAttentedContactId",embeddedPagesList:"embeddedPagesList",AgentName:"agentName",ClickToDialDetail:"clickToDialDetail",SkillQueueMap:"skillQueueMap",SkillQueueMapUpdatedTime:"skillQueueMapUpdatedTime",LastSkillQueuePollTime:"lastSkillQueuePollTime",ContactSearchOpen:"contactSearchOpen",ConnectedAcServer:"connectedAcServer",AgentLegCall:"agentLegCall",SoftphoneVolume:"softphoneVolume",AgentIndicators:"agentIndicators",ContactIndicators:"contactIndicators",homeTabChangeTime:"homeTabChangeTime",HomeTabNotification:"homeTabNotification",FirstCommitment:"firstCommitment",IsMaster:"isMaster",HasMaster:"hasMaster",MasterUnloadTime:"masterUnloadTime",HighlightMaster:"highlightMaster",MasterCount:"masterCount",PersistentListName:"persistentList",Contacts:"contacts",MCHSetting:"mchSetting",MCHRequestContactEnabled:"mchRequestContactEnabled",DispositionResult:"dispositionResult",SearchedContactId:"searchedContactId",BrandingProfile:"brandingProfile",OAuthInfo:"OAuthInfo"},h=function(){function n(){}return n.prototype.parseData=function(n){this.accessToken=n.access_token?n.access_token:n.accessToken,this.refreshToken=n.refresh_token?n.refresh_token:n.refreshToken,this.expiresIn=n.expires_in?n.expires_in:n.accessTokenExpiry,this.accessTokenTime=(new Date).getTime()},n}(),p=function(){function n(){}return n.prototype.get=function(n){return localStorage.getItem(n)},n.prototype.set=function(n,t){return localStorage.setItem(n,t)},n.prototype.remove=function(n){return localStorage.removeItem(n)},n.prototype.clear=function(){return localStorage.clear()},n.ngInjectableDef=Object(o.T)({factory:function(){return new n},token:n,providedIn:"root"}),n}(),f=function(){function n(){}return n.prototype.isNotNullOrUndefined=function(n){return"null"!==n&&null!==n&&"undefined"!==n&&void 0!==n},n.prototype.isNotNullOrEmpty=function(n){return!(!this.isNotNullOrUndefined(n)||""===n)},n.prototype.isValidStationId=function(n){return/^[0-9]+$/.test(n)},n.prototype.isValidPhoneNumber=function(n){return!!(/^(\+?)([0-9#\*])+$/.test(n)&&n.length<=30)},n.prototype.isNullOrEmpty=function(n){return null==n||""===n},n.prototype.isNotNullOrEmptyArray=function(n){return!(null==n||""===n||"object"!=typeof n||!this.isNumber(n.length)||0===n.length)},n.prototype.isNumber=function(n){return!isNaN(parseFloat(n))&&isFinite(n)},n.prototype.isValidObject=function(n){return null!==n&&"object"==typeof n&&Object.keys(n).length>0},n.prototype.isJSON=function(n){try{var t=JSON.parse(n);return t&&"object"==typeof t}catch(e){return!1}},n.ngInjectableDef=Object(o.T)({factory:function(){return new n},token:n,providedIn:"root"}),n}(),b=function(){function n(n,t){this.storageSvc=n,this.validationUtilSvc=t}return n.prototype.getAccessToken=function(){var n=this.storageSvc.get(g.AuthToken);return JSON.parse(n)},n.prototype.setAccessToken=function(n){return this.storageSvc.set(g.AuthToken,JSON.stringify(n))},n.prototype.isTokenExpired=function(){var n=this.getAccessToken();return!this.validationUtilSvc.isNotNullOrEmpty(n)||((new Date).getTime()-n.accessTokenTime)/1e3>=n.expiresIn-120},n.ngInjectableDef=Object(o.T)({factory:function(){return new n(Object(o.X)(p),Object(o.X)(f))},token:n,providedIn:"root"}),n}(),m=function(){function n(){}return n.prototype.get=function(n){return sessionStorage.getItem(n)},n.prototype.set=function(n,t){return sessionStorage.setItem(n,t)},n.prototype.remove=function(n){return sessionStorage.removeItem(n)},n.prototype.clear=function(){sessionStorage.clear()},n.ngInjectableDef=Object(o.T)({factory:function(){return new n},token:n,providedIn:"root"}),n}(),C=function(){function n(){}return n.ngInjectableDef=Object(o.T)({factory:function(){return new n},token:n,providedIn:"root"}),n}(),v=function(){function n(n){this.storageServiceSvc=n}return n.prototype.onLog=function(n){var t=this.storageServiceSvc.get(g.AppLogs);t=t||"",t+=this.getFormattedMessage(n);for(var e=this.getLogSize(t);e>5;)t=this.removeLog(t).join("\n"),e=this.getLogSize(t);this.storageServiceSvc.set(g.AppLogs,t)},n.prototype.getFormattedMessage=function(n){return n.timestamp+" "+c.f[n.level]+" ["+n.message+"] "+n.additional+"\n"},n.prototype.getAllLogs=function(){return this.storageServiceSvc.get(g.AppLogs)},n.prototype.getLogSize=function(n){return 2*n.length/1048576},n.prototype.removeLog=function(n){var t=n.split("\n"),e=Math.round(t.length/5);return t.splice(0,e),t},n.ngInjectableDef=Object(o.T)({factory:function(){return new n(Object(o.X)(C))},token:n,providedIn:"root"}),n}(),_=function(){function n(n,t){this.logger=n,this.storageService=t,this.logMonitorService=new v(t),this.logger.registerMonitor(this.logMonitorService)}return n.prototype.trace=function(n,t){this.logger.trace(n,t)},n.prototype.debug=function(n,t){this.logger.debug(n,t)},n.prototype.info=function(n,t){this.logger.info(n,t)},n.prototype.log=function(n,t){this.logger.log(n,t)},n.prototype.warn=function(n,t){this.logger.warn(n,t)},n.prototype.error=function(n,t){this.logger.error(n,t)},n.prototype.fatal=function(n,t){this.logger.fatal(n,t)},n.prototype.downloadLog=function(n){var t=this.logMonitorService.getAllLogs(),e=new r.a;e.file("app-logs.rtf",t),e.file("app-sf-logs.rtf",n),e.generateAsync({type:"blob"}).then(function(n){Object(u.saveAs)(n,"salesforce-logs.zip")})},n.prototype.updateLog=function(n){this.logger.updateConfig({level:n})},n.ngInjectableDef=Object(o.T)({factory:function(){return new n(Object(o.X)(c.d),Object(o.X)(m))},token:n,providedIn:"root"}),n}(),O=function(){function n(n){this.logger=n}return n.prototype.appendQueryString=function(n,t){var e="",l="";for(l in t)t.hasOwnProperty(l)&&(""!==e&&(e+="&"),e+=l+"="+encodeURIComponent(t[l]));return-1===n.indexOf("?")?n+=""===e?e:"?"+e:n+=""===e?e:"&"+e,n},n.prototype.getParameterByName=function(n,t){t=t.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var e=new RegExp("[\\?&]"+t+"=([^&#]*)").exec(n);return null==e?"":decodeURIComponent(e[1].replace(/\+/g," "))},n.prototype.isValidURL=function(n){return/((?:https?\:\/\/|www\.)(?:[-a-z0-9]+\.)*[-a-z0-9]+.*)/i.test(n)},n.prototype.addParamToQueryString=function(n){var t=window.location.search;return""===t?t="?":t+="&",t+n},n.prototype.parseQueryString=function(t){var e={};try{if("string"!=typeof t)return e;if("?"===t.charAt(0)&&(t=t.slice(1)),0===t.length)return e;for(var l=t.split("&"),o=0;o<l.length;o++){var i=l[o].split("=");e[i[0]]=i[1]?decodeURIComponent(i[1]):null}}catch(s){this.logger.error(n.className,"Error in parsing query string -"+s.message)}return e},n.prototype.getHostName=function(n){return n?new URL(n).hostname:""},n.prototype.isSFDomain=function(n){return!!(/\.force\.com$/i.test(n)||/\.salesforce\.com/i.test(n)||/\.visualforce\.com$/i.test(n))},n.prototype.parseUrl=function(n){var t=document.createElement("a");return t.href=n,{search:t.search,hostname:t.hostname}},n.className="URLUtilsService",n.ngInjectableDef=Object(o.T)({factory:function(){return new n(Object(o.X)(_))},token:n,providedIn:"root"}),n}(),M=function(){function n(){}return n.toBoolean=function(n){return null!=n&&"true"===n.toLowerCase()},n.toNumber=function(n){return null!=n&&!1===isNaN(n)?parseInt(n,10):0},n.formatPhoneNumber=function(n){var t=/^(\d{3})(\d{3})(\d{4})$/;return n.match(t)?n.replace(t,"($1) $2-$3"):n},n}(),P=function(){function n(n,t){this.localStorageSvc=n,this.logger=t}return n.prototype.toDisplayTime=function(n){var t,e,l;if(null!=n&&"number"==typeof n)return t=Math.floor(n/3600),e=Math.floor(n/60)%60,l=n%60,t>9?t+":"+(e>9?e:"0"+e)+":"+(l>9?l:"0"+l):t<=9&&0!==t?"0"+t+":"+(e>9?e:"0"+e)+":"+(l>9?l:"0"+l):e<=0?"00:"+(l>9?l:"0"+l):e<=9?"0"+e+":"+(l>9?l:"0"+l):e+":"+(l>9?l:"0"+l)},n.prototype.getElapsedTime=function(n){var t,e=this.timeDiff(n),l=e;return l<345600?(e=l+=1,t=this.toDisplayTime(l)):t=">96 hours",t},n.prototype.timeDiff=function(n){var t=Math.abs(this.getServerTimestamp()-n);return Math.round(t/1e3)},n.prototype.getServerTimestamp=function(){var n=(new Date).getTime(),t=M.toNumber(this.localStorageSvc.get(g.LocalTime));return M.toNumber(this.localStorageSvc.get(g.ServerTime))+(n-t)},n.prototype.getTimeDuration=function(n,t){var e=Math.floor((t.getTime()-n.getTime())/1e3);return this.toDisplayTime(e)},n.prototype.toSFDateString=function(n){return n.getFullYear()+"-"+this.getNumberInTwoDigits(n.getMonth()+1)+"-"+this.getNumberInTwoDigits(n.getDate())+" "+this.getNumberInTwoDigits(n.getHours())+":"+this.getNumberInTwoDigits(n.getMinutes())+":"+this.getNumberInTwoDigits(n.getSeconds())},n.prototype.getTimeInMS=function(n){var t=0,e=n.match(/(-)?P(?:([\.,\d]+)Y)?(?:([\.,\d]+)M)?(?:([\.,\d]+)W)?(?:([\.,\d]+)D)?T(?:([\.,\d]+)H)?(?:([\.,\d]+)M)?(?:([\.,\d]+)S)?/);return t+=e[5]?24*e[5]*36e5:0,t+=e[6]?36e5*e[6]:0,(t+=e[7]?6e4*e[7]:0)+(e[8]?1e3*e[8]:0)},n.prototype.displayTimeFromMS=function(n){var t,e,l,o="00:00:00";if(null!=n&&"number"==typeof n){var i=Math.floor(n/1e3);i<0&&(i=0),t=Math.floor(i/3600),e=Math.floor(i/60)%60,l=i%60,t>9?o=t+":"+(e>9?e:"0"+e)+":"+(l>9?l:"0"+l):t<=9&&(o="0"+t+":"+(e>9?e:"0"+e)+":"+(l>9?l:"0"+l))}return o},n.prototype.getNumberInTwoDigits=function(n){return n<10?"0"+n:n},n.prototype.isValidTime=function(t,e){var l={isValid:!1,hours:0,minutes:0};try{var o={ar:{AM:"\u0645",PM:"\u0635"},sq:{AM:".PD",PM:".MD"},zh:{AM:"\u4e0a\u5348",PM:"\u4e0b\u5348"},el:{AM:"\u03c0\u03bc",PM:"\u03bc\u03bc"},hi:{AM:"\u092a\u0942\u0930\u094d\u0935\u093e\u0939\u094d\u0928",PM:"\u0905\u092a\u0930\u093e\u0939\u094d\u0928"},ko:{AM:"\uc624\uc804",PM:"\uc624\ud6c4"},th:{AM:"\u0e19",PM:"\u0e19"}},i={AM:"AM",PM:"PM"},s=void 0,c=void 0,a=!1,r=void 0;e=e.substr(0,2);var u=void 0;if(o.hasOwnProperty(e)){if(u=o[e],0===t.search(RegExp(u.AM,"i"))||0===t.search(RegExp(u.PM,"i"))){var d=" "===t.replace(RegExp(u.AM,"i"),"").replace(RegExp(u.PM,"i"),"")[0];s=new RegExp("^"+u.AM+"|"+u.PM+(d?" ":"")+"[0-9]{1,2}[:|.][0-9]{1,2}$","i"),r=!0}else if(t.search(RegExp(u.AM,"i"))>0||t.search(RegExp(u.PM,"i"))>0){var g=t.replace(RegExp(u.AM,"i"),"").replace(RegExp(u.PM,"i"),"");s=new RegExp("^[0-9]{1,2}[:|.][0-9]{1,2}"+(" "===g[g.length-1]?" ":"")+u.AM+"|"+u.PM+"$","i"),r=!0}}else-1===t.search(RegExp(i.AM,"i"))&&-1===t.search(RegExp(i.PM,"i"))?(s=new RegExp("^[0-9]{1,2}[:|.][0-9]{1,2}$","i"),r=!1):(s=new RegExp("[0-9]{1,2}[:|.][0-9]{1,2} [A|P]M","i"),r=!0);s.test(t)&&(r?(u=o.hasOwnProperty(e)?o[e]:{AM:"AM",PM:"PM"},RegExp(u.PM,"i").test(t)&&(a=!0),c=(c=t.replace(RegExp(u.AM,"i"),"").replace(RegExp(u.PM,"i"),"")).split(/[:.]/)):c=t.split(/[:.]/),l.hours=parseInt(c[0],10),l.minutes=parseInt(c[1],10),r?l.hours>0&&l.hours<=12&&l.minutes>=0&&l.minutes<=59&&(a?12!==l.hours&&(l.hours=12+l.hours):l.hours=l.hours%12,l.isValid=!0):l.hours>=0&&l.hours<=23&&l.minutes>=0&&l.minutes<=59&&(l.isValid=!0))}catch(h){this.logger.error(n.className,h.message)}return l},n.className="DateTimeUtilService",n.ngInjectableDef=Object(o.T)({factory:function(){return new n(Object(o.X)(p),Object(o.X)(_))},token:n,providedIn:"root"}),n}(),S=function(){function n(n){this.translate=n,this.supportedLangs=["de","en_US","es","fr","it","ja","ko","pt_BR","ru","zh_CN"],n.addLangs(this.supportedLangs),n.setDefaultLang("en_US")}return n.prototype.setLanguage=function(n){this.translate.use(n)},n.prototype.getLocalizedValue=function(n){return this.translate.get(n)},n.ngInjectableDef=Object(o.T)({factory:function(){return new n(Object(o.X)(d.j))},token:n,providedIn:"root"}),n}(),y=function(){function n(){this.openCtiService="OpenCTIController"}return n.init=function(){var t=new m,e=new n,l=t.get(g.InitParam);if(l){var o=JSON.parse(l);e.icStationType=o.icStationType,e.icStationValue=o.icStationValue,e.langCode=o.langCode,e.resourceBase=o.resourceBase,e.wfoPageUrl=o.wfoPageUrl,e.localeCode=o.localeCode,e.timezoneName=o.timezoneName,e.icLogLevel=o.logLevel,e.agentVersion=o.agentVersion,""!==o.namespacePrefix&&(e.openCtiService=o.namespacePrefix+".OpenCTIController")}else e.langCode="en_US",e.resourceBase=".";return e},n}(),k=y.init(),w=function(n){return new s.a(n,k.resourceBase+"/assets/i18n/")},I={svgPath:"/_slds/icons/"},N=function(){return function(){}}(),x=e("nkbN"),A=function(){function n(n,t){this.router=n,this.urlUtilSvc=t}return n.prototype.getDefaultNavigationExtras=function(){return{queryParams:this.urlUtilSvc.parseQueryString(window.location.search),skipLocationChange:!0}},n.prototype.navigate=function(n,t){var e=this;setTimeout(function(){e.router.navigate(n,t||e.getDefaultNavigationExtras())})},n.ngInjectableDef=o.T({factory:function(){return new n(o.X(x.k),o.X(O))},token:n,providedIn:"root"}),n}(),T=e("UNrv"),E=e("Tnws"),D=e("igHR"),U=e("vnL/"),q=e("cz6e"),L=e("Sppo"),B=function(){function n(){}return n.prototype.parseData=function(n){var t=n.resource_server_base_uri;t.endsWith("/")&&(t=t.substr(0,t.length-1)),this.agentId=n.agent_id,this.busNo=n.bus_no,this.resourceBaseUrl=t,this.refreshTokenUrl=n.refresh_token_server_uri,this.teamId=n.team_id},n}(),R=function(){function n(){}return n.prototype.parseData=function(n){this.id=n.MessageId,this.message=n.MessageText,this.subject=n.Subject,this.validUntil=Date.parse(n.ValidUntil),this.receivedDateTime=new Date(n.start_date),this.receivedTime=this.receivedDateTime.getTime(),this.msgRead=!1},n}(),j=function(){function n(){}return n.prototype.parseData=function(n,t){this.phNo=n.StationPhoneNumber,this.stationId=n.StationId,this.userId=t?n.AgentUUId:null,this.agentId=n.AgentId,this.sessionId=n.SessionId,this.callerId=n.StationCallerId,this.enabledForMCH=M.toBoolean(n.EnabledForMCH)},n}(),J=function(){return function(){}}(),F=function(){function n(){}return n.prototype.parseData=function(n){if(this.state=n.CurrentState,this.reason=n.CurrentOutReason,this.time=new Date(n.StartTimeUTC).getTime(),this.timeout=parseInt(n.AcwTimeout,10),this.acw=M.toBoolean(n.IsAcw),this.nextIsAcw=M.toBoolean(n.NextIsAcw),"object"==typeof n.NextStates)for(var t=0;t<n.NextStates.length;t++)if(0===t){var e=new J;e.state=n.NextStates[t].State,e.reason=n.NextStates[t].OutReason,this.nState=e}else if(1===t){var l=new J;l.state=n.NextStates[t].State,l.reason=n.NextStates[t].OutReason,this.nnState=l}},n}(),z=function(){function n(){}return n.prototype.parseData=function(n){this.agentLegId=n.AgentLegId,this.agentLegState=n.Status},n}(),H=function(){return function(){this.stationId="",this.stationPhoneNumber=""}}(),W=function(){return function(){this.stationAuthError=""}}(),V=function(){function n(){}return n.prototype.parseData=function(n){this.reason=n.outStateName,this.isAcw=n.isAcw},n}(),G=function(){return function(){}}(),X=function(){function n(){}return n.prototype.parseData=function(n){this.productId=n.productId},n}(),Q=function(){function n(){}return n.prototype.parseData=function(n){this.key=n.Key,this.value=n.Value},n}(),$=function(){function n(){}return n.prototype.parseData=function(n){this.webRTCType=n.webRTCType,this.webRTCWssUrls=n.webRTCWSSUrls,this.webRTCServerDomain=n.webRTCServerDomain,this.webRTCIceUrls=n.webRTCICEUrls,this.webRTCDnis=n.webRTCDNIS},n}(),K=function(){function n(){}return n.prototype.parseData=function(n){this.refreshTokenUrl=n.tokenUrl,this.refreshToken=n.token},n}(),Y=function(){function n(){this.isDispositionSubmitted=!1}return n.prototype.parseData=function(n){this.id=n.ContactID,this.status=n.Status,this.contactType=n.Type,this.skillId=n.Skill,this.time=new Date(n.StartTimeUTC).getTime(),this.lastStateTime=new Date(n.LastStateChangeTimeUTC).getTime(),this.finalState=M.toBoolean(n.FinalState),this.screenPopUrl=n.ScreenPopUrl,this.refused=!1,this.omniGroupId=n.OmniGroupId,this.masterId=n.MasterID},n}(),Z=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return Object(T.__extends)(t,n),t.prototype.parseData=function(t){n.prototype.parseData.call(this,t),this.callType=t.CallType,this.dnis=t.DNIS,this.ani=t.ANI,this.inbound=M.toBoolean(t.IsInbound),this.screenPopUrlVariables=t.ScreenPopUrlVariables||[],this.isLogging=M.toBoolean(t.IsLogging),this.disconnectCode=t.DisconnectCode,this.linked=M.toBoolean(t.IsLinked),this.focused=!1},t}(Y),nn=function(){function n(){}return n.prototype.parseData=function(n){this.skillId=n.skillId,this.skillName=n.skillName,this.hasDisposition=2===n.acwTypeId,this.isACW=3===n.acwTypeId,this.allowSecondaryDisposition=n.allowSecondaryDisposition,this.requireDisposition=n.requireDisposition,this.timeout=n.maxSecondsACW},n}(),tn=function(){function n(){}return n.prototype.parseData=function(n){this.multipleMatches=n.MultipleMatches,this.singleMatch=n.SingleMatch,this.noMatch=n.NoMatch},n}(),en=function(){function n(){}return n.prototype.parseData=function(n){this.inboundObject=n.Inbound.objects,this.outboundObject=n.Outbound.objects;var t=new tn;t.parseData(n.Inbound.screenPopSettings),this.screenPopSettings=t},n}(),ln=function(){function n(){}return n.prototype.parseData=function(n){this.isOutbound=n.isOutbound,this.strategy=n.outboundStrategy,this.typeId=n.mediaTypeId,this.skillId=n.skillId,this.skillName=n.skillName},n}(),on=function(){function n(){}return n.prototype.parseData=function(n){this.agentId=n.agentId,this.agentStateName=n.agentStateName,this.firstName=n.firstName,this.lastName=n.lastName,this.teamId=n.teamId,this.teamName=n.teamName,this.agentName=n.firstName+" "+n.lastName,this.userName=n.userName},n}(),sn=function(){function n(){}return n.prototype.parse=function(n){this.skillId=n.skillId,this.skillName=n.skillName,this.mediaTypeName=n.mediaTypeName,this.mediaTypeId=n.mediaTypeId,this.isActive=n.isActive,this.isOutbound=n.isOutbound,this.queue="0",this.waitTime="00"},n}(),cn=function(){return function(){}}(),an=function(){function n(){}return n.prototype.parseData=function(n){this.displayName=n.displayName,this.standardName=n.standardName,this.offset=n.offset},n}(),rn=function(){function n(){}return n.prototype.parseData=function(n){this.action=n.action,this.actionType=n.actionType,this.enable=n.enable,this.imageFile=n.imageFile,this.indicatorName=n.indicatorName,this.senderContactId=n.senderContactId,this.toolTip=n.toolTip},n}(),un=function(){function n(){this.startIndex=0,this.totalRecords=0,this.addressBookEntries=[],this.displayAddressBookEntries=[],this.showLoadMore=!0,this.canShowSpinner=!1,this.recordsToLoad=0}return n.prototype.parseData=function(n){this.addressBookName=n.addressBookName,this.addressBookId=n.addressBookId,this.addressBookType=n.addressBookType},n}(),dn=function(){function n(){}return n.prototype.parseData=function(n){this.firstName=n.firstName,this.lastName=n.lastName,this.phone=n.phone,this.mobile=n.mobile,this.email=n.email,this.addressBookName=n.firstName+" "+n.lastName},n}(),gn=function(){function n(){}return n.prototype.parseData=function(n){var t=M.toBoolean(n.isOutbound);this.skillId=n.skillId,this.skillName=n.skillName,this.type=t?"Outbound":"Inbound",this.startTime=new Date(n.contactStartDate),this.endTime=new Date(n.lastUpdateTime),this.phoneNumber=t?n.toAddr:n.fromAddr,this.mediaTypeId=M.toNumber(n.mediaTypeId)},n}(),hn=function(){function n(){}return n.prototype.parseData=function(n){this.objectType=n.objectType,this.id=n.recordId,this.name=n.recordName,this.personAccount=!!n.personAccount,this.contactId=n.contactId?n.contactId:""},n}(),pn=function(){function n(){}return n.prototype.parseData=function(n){this.tagId=n.tagId,this.tagName=n.tagName},n}(),fn=function(){function n(){}return n.prototype.parseData=function(n){this.dispositionId=n.dispositionId,this.dispositionName=n.dispositionName,this.requireCommitmentAmount=n.requireCommitmentAmount,this.requireRescheduleDate=n.requireRescheduleDate},n}(),bn=function(){function n(){this.info={}}return n.prototype.parseData=function(n){this.number=n.number,this.isDetail=n.isDetail,this.info={id:n.recordId,name:n.recordName,objectType:n.objectType}},n}(),mn=function(){function n(){this.agentList=[]}return n.prototype.parseData=function(n){this.agentList=n.agentList,this.updatedSince=n.updatedSince},n}(),Cn=function(){function n(){}return n.prototype.parseData=function(n){this.totalRecords=n.totalRecords,this.totalRecordsReceived=n.totalRecordsReceived,this.skillList=n.skillList},n}(),vn=function(){function n(){this.totalRecords=0,this.addressBooksEntries=[]}return n.prototype.parseData=function(n){this.totalRecords=n.totalRecords,this.addressBooksEntries=n.addressBooksEntries,this.addressBookId=M.toNumber(n.addressBookId)},n}(),_n=function(){return function(n,t,e){this.type=n,this.name=n.toString(),this.info=t,this.message=e}}(),On=function(){function n(){this.inboundHandled=0,this.outboundHandled=0,this.totalHandled=0}return n.prototype.parseData=function(n){this.agentId=n.agentId,this.teamId=n.teamId,this.inboundHandled=M.toNumber(n.inboundHandled),this.outboundHandled=M.toNumber(n.outboundHandled),this.totalHandled=M.toNumber(n.totalHandled),this.availableTime=n.availableTime,this.unavailableTime=n.unavailableTime,this.inboundTalkTime=n.inboundTalkTime,this.outboundTalkTime=n.outboundTalkTime,this.loginTime=n.loginTime},n}(),Mn=function(){return function(){this.inboundPercentage=0,this.outboundPercentage=0,this.totalPercentage=0}}(),Pn=function(){return function(){this.agentAvailablePercentage=0,this.agentUnavailablePercentage=0,this.agentWorkingPercentage=0,this.teamAvailablePercentage=0,this.teamWorkingPercentage=0,this.teamUnavailablePercentage=0,this.agentAvailableTime=0,this.agentUnavailableTime=0,this.agentWorkingTime=0,this.teamAvailableTime=0,this.teamUnavailableTime=0,this.teamWorkingTime=0,this.agentAvailableDisplayTime="",this.agentUnavailableDisplayTime="",this.agentWorkingDisplayTime="",this.teamAvailableDisplayTime="",this.teamUnavailableDisplayTime="",this.teamWorkingDisplayTime=""}}(),Sn=function(){function n(){}return n.prototype.parseData=function(n){this.action=n.ActionUri,this.actionType=n.ActionType,this.imageFile=n.ImageUri,this.indicatorName=n.Name,this.toolTip=n.ToolTip,this.contactID=n.ContactID,this.indicatorState=n.IndicatorState},n}(),yn=function(){return function(){}}(),kn=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return Object(T.__extends)(t,n),t.prototype.parseData=function(t){n.prototype.parseData.call(this,t),this.skillId=t.SkillId,this.workItemId=t.WorkItemId,this.workItemPayload=t.WorkItemPayload,this.workItemType=t.WorkItemType,this.visited=!1,this.selected=!1,this.screenPopUrlVariables=t.ScreenPopUrlVariables||[],this.focused=!1,this.inFocus=M.toBoolean(t.InFocus)},t}(Y),wn=function(){function n(){}return n.prototype.parseData=function(n){this.id=n.id,this.contactType=n.contactType,this.selected=n.selected,this.visited=n.visited,this.startTime=new Date(n.time),this.skillId=n.skillId,this.status=n.status,this.omniGroupId=n.omniGroupId,"WorkItemContactEvent"===n.contactType&&(this.title=n.sfWorkItemType,this.contactInfo=n.workItemPayload)},n}(),In=function(){function n(){}return n.prototype.parseData=function(n){this.chatThreshold=Number(n.ChatThreshold),this.emailThreshold=Number(n.EmailThreshold),this.workItemThreshold=Number(n.WorkItemThreshold),this.contactAutoFocus=n.ContactAutoFocus,this.requestContact=n.RequestContact,this.deliveryMode=n.DeliveryMode,this.totalContactCount=Number(n.TotalContactCount)},n}(),Nn=function(){return function(){}}(),xn={LoggedOut:"loggedOut",Available:"available",Unavailable:"unavailable",InboundContact:"inboundContact",OutboundContact:"outboundContact",InboundConsult:"inboundConsult",OutboundConsult:"outboundConsult",Dialer:"dialer",LoggedIn:"loggedIn"},An=function(){var n={Email:1,Chat:3,PhoneCall:4,VoiceMail:5,WorkItem:6};return n[n.Email]="Email",n[n.Chat]="Chat",n[n.PhoneCall]="PhoneCall",n[n.VoiceMail]="VoiceMail",n[n.WorkItem]="WorkItem",n}(),Tn={Dialing:"Dialing",Ringing:"Ringing",Incoming:"Incoming",Active:"Active",Holding:"Holding",Masking:"Masking",Disconnected:"Disconnected",Joined:"Joined",Interrupted:"Interrupted"},En=function(){var n={Hold_Failed:0,Resume_Failed:1,End_Failed:2,SubmitDisposition_Failed:3,Mute_Failed:4,UnMute_Failed:5,Mask_Failed:6,UnMask_Failed:7,Record_Failed:8,ConsultAgent_Failed:9,DialAgent_Failed:10,DialSkill_Failed:11,Transfer_Failed:12,DialPhone_Failed:13,Conference_Failed:14,AcceptContact_Failed:15,DeclineContact_Failed:16,AddContact_Failed:17,ActiveContact_Failed:18,Branding_Failed:19};return n[n.Hold_Failed]="Hold_Failed",n[n.Resume_Failed]="Resume_Failed",n[n.End_Failed]="End_Failed",n[n.SubmitDisposition_Failed]="SubmitDisposition_Failed",n[n.Mute_Failed]="Mute_Failed",n[n.UnMute_Failed]="UnMute_Failed",n[n.Mask_Failed]="Mask_Failed",n[n.UnMask_Failed]="UnMask_Failed",n[n.Record_Failed]="Record_Failed",n[n.ConsultAgent_Failed]="ConsultAgent_Failed",n[n.DialAgent_Failed]="DialAgent_Failed",n[n.DialSkill_Failed]="DialSkill_Failed",n[n.Transfer_Failed]="Transfer_Failed",n[n.DialPhone_Failed]="DialPhone_Failed",n[n.Conference_Failed]="Conference_Failed",n[n.AcceptContact_Failed]="AcceptContact_Failed",n[n.DeclineContact_Failed]="DeclineContact_Failed",n[n.AddContact_Failed]="AddContact_Failed",n[n.ActiveContact_Failed]="ActiveContact_Failed",n[n.Branding_Failed]="Branding_Failed",n}(),Dn=function(){function n(n,t){this.httpClient=n,this.accessTokenSvc=t}return n.prototype.getHeaders=function(){var t=this.accessTokenSvc.getAccessToken();return new D.g({"Content-Type":n.JsonContent,Authorization:"bearer "+t.accessToken})},n.prototype.get=function(n,t){return this.httpClient.get(n,{headers:t||this.getHeaders()})},n.prototype.getText=function(n){return this.httpClient.get(n,{responseType:"text"})},n.prototype.post=function(n,t,e,l){return this.httpClient.post(n,t,{headers:e||this.getHeaders(),withCredentials:l})},n.prototype.put=function(n,t,e){return this.httpClient.put(n,t,{headers:e||this.getHeaders()})},n.prototype.delete=function(n,t){return this.httpClient.delete(n,{headers:t||this.getHeaders()})},n.prototype.deleteWithBody=function(n,t,e){return this.httpClient.request("delete",n,{headers:e||this.getHeaders(),body:t})},n.JsonContent="application/json; charset=UTF-8",n.ngInjectableDef=Object(o.T)({factory:function(){return new n(Object(o.X)(D.c),Object(o.X)(b))},token:n,providedIn:"root"}),n}(),Un=function(){function n(n,t,e,l,o,i,s,c){this.httpWrapper=n,this.localStorageSvc=t,this.logger=e,this.sessionStorageSvc=l,this.validationUtilSvc=o,this.accessTokenSvc=i,this.urlUtilSvc=s,this.datetimeUtilSvc=c,this.pollingTimeout=15,this.isWebRTC=!1,this.isJoinSession=!1,this.contacts=[],this.isPolling=!1,this.sessionStartUri="/services/v15.0/agent-sessions",this.sessionJoinUri="/services/v15.0/agent-sessions/join",this.getNextEventUri="/services/v15.0/agent-sessions/{sessionId}/get-next-event",this.logoutUri="/services/v15.0/agent-sessions/{sessionId}",this.setAgentStateUri="/services/v15.0/agent-sessions/{sessionId}/state",this.userHubLogoutUri="/public/user/logout",this.connectAgentLegUri="/services/v15.0/agent-sessions/{sessionId}/agent-phone/dial",this.disconnectAgentLegUri="/services/v15.0/agent-sessions/{sessionId}/agent-phone/end",this.cacheSkillQueueUrl="/services/v15.0/cache/queues",this.muteAgentUri="/services/v15.0/agent-sessions/{sessionId}/agent-phone/mute",this.unmuteAgentUri="/services/v15.0/agent-sessions/{sessionId}/agent-phone/unmute",this.resumeContactUri="/services/v15.0/agent-sessions/{sessionId}/interactions/{contactId}/resume",this.holdContactUri="/services/v15.0/agent-sessions/{sessionId}/interactions/{contactId}/hold",this.maskCallUri="/services/v15.0/agent-sessions/{sessionId}/interactions/{contactId}/mask",this.unmaskCallUri="/services/v15.0/agent-sessions/{sessionId}/interactions/{contactId}/unmask",this.recordCallUri="/services/v15.0/agent-sessions/{sessionId}/interactions/{contactId}/record",this.endContactUri="/services/v15.0/agent-sessions/{sessionId}/interactions/{contactId}/end",this.dialPhoneUri="/services/v15.0/agent-sessions/{sessionId}/dial-phone",this.acceptConsultUri="/services/v15.0/agent-sessions/{sessionId}/interactions/{contactId}/accept-consult",this.rescheduleCommitmentUri="/services/v15.0/agent-sessions/{sessionId}/interactions/{callbackId}/reschedule",this.makeCommitmentCallUri="/services/v15.0/agent-sessions/{sessionId}/interactions/{callbackId}/dial",this.dialSkillUri="/services/v15.0/agent-sessions/{sessionId}/dial-skill",this.consultAgentUri="/services/v15.0/agent-sessions/{sessionId}/consult-agent",this.dialAgentUri="/services/v15.0/agent-sessions/{sessionId}/dial-agent",this.sendDTMFUri="/services/v15.0/agent-sessions/{sessionId}/send-dtmf",this.transferContactUri="/services/v15.0/agent-sessions/{sessionId}/interactions/transfer-calls",this.getContactHistoryUri="/services/v15.0/agents/{agentId}/interaction-history",this.setDispositionUri="/services/v15.0/agent-sessions/{sessionId}/interactions/{contactId}/disposition",this.getEvolveSupportedEmbeddedPagesUri="/navigation_data/links/embedded-client",this.getAgentPerformanceUri="/services/v15.0/agents/{agentId}/performance",this.getTeamPerformanceUri="/services/v15.0/teams/{teamId}/performance-total",this.conferenceContactUri="/services/v15.0/agent-sessions/{sessionId}/interactions/conference-calls",this.addContactUri="/services/v15.0/agent-sessions/{sessionId}/add-contact",this.acceptContactUri="/services/v15.0/agent-sessions/{sessionId}/interactions/{contactId}/accept",this.rejectContactUri="/services/v15.0/agent-sessions/{sessionId}/interactions/{contactId}/reject",this.transferWorkItemUri="/services/v15.0/agent-sessions/{sessionId}/interactions/{contactId}/transfer-work-item-to-agent",this.transferWorkItemSkilUri="/services/v2.0/agent-sessions/{sessionId}/interactions/{contactId}/transfer-work-item-to-skill",this.activateContactUri="/services/v15.0/agent-sessions/{sessionId}/interactions/{contactId}/activate",this.getBrandingProfilesUri="/services/v15.0/branding-profiles",this.getCXoneBrandingProfileUri="/branding-profiles/current",this.agentStateChangeEvent=new E.Subject,this.agentSessionStartEvent=new E.Subject,this.agentSessionEndEvent=new E.Subject,this.updateUnavailableCodesEvent=new E.Subject,this.updateAgentMessagesEvent=new E.Subject,this.clearExpiredMessagesEvent=new E.Subject,this.refreshTokenEvent=new E.Subject,this.agentLegEvent=new E.Subject,this.updateAgentSkillsEvent=new E.Subject,this.contactUpdateEvent=new E.Subject,this.updatePermissionsEvent=new E.Subject,this.updateMuteEvent=new E.Subject,this.agentIndicatorsEvent=new E.Subject,this.contactIndicatorsEvent=new E.Subject,this.promiseKeeperEvent=new E.Subject,this.promiseKeeperStatusEvent=new E.Subject,this.updateCallbackEvent=new E.Subject,this.mchAgentSettingsChangeEvent=new E.Subject}return n.prototype.initialize=function(n){this.agentInfo=n},n.prototype.agentLogin=function(t){var e=this;return this.isWebRTC="WebRTC"===t.stationPhoneNumber,new Promise(function(l,o){e.startSession(t).then(function(t){e.logger.debug(n.className,"StartSession - success: "+t),e.sessionCreated(t,!1),l(t)},function(t){409===t.status?e.joinSession(l,o):(e.logger.error(n.className,"StartSession - failed: "+t),o(t))})})},n.prototype.startSession=function(n){return this.httpWrapper.post(this.agentInfo.resourceBaseUrl+this.sessionStartUri,n).toPromise()},n.prototype.getEmbeddedPages=function(t){var e=this;void 0===t&&(t=!1);var l=JSON.parse(this.localStorageSvc.get(g.AuthSettings)).userHubWebBaseUrl+this.getEvolveSupportedEmbeddedPagesUri;return new Promise(function(o,i){var s=e.localStorageSvc.get(g.embeddedPagesList);if(!0!==t&&!e.validationUtilSvc.isNullOrEmpty(s))return e.logger.debug(n.className,"Embedded pages list available in local storage"),o(JSON.parse(s));e.httpWrapper.get(l).toPromise().then(function(t){e.logger.debug(n.className,"Getting Embedded pages SUCCESS "),e.localStorageSvc.set(g.embeddedPagesList,JSON.stringify(t)),o(t)},function(t){e.logger.error(n.className,"Getting Embedded pages ERROR "+JSON.stringify(t)),i(t)})})},n.prototype.joinSession=function(t,e){var l=this;return this.httpWrapper.post(this.agentInfo.resourceBaseUrl+this.sessionJoinUri,{}).toPromise().then(function(e){l.logger.debug(n.className,"JoinSession - success: "+e),l.sessionCreated(e,!0),t(e)},function(t){l.logger.error(n.className,"JoinSession - failed: "+t),e(t)})},n.prototype.sessionCreated=function(n,t){this.localStorageSvc.set(g.SessionId,n.sessionId),this.isJoinSession=t},n.prototype.getNextEvent=function(){var t=this;this.isPolling=!0;var e=this.localStorageSvc.get(g.SessionId),l=this.accessTokenSvc.getAccessToken(),o=this.agentInfo.resourceBaseUrl+this.getNextEventUri.replace("{sessionId}",e)+"?timeout="+this.pollingTimeout+"&_="+(new Date).getTime();if(this.clearExpiredAgentMessages(),this.httpWrapper.get(o).subscribe(function(n){t.onGetNextEventSuccess(n)},function(n){t.onGetNextEventFailure(n)}),((new Date).getTime()-l.accessTokenTime)/1e3>=l.expiresIn-600){this.logger.debug(n.className,"get refreshAccessToken "+this.agentInfo.refreshTokenUrl);var i=new K;i.parseData({tokenUrl:this.agentInfo.refreshTokenUrl,token:l.refreshToken}),this.refreshTokenEvent.next(i)}},n.prototype.onGetNextEventSuccess=function(t){var e=this;this.logger.debug(n.className,"onGetNextEventSuccess");var l=!1,o=!1,i=!1,s=!1,c=!1,a=!1;try{this.localStorageSvc.set(g.SessionId,t.sessionId);var r=t.events;"object"==typeof r&&r.length>0&&(r.forEach(function(t){e.logger.debug(n.className,"getNextEventSuccess eventType: "+t.Type+" eventData: "+JSON.stringify(t)),"AgentState"===t.Type?e.onAgentStateEvent(t):"AgentSessionStart"===t.Type?e.onAgentSessionStart(t):"AgentLeg"===t.Type?e.onAgentLegEvent(t):"AgentSessionEnd"===t.Type||"RemoteAgentSessionEnd"===t.Type?(o=!0,e.onAgentSessionEnd()):"UpdateUnavailableCodes"===t.Type?l=!0:"CallContactEvent"===t.Type?e.onCallContact(t):"WorkItemContactEvent"===t.Type?e.onWorkItemContact(t):"UpdateMessages"===t.Type?e.onUpdateMessagesEvent():"UpdateSkills"===t.Type?s=!0:"Mute"===t.Type?e.onMuteEvent(t):"UpdatePermissions"===t.Type?i=!0:"UpdateIndicators"===t.Type?c=!0:"PromiseKeeper"===t.Type?e.onPromiseKeeperEvent(t):"PromiseKeeperStatus"===t.Type?e.promiseKeeperStatusEvent.next(t.Status):"Indicator"===t.Type?e.contactIndicatorsEvent.next(t):"UpdateCallbacks"===t.Type?a=!0:"MchAgentSettingsChangeEvent"===t.Type&&e.onMchAgentSettingsChangeEvent(t)}),l&&this.onUpdateUnavailableCodesEvent(),i&&this.updatePermissionsEvent.next(),s&&this.updateAgentSkillsEvent.next(),c&&this.agentIndicatorsEvent.next(),a&&this.updateCallbackEvent.next())}catch(u){this.logger.error(n.className,"onGetNextEventSuccess, exception in processing events. "+u)}!1===o&&this.getNextEvent()},n.prototype.onGetNextEventFailure=function(t){t.status>=400?this.logger.error(n.className,t.message):this.logger.debug(n.className,t.message),409!==t.status?this.getNextEvent():this.onAgentSessionEnd()},n.prototype.onAgentStateEvent=function(n){this.agentStateInfo=new F,this.agentStateInfo.parseData(n),this.localStorageSvc.set(g.StateInfo,JSON.stringify(this.agentStateInfo)),this.agentStateChangeEvent.next(this.agentStateInfo),this.pullContact()},n.prototype.pullContact=function(){var n=this;this.triggerMCHSettingChangeEvent(),setTimeout(function(){var t;n.mchSetting&&((t=M.toBoolean(n.mchSetting.requestContact)?n.agentStateInfo&&n.agentStateInfo.state.toLowerCase():n.getFinalNextState())===xn.Available?n.addContactCall():t===xn.Unavailable&&n.addContactCall(!0))},15e3)},n.prototype.getFinalNextState=function(){var n=null;return this.validationUtilSvc.isValidObject(this.agentStateInfo)&&(this.validationUtilSvc.isValidObject(this.agentStateInfo.nnState)?n=this.agentStateInfo.nnState.state.toLowerCase():this.validationUtilSvc.isValidObject(this.agentStateInfo.nState)&&(n=this.agentStateInfo.nState.state.toLowerCase())),n},n.prototype.onAgentSessionStart=function(n){this.agentSessionInfo=new j;var t=JSON.parse(this.localStorageSvc.get(g.AuthSettings));this.agentSessionInfo.parseData(n,t.isUserHub),this.localStorageSvc.set(g.AgentSessionInfo,JSON.stringify(this.agentSessionInfo)),this.agentSessionStartEvent.next(this.agentSessionInfo),this.onUpdateMessagesEvent()},n.prototype.onUpdateUnavailableCodesEvent=function(){this.updateUnavailableCodesEvent.next()},n.prototype.onAgentSessionEnd=function(){var t=this,e=JSON.parse(this.localStorageSvc.get(g.AuthSettings));e.isUserHub?this.userHubLogout(e.userHubLoginBaseUrl).then(function(e){t.logger.debug(n.className,"UserHub Logout success : "+e.success)},function(e){return t.logger.error(n.className,"UserHub Logout failed : "+e.message)}).finally(function(){return t.clearStorageAndTriggerSessionEnd()}):this.clearStorageAndTriggerSessionEnd()},n.prototype.clearStorageAndTriggerSessionEnd=function(){var n=this.localStorageSvc.get(g.SFSessionId);this.localStorageSvc.clear(),this.localStorageSvc.set(g.SFSessionId,n),this.sessionStorageSvc.clear(),this.sessionStorageSvc.set(g.DisableAutoLogin,"true"),this.agentSessionEndEvent.next()},n.prototype.onUpdateMessagesEvent=function(){this.updateAgentMessagesEvent.next()},n.prototype.logout=function(){var n=this.agentInfo.resourceBaseUrl+this.logoutUri.replace("{sessionId}",this.localStorageSvc.get(g.SessionId));return this.httpWrapper.delete(n).toPromise()},n.prototype.userHubLogout=function(n){return this.httpWrapper.post(n+this.userHubLogoutUri,null,new D.g({"Content-Type":Dn.JsonContent}),!0).toPromise()},n.prototype.setAgentState=function(n,t){var e=this.agentInfo.resourceBaseUrl+this.setAgentStateUri.replace("{sessionId}",this.localStorageSvc.get(g.SessionId));return this.httpWrapper.post(e,{state:n,reason:t}).toPromise()},n.prototype.loadData=function(){if(this.validationUtilSvc.isNotNullOrEmpty(this.localStorageSvc.get(g.StateInfo))&&(this.agentStateInfo=JSON.parse(this.localStorageSvc.get(g.StateInfo)),this.agentStateChangeEvent.next(this.agentStateInfo)),this.agentLeg=JSON.parse(this.localStorageSvc.get(g.AgentLeg)),this.agentLegEvent.next(this.agentLeg),this.validationUtilSvc.isNotNullOrEmpty(this.localStorageSvc.get(g.Contacts))&&(this.contacts=JSON.parse(this.localStorageSvc.get(g.Contacts))),!this.validationUtilSvc.isNullOrEmpty(this.localStorageSvc.get(g.CommitmentReminderData))){var n=JSON.parse(this.localStorageSvc.get(g.CommitmentReminderData));n.start=new Date(n.start),n.end=new Date(n.end),this.promiseKeeperEvent.next(n)}this.validationUtilSvc.isNotNullOrEmpty(this.localStorageSvc.get(g.MCHSetting))&&(this.mchSetting=JSON.parse(this.localStorageSvc.get(g.MCHSetting)),this.triggerMCHSettingChangeEvent())},n.prototype.setIsWebRTC=function(){this.validationUtilSvc.isNullOrEmpty(this.localStorageSvc.get(g.AgentSessionInfo))||(this.agentSessionInfo=JSON.parse(this.localStorageSvc.get(g.AgentSessionInfo)),"WebRTC"===this.agentSessionInfo.phNo&&(this.isWebRTC=!0))},n.prototype.connectAgentLeg=function(){var n=this.agentInfo.resourceBaseUrl+this.connectAgentLegUri.replace("{sessionId}",this.localStorageSvc.get(g.SessionId));return this.httpWrapper.post(n,{}).toPromise()},n.prototype.disconnectAgentLeg=function(){var n=this.agentInfo.resourceBaseUrl+this.disconnectAgentLegUri.replace("{sessionId}",this.localStorageSvc.get(g.SessionId));return this.httpWrapper.post(n,{}).toPromise()},n.prototype.onAgentLegEvent=function(n){this.agentLeg=new z,this.agentLeg.parseData(n),this.localStorageSvc.set(g.AgentLeg,JSON.stringify(this.agentLeg)),this.agentLegEvent.next(this.agentLeg)},n.prototype.clearExpiredAgentMessages=function(){var n=this.localStorageSvc.get(g.AgentMessages),t=!1;if(this.validationUtilSvc.isNotNullOrEmpty(n)){var e=JSON.parse(n);e.forEach(function(n,l){(new Date).getTime()>n.validUntil&&(e.splice(l,1),t=!0)}),t&&(this.localStorageSvc.set(g.AgentMessages,JSON.stringify(e)),this.clearExpiredMessagesEvent.next())}},n.prototype.getCacheSkillQueue=function(t){var e=this,l={fields:["SkillId","QueueCount","MediaType","LongestQueueTimeInSeconds"].join(","),isActive:!0,UpdatedSince:t},o=this.agentInfo.resourceBaseUrl+this.urlUtilSvc.appendQueryString(this.cacheSkillQueueUrl,l);return new Promise(function(t,l){e.httpWrapper.get(o).toPromise().then(function(l){e.validationUtilSvc.isNotNullOrEmpty(l)&&(e.logger.debug(n.className,"Get Cache Skill Queue Success:"),t(l.resultSet))},function(t){e.logger.error(n.className,"Get Cache Skill Queue Success:"+JSON.stringify(t)),l(t)})})},n.prototype.onCallContact=function(n){var t=new Z,e=!0,l=0;for(t.parseData(n),t.callStartDateTime=this.datetimeUtilSvc.toSFDateString(new Date(n.StartTimeUTC)),t.callEndDateTime=this.datetimeUtilSvc.toSFDateString(new Date(n.LastStateChangeTimeUTC)),l=0;l<this.contacts.length;l++)if(this.contacts[l].id===t.id){t.isDispositionSubmitted=this.contacts[l].isDispositionSubmitted,this.contacts[l].ani===t.ani&&this.contacts[l].dnis===t.dnis&&this.contacts[l].time===t.time&&(t.refused=this.contacts[l].status===Tn.Incoming&&t.status===Tn.Disconnected,this.contacts[l]=t),e=!1;break}e&&this.contacts.push(t),this.localStorageSvc.set(g.LastAttentedContactId,t.id),this.localStorageSvc.set(g.Contacts,JSON.stringify(this.contacts)),this.contactUpdateEvent.next(this.contacts)},n.prototype.addContactCall=function(t,e){var l=this;if(void 0===t&&(t=!1),void 0===e&&(e=!0),!this.mchSetting&&this.validationUtilSvc.isNotNullOrEmpty(this.localStorageSvc.get(g.MCHSetting))&&(this.mchSetting=JSON.parse(this.localStorageSvc.get(g.MCHSetting))),this.mchSetting&&("0"===this.mchSetting.deliveryMode||"1"===this.mchSetting.deliveryMode&&this.mchSetting.totalContactCount>1)){var o=this.agentInfo.resourceBaseUrl+this.addContactUri.replace("{sessionId}",this.localStorageSvc.get(g.SessionId)),i=this.getRoutabilityObject(t);return e&&this.triggerMCHSettingChangeEvent(i),new Promise(function(t,e){l.httpWrapper.post(o,i).toPromise().then(function(e){l.logger.debug(n.className,"add contact success:-"+JSON.stringify(e)),t(e)},function(t){l.logger.error(n.className,"add contact failed:-"+JSON.stringify(t)),e(new _n(En.AddContact_Failed,t))})})}},n.prototype.getRoutabilityObject=function(n){void 0===n&&(n=!1);var t={chat:!1,email:!1,workitem:!1};if(!n){var e=0,l=null,o=null,i=0,s=0;if(this.validationUtilSvc.isNotNullOrEmpty(this.localStorageSvc.get(g.MCHSetting))&&(this.mchSetting=JSON.parse(this.localStorageSvc.get(g.MCHSetting))),!this.mchSetting||this.contacts.length>=this.mchSetting.totalContactCount)return t;for(o=0;o<this.contacts.length;o++)(l=this.contacts[o]).contactType===An.Chat?e++:l.contactType===An.Email&&"parked"!==l.Status?i++:"WorkItemContactEvent"===l.contactType&&s++;t={chat:e<this.mchSetting.chatThreshold,email:i<this.mchSetting.emailThreshold,workitem:s<this.mchSetting.workItemThreshold}}return t},n.prototype.onMchAgentSettingsChangeEvent=function(n){this.mchSetting=new In,this.mchSetting.parseData(n),this.localStorageSvc.set(g.MCHSetting,JSON.stringify(this.mchSetting)),this.validationUtilSvc.isNotNullOrEmpty(this.localStorageSvc.get(g.StateInfo))&&(this.agentStateInfo=JSON.parse(this.localStorageSvc.get(g.StateInfo))),"0"===this.mchSetting.deliveryMode&&"Available"===this.agentStateInfo.state&&this.addContactCall(),this.triggerMCHSettingChangeEvent()},n.prototype.triggerMCHSettingChangeEvent=function(n){void 0===n&&(n=null);var t=n||this.getRoutabilityObject(),e=this.getFinalNextState(),l=this.agentStateInfo&&this.agentStateInfo.state.toLowerCase();this.mchRequestContactEnabled=this.mchSetting&&this.mchSetting.totalContactCount&&M.toBoolean(this.mchSetting.requestContact)&&(t.chat||t.email||t.workitem)&&e!==xn.Unavailable&&l!==xn.Available,this.mchAgentSettingsChangeEvent.next(this.mchRequestContactEnabled)},n.prototype.onWorkItemContact=function(n){var t=new kn,e=!0,l=0;for(t.parseData(n),l=0;l<this.contacts.length;l++)if(this.contacts[l].id===t.id){t.workItemPayload=this.contacts[l].workItemPayload,t.isActiveContact=!0===t.inFocus&&t.status!==Tn.Interrupted,t.focused=this.contacts[l].focused,t.visited=this.contacts[l].visited,t.sfWorkItemType=this.contacts[l].sfWorkItemType,t.refused=this.contacts[l].status===Tn.Incoming&&t.status===Tn.Disconnected,t.isDispositionSubmitted=this.contacts[l].isDispositionSubmitted,this.contacts[l]=t,e=!1;break}e&&(this.contacts.push(t),this.triggerMCHSettingChangeEvent()),this.localStorageSvc.set(g.LastAttentedContactId,t.id),this.localStorageSvc.set(g.Contacts,JSON.stringify(this.contacts)),this.contactUpdateEvent.next(this.contacts)},n.prototype.holdContact=function(t){var e=this,l=this.agentInfo.resourceBaseUrl+this.holdContactUri.replace("{sessionId}",this.localStorageSvc.get(g.SessionId)).replace("{contactId}",t);return new Promise(function(t,o){e.httpWrapper.post(l,{}).toPromise().then(function(l){e.logger.debug(n.className,"hold contact success:-"+JSON.stringify(l)),t(l)},function(t){e.logger.error(n.className,"hold contact failed:-"+JSON.stringify(t)),o(new _n(En.Hold_Failed,t))})})},n.prototype.resumeContact=function(t){var e=this,l=this.agentInfo.resourceBaseUrl+this.resumeContactUri.replace("{sessionId}",this.localStorageSvc.get(g.SessionId)).replace("{contactId}",t);return new Promise(function(t,o){e.httpWrapper.post(l,{}).toPromise().then(function(l){e.logger.debug(n.className,"resume contact success:-"+JSON.stringify(l)),t(l)},function(t){e.logger.error(n.className,"resume contact failed:-"+JSON.stringify(t)),o(new _n(En.Resume_Failed,t))})})},n.prototype.onMuteEvent=function(n){this.agentMuted=M.toBoolean(n.AgentMuted),this.localStorageSvc.set(g.AgentMuted,JSON.stringify(this.agentMuted)),this.updateMuteEvent.next()},n.prototype.muteAgent=function(){var t=this,e=this.agentInfo.resourceBaseUrl+this.muteAgentUri.replace("{sessionId}",this.localStorageSvc.get(g.SessionId));return new Promise(function(l,o){t.httpWrapper.post(e,{}).toPromise().then(function(e){t.logger.debug(n.className,"mute agent success:-"+JSON.stringify(e)),l(e)},function(e){t.logger.error(n.className,"mute agent failed:-"+JSON.stringify(e)),o(new _n(En.Mute_Failed,e))})})},n.prototype.unmuteAgent=function(){var t=this,e=this.agentInfo.resourceBaseUrl+this.unmuteAgentUri.replace("{sessionId}",this.localStorageSvc.get(g.SessionId));return new Promise(function(l,o){t.httpWrapper.post(e,{}).toPromise().then(function(e){t.logger.debug(n.className,"unmute agent success:-"+JSON.stringify(e)),l(e)},function(e){t.logger.error(n.className,"unmute agent failed:-"+JSON.stringify(e)),o(new _n(En.UnMute_Failed,e))})})},n.prototype.maskCall=function(t){var e=this,l=this.agentInfo.resourceBaseUrl+this.maskCallUri.replace("{sessionId}",this.localStorageSvc.get(g.SessionId)).replace("{contactId}",t);return new Promise(function(t,o){e.httpWrapper.post(l,{}).toPromise().then(function(l){e.logger.debug(n.className,"mask call success:-"+JSON.stringify(l)),t(l)},function(t){e.logger.error(n.className,"mask call failed:-"+JSON.stringify(t)),o(new _n(En.Mask_Failed,t))})})},n.prototype.unmaskCall=function(t){var e=this,l=this.agentInfo.resourceBaseUrl+this.unmaskCallUri.replace("{sessionId}",this.localStorageSvc.get(g.SessionId)).replace("{contactId}",t);return new Promise(function(t,o){e.httpWrapper.post(l,{}).toPromise().then(function(l){e.logger.debug(n.className,"unmask call success:-"+JSON.stringify(l)),t(l)},function(t){e.logger.error(n.className,"unmask call failed:-"+JSON.stringify(t)),o(new _n(En.UnMask_Failed,t))})})},n.prototype.recordCall=function(t){var e=this,l=this.agentInfo.resourceBaseUrl+this.recordCallUri.replace("{sessionId}",this.localStorageSvc.get(g.SessionId)).replace("{contactId}",t);return new Promise(function(t,o){e.httpWrapper.post(l,{}).toPromise().then(function(l){e.logger.debug(n.className,"record call success:-"+JSON.stringify(l)),t(l)},function(t){e.logger.error(n.className,"record call failed:-"+JSON.stringify(t)),o(new _n(En.Record_Failed,t))})})},n.prototype.endContact=function(t){var e=this,l=this.agentInfo.resourceBaseUrl+this.endContactUri.replace("{sessionId}",this.localStorageSvc.get(g.SessionId)).replace("{contactId}",t);return new Promise(function(t,o){e.httpWrapper.post(l,{}).toPromise().then(function(l){e.logger.debug(n.className,"end contact success:-"+JSON.stringify(l)),t(l)},function(t){e.logger.error(n.className,"end contact failed:-"+JSON.stringify(t)),o(new _n(En.End_Failed,t))})})},n.prototype.dialPhone=function(t){var e=this,l=this.agentInfo.resourceBaseUrl+this.dialPhoneUri.replace("{sessionId}",this.localStorageSvc.get(g.SessionId));return new Promise(function(o,i){e.httpWrapper.post(l,t).toPromise().then(function(t){e.logger.debug(n.className,"call make success:-"+JSON.stringify(t)),o(t)},function(t){e.logger.debug(n.className,"call make failed"+JSON.stringify(t)),i(new _n(En.DialPhone_Failed,t))})})},n.prototype.onPromiseKeeperEvent=function(n){var t=new cn;t.id=n.CallbackId,t.target=n.TargetType.charAt(0),t.skillId=n.SkillId,t.phoneNumber=n.DialNumber,t.firstName=n.FirstName,t.lastName=n.LastName,t.name=n.FirstName+" "+n.LastName,t.start=new Date,t.end=new Date(n.CallbackExpireTime),t.notes=n.Notes,this.localStorageSvc.set(g.CommitmentReminderData,JSON.stringify(t)),this.promiseKeeperEvent.next(t)},n.prototype.makeCommitmentCall=function(t){var e=this,l=this.agentInfo.resourceBaseUrl+this.makeCommitmentCallUri.replace("{sessionId}",this.localStorageSvc.get(g.SessionId)).replace("{callbackId}",t);return new Promise(function(t,o){e.httpWrapper.post(l,{}).toPromise().then(function(l){e.logger.debug(n.className,"Make commitment call success:-"+JSON.stringify(l)),t(l)},function(t){e.logger.error(n.className,"Make commitment call failed:-"+JSON.stringify(t)),o(t)})})},n.prototype.rescheduleCommitment=function(t,e){var l=this,o=this.agentInfo.resourceBaseUrl+this.rescheduleCommitmentUri.replace("{sessionId}",this.localStorageSvc.get(g.SessionId)).replace("{callbackId}",t);return new Promise(function(t,i){l.httpWrapper.post(o,{rescheduleDate:e}).toPromise().then(function(e){l.logger.debug(n.className,"Reschedule commitment success:-"+JSON.stringify(e)),t(e)},function(t){l.logger.error(n.className,"Reschedule commitment failed:-"+JSON.stringify(t)),i(t)})})},n.prototype.acceptConsultCall=function(t){var e=this,l=this.agentInfo.resourceBaseUrl+this.acceptConsultUri.replace("{sessionId}",this.localStorageSvc.get(g.SessionId)).replace("{contactId}",t);return new Promise(function(t,o){e.httpWrapper.post(l,{}).toPromise().then(function(l){e.logger.debug(n.className,"Consult Call Accept Success :-"),t(l)},function(t){e.logger.error(n.className,"Consult Call Accept Error"+JSON.stringify(t)),o(t)})})},n.prototype.dialSkill=function(t){var e=this,l=this.agentInfo.resourceBaseUrl+this.dialSkillUri.replace("{sessionId}",this.localStorageSvc.get(g.SessionId)),o={skillId:t};return new Promise(function(t,i){e.httpWrapper.post(l,o).toPromise().then(function(l){e.logger.debug(n.className,"Dial Skill Success:-"),t(l)},function(t){e.logger.error(n.className,"Dial Skill Error:-"+JSON.stringify(t)),i(new _n(En.DialSkill_Failed,t))})})},n.prototype.consultAgent=function(t){var e=this,l=this.agentInfo.resourceBaseUrl+this.consultAgentUri.replace("{sessionId}",this.localStorageSvc.get(g.SessionId)),o={targetAgentId:t};return new Promise(function(t,i){e.httpWrapper.post(l,o).toPromise().then(function(l){e.logger.debug(n.className,"Consult Agent Success:-"),t(l)},function(t){e.logger.error(n.className,"Consult Agent Error:-"+JSON.stringify(t)),i(new _n(En.ConsultAgent_Failed,t))})})},n.prototype.dialAgent=function(t,e){var l=this,o=this.agentInfo.resourceBaseUrl+this.dialAgentUri.replace("{sessionId}",this.localStorageSvc.get(g.SessionId)),i={targetAgentId:t,parentContactId:e};return new Promise(function(t,e){l.httpWrapper.post(o,i).toPromise().then(function(e){l.logger.debug(n.className,"Dial Agent Success:-"),t(e)},function(t){l.logger.error(n.className,"Dial Agent Error:-"+JSON.stringify(t)),e(new _n(En.DialAgent_Failed,t))})})},n.prototype.sendDTMFTones=function(t){var e=this,l=this.agentInfo.resourceBaseUrl+this.sendDTMFUri.replace("{sessionId}",this.localStorageSvc.get(g.SessionId)),o={DtmfSequence:t,ToneDurationMS:120,ToneSpacingMS:120};return new Promise(function(t,i){e.httpWrapper.post(l,JSON.stringify(o)).toPromise().then(function(l){e.logger.debug(n.className,"sendDTMFTones success:-"+JSON.stringify(l)),t(l)},function(t){e.logger.debug(n.className,"sendDTMFTones failed"+JSON.stringify(t)),i(t)})})},n.prototype.transferContact=function(){var t=this,e=this.agentInfo.resourceBaseUrl+this.transferContactUri.replace("{sessionId}",this.localStorageSvc.get(g.SessionId));return new Promise(function(l,o){t.httpWrapper.post(e,{}).toPromise().then(function(e){t.logger.debug(n.className,"transfer call contact success:-"+JSON.stringify(e)),l(e)},function(e){t.logger.error(n.className,"transfer call contact failed:-"+JSON.stringify(e)),o(new _n(En.Transfer_Failed,e))})})},n.prototype.getContactHistory=function(t){var e=this,l=JSON.parse(this.localStorageSvc.get(g.AgentInfo)).agentId,o=this.getContactHistoryUri.replace("{agentId}",l),i=this.agentInfo.resourceBaseUrl+this.urlUtilSvc.appendQueryString(o,t);return new Promise(function(t,l){e.httpWrapper.get(i).toPromise().then(function(l){e.logger.debug(n.className,"Get contact history success");var o=[];e.validationUtilSvc.isNotNullOrUndefined(l.contactList.contactStates)?(l.contactList.contactStates.forEach(function(n){var t=new gn;t.parseData(n),o.push(t)}),t(o)):t(o)},function(t){e.logger.error(n.className,"Get contact history failed"+JSON.stringify(t)),l(t)})})},n.prototype.setDisposition=function(t,e){var l=this,o=this.agentInfo.resourceBaseUrl+this.setDispositionUri.replace("{sessionId}",this.localStorageSvc.get(g.SessionId)).replace("{contactId}",t);return new Promise(function(t,i){l.httpWrapper.post(o,e).toPromise().then(function(e){l.logger.debug(n.className,"set disposition success:-"+JSON.stringify(e)),t(e)},function(t){l.logger.error(n.className,"set disposition failed:-"+JSON.stringify(t)),i(new _n(En.SubmitDisposition_Failed,t))})})},n.prototype.getAgentPerformance=function(t,e){var l=this,o=JSON.parse(this.localStorageSvc.get(g.AgentInfo)).agentId,i=this.getAgentPerformanceUri.replace("{agentId}",o),s=this.agentInfo.resourceBaseUrl+this.urlUtilSvc.appendQueryString(i,{startDate:t,endDate:e,fields:"agentId,teamId,inboundHandled,outboundHandled,totalHandled,availableTime,unavailableTime,inboundTalkTime,outboundTalkTime,loginTime"});return this.httpWrapper.get(s).pipe(Object(U.a)(function(t){var e;return l.logger.debug(n.className,"Get Agent Performance Success:-"),l.validationUtilSvc.isNotNullOrEmpty(t)&&l.validationUtilSvc.isNotNullOrEmptyArray(t.agentPerformance)&&(e=new On).parseData(t.agentPerformance[0]),e}),Object(q.a)(function(t){return l.logger.error(n.className,"Get Agent Performance Error:-"+JSON.stringify(t)),Object(L.a)(t)}))},n.prototype.getTeamPerformance=function(t,e){var l=this,o=JSON.parse(this.localStorageSvc.get(g.AgentInfo)).teamId,i=this.getTeamPerformanceUri.replace("{teamId}",o),s=this.agentInfo.resourceBaseUrl+this.urlUtilSvc.appendQueryString(i,{startDate:t,endDate:e,fields:"teamId,inboundHandled,outboundHandled,totalHandled,availableTime,unavailableTime,inboundTalkTime,outboundTalkTime,loginTime"});return this.httpWrapper.get(s).pipe(Object(U.a)(function(t){var e;return l.logger.debug(n.className,"Get Team Performance Success:-"),l.validationUtilSvc.isNotNullOrEmpty(t)&&l.validationUtilSvc.isNotNullOrEmptyArray(t.teamPerformanceTotal)&&(e=new On).parseData(t.teamPerformanceTotal[0]),e}),Object(q.a)(function(t){return l.logger.error(n.className,"Get Team Performance Error:-"+JSON.stringify(t)),Object(L.a)(t)}))},n.prototype.conferenceContacts=function(){var t=this,e=this.agentInfo.resourceBaseUrl+this.conferenceContactUri.replace("{sessionId}",this.localStorageSvc.get(g.SessionId));return new Promise(function(l,o){t.httpWrapper.post(e,{}).toPromise().then(function(e){t.logger.debug(n.className,"conference contacts success:-"+JSON.stringify(e)),l(e)},function(e){t.logger.error(n.className,"conference contacts failed:-"+JSON.stringify(e)),o(new _n(En.Conference_Failed,e))})})},n.prototype.acceptContact=function(t){var e=this,l=this.agentInfo.resourceBaseUrl+this.acceptContactUri.replace("{sessionId}",this.localStorageSvc.get(g.SessionId)).replace("{contactId}",t);return new Promise(function(t,o){e.httpWrapper.post(l,{}).toPromise().then(function(l){e.logger.debug(n.className,"accept contact success:-"+JSON.stringify(l)),t(l)},function(t){e.logger.error(n.className,"accept contact failed:-"+JSON.stringify(t)),o(new _n(En.AcceptContact_Failed,t))})})},n.prototype.rejectContact=function(t){var e=this,l=this.agentInfo.resourceBaseUrl+this.rejectContactUri.replace("{sessionId}",this.localStorageSvc.get(g.SessionId)).replace("{contactId}",t);return this.triggerMCHSettingChangeEvent(),new Promise(function(t,o){e.httpWrapper.post(l,{}).toPromise().then(function(l){e.logger.debug(n.className,"reject contact success:-"+JSON.stringify(l)),t(l)},function(t){e.logger.error(n.className,"reject contact failed:-"+JSON.stringify(t)),o(new _n(En.DeclineContact_Failed,t))})})},n.prototype.transferWorkItemToAgent=function(t,e){var l=this,o=this.agentInfo.resourceBaseUrl+this.transferWorkItemUri.replace("{sessionId}",this.localStorageSvc.get(g.SessionId));o=o.replace("{contactId}",e);var i={targetAgentName:t};return new Promise(function(t,e){l.httpWrapper.post(o,i).toPromise().then(function(e){l.logger.debug(n.className,"Work Item transfer to agent Success:-"),t(e)},function(t){l.logger.error(n.className,"Work Item transfer to agent Error:-"+JSON.stringify(t)),e(new _n(En.Transfer_Failed,t))})})},n.prototype.transferWorkItemToSkill=function(t,e){var l=this,o=this.agentInfo.resourceBaseUrl+this.transferWorkItemSkilUri.replace("{sessionId}",this.localStorageSvc.get(g.SessionId));o=o.replace("{contactId}",e);var i={targetSkillName:t};return new Promise(function(t,e){l.httpWrapper.post(o,i).toPromise().then(function(e){l.logger.debug(n.className,"Work Item transfer to skill Success:-"),t(e)},function(t){l.logger.error(n.className,"Work Item transfer to skill Error:-"+JSON.stringify(t)),e(new _n(En.Transfer_Failed,t))})})},n.prototype.activateContact=function(t){var e=this,l=this.agentInfo.resourceBaseUrl+this.activateContactUri.replace("{sessionId}",this.localStorageSvc.get(g.SessionId));return l=l.replace("{contactId}",t),new Promise(function(t,o){e.httpWrapper.post(l,{}).toPromise().then(function(l){e.logger.debug(n.className,"Activate Contact Success:-"),t(l)},function(t){e.logger.error(n.className,"Activate Contact Error:-"+JSON.stringify(t)),o(new _n(En.ActiveContact_Failed,t))})})},n.prototype.getICBrandingProfiles=function(){var t=this,e=this.agentInfo.resourceBaseUrl+this.getBrandingProfilesUri+"?businessUnitId="+encodeURIComponent(this.agentInfo.busNo)+"&fields=profileId, active, coBrand, sfdcAgentLogo";return new Promise(function(l,o){t.httpWrapper.get(e).toPromise().then(function(e){t.logger.debug(n.className,"Get branding profile for central Success:-"),l(e)},function(e){t.logger.error(n.className,"Get branding profile for central Error:-"+JSON.stringify(e)),o(new _n(En.Branding_Failed,e))})})},n.prototype.getCXOneBrandingProfiles=function(){var t=this,e=JSON.parse(this.localStorageSvc.get(g.AuthSettings)).userHubWebBaseUrl+this.getCXoneBrandingProfileUri+"?fields=profileId,status,coBrand,sfdcLogoUrl";return new Promise(function(l,o){t.httpWrapper.get(e).toPromise().then(function(e){t.logger.debug(n.className,"Get branding profile for CXOne Success:-"),l(e)},function(e){t.logger.error(n.className,"Get branding profile for CXOne Error:-"+JSON.stringify(e)),o(new _n(En.Branding_Failed,e))})})},n.className="AgentService",n.ngInjectableDef=Object(o.T)({factory:function(){return new n(Object(o.X)(Dn),Object(o.X)(p),Object(o.X)(_),Object(o.X)(m),Object(o.X)(f),Object(o.X)(b),Object(o.X)(O),Object(o.X)(P))},token:n,providedIn:"root"}),n}(),qn=function(){function n(n,t,e,l,o){this.httpWrapper=n,this.localStorageSvc=t,this.urlUtilSvc=e,this.validationUtilSvc=l,this.logger=o,this.permissions=[],this.agentMessages=[],this.agentSkillList=[],this.timezonesList=[],this.agentIndicatorsInfo=[],this.dispositionList={},this.skillList={},this.tags={},this.getBusinessUnitUri="/services/v15.0/business-unit",this.getPermissionsUri="/services/v15.0/permissions/{agentId}",this.getAgentSettingsUri="/services/v15.0/agents/{agentId}/agent-settings",this.getServerTimeUri="/services/v15.0/server-time",this.getTeamUnavailableCodesUri="/services/v15.0/teams/{teamId}/unavailable-codes",this.getSkillDetailsUri="/services/v15.0/skills/{skillId}",this.getAgentMessagesUri="/services/v15.0/agents/{agentId}/messages",this.getAgentSkillsUri="/services/v15.0/agents/{agentId}/skills",this.getTimezonesUri="/services/v15.0/timezones",this.getSkillsUri="/services/v15.0/skills",this.getWfoScheduleUri="/schedules/user/{userId}?start={startDate}&end={endDate}",this.getCommitmentsUri="/services/v15.0/agents/{agentId}/scheduled-callbacks",this.createCommitmentUri="/services/v15.0/scheduled-callbacks",this.updateCommitmentUri="/services/v15.0/scheduled-callbacks/{callbackId}",this.indicatorUri="/services/v15.0/agents/{agentId}/indicators",this.scriptListUri="/services/v15.0/scripts",this.spawnScriptUri="/services/v15.0/scripts/{scriptId}/start",this.signalScriptUri="/services/v15.0/interactions/{contactId}/signal",this.getAgentDetailsUri="/services/v15.0/agents/{agentId}",this.getAllAgentsUri="/services/v15.0/cache/agentstate",this.addressBooksUri="/services/v15.0/agents/{agentId}/address-books",this.standardAddressBookUri="/services/v15.0/address-books/{addressBookId}/entries",this.dynamicAddressBookUri="/services/v15.0/address-books/{addressBookId}/dynamic-entries",this.getDispositionsUri="/services/v15.0/skills/{skillId}/dispositions",this.getTagsUri="/services/v15.0/skills/{skillId}/tags",this.setTagsUri="/services/v15.0/contacts/{contactId}/tags"}return n.prototype.initialize=function(n){this.agentInfo=n},n.prototype.getBusinessUnit=function(){var t=this,e=this.agentInfo.resourceBaseUrl+this.getBusinessUnitUri;return e=this.urlUtilSvc.appendQueryString(e,{fields:"features, maxConferenceParties"}),new Promise(function(l,o){var i=t.localStorageSvc.get(g.BusinessUnit);t.validationUtilSvc.isNullOrEmpty(i)?t.httpWrapper.get(e).toPromise().then(function(e){t.logger.debug(n.className,"Get Business Unit Success"),t.businessUnit=new G,t.businessUnit.features=[],t.businessUnit.maxConference=3,t.validationUtilSvc.isNotNullOrEmpty(e.businessUnits[0].features)&&e.businessUnits[0].features.forEach(function(n){n.isEnabled&&(t.businessUnitProduct=new X,t.businessUnitProduct.parseData(n),t.businessUnit.features.push(t.businessUnitProduct))}),t.validationUtilSvc.isNotNullOrEmpty(e.businessUnits[0].maxConferenceParties)&&(t.businessUnit.maxConference=e.businessUnits[0].maxConferenceParties),t.localStorageSvc.set(g.BusinessUnit,JSON.stringify(t.businessUnit)),l(t.businessUnit)},function(e){t.logger.error(n.className,"Get Business Unit Failed:-"+JSON.stringify(e)),o(e)}):(t.logger.debug(n.className,"Business Unit information available in local storage"),t.businessUnit=JSON.parse(i),l(t.businessUnit))})},n.prototype.getPermissions=function(t){var e=this;void 0===t&&(t=!1);var l=this.agentInfo.resourceBaseUrl+this.getPermissionsUri.replace("{agentId}",this.agentInfo.agentId),o=["agentsfsoftphone","recordcontact","masking","muteagent","multipartyconferencing","hideagentidentityinfo","hideagentcallerid","hideagentphonenumber"];return new Promise(function(i,s){var c=e.localStorageSvc.get(g.Permissions);!0===t||e.validationUtilSvc.isNullOrEmpty(c)?e.httpWrapper.get(l).toPromise().then(function(t){e.logger.debug(n.className,"Get Permissions Success"),e.permissions=[];for(var l=function(n){t.permissions.forEach(function(t){if(t.Key.toLowerCase()===o[n]){var l=new Q;l.parseData(t),e.permissions.push(l)}})},s=0;s<o.length;s++)l(s);e.localStorageSvc.set(g.Permissions,JSON.stringify(e.permissions)),i(e.permissions)},function(t){e.logger.error(n.className,"Get Permissions Failed:-"+JSON.stringify(t)),s(t)}):(e.logger.debug(n.className,"Permissions information available in local storage"),e.permissions=JSON.parse(c),i(e.permissions))})},n.prototype.getAgentSettings=function(){var t=this,e=this.agentInfo.resourceBaseUrl+this.getAgentSettingsUri.replace("{agentId}",this.agentInfo.agentId);return new Promise(function(l,o){var i=t.localStorageSvc.get(g.AgentSettings);t.validationUtilSvc.isNullOrEmpty(i)?t.httpWrapper.get(e).toPromise().then(function(e){t.logger.debug(n.className,"Get AgentSettings Success"),t.agentSettings=new $,t.agentSettings.parseData(e),t.localStorageSvc.set(g.AgentSettings,JSON.stringify(t.agentSettings)),l(t.agentSettings)},function(e){t.logger.error(n.className,"Get AgentSettings Failed:-"+JSON.stringify(e)),o(e)}):(t.logger.debug(n.className,"Agent Settings information available in local storage"),t.agentSettings=JSON.parse(i),l(t.agentSettings))})},n.prototype.getTimeStamp=function(){return this.httpWrapper.get(this.agentInfo.resourceBaseUrl+this.getServerTimeUri).toPromise()},n.prototype.getTeamUnavailableCodes=function(t){var e=this;void 0===t&&(t=!1);var l=this.agentInfo.resourceBaseUrl+this.getTeamUnavailableCodesUri.replace("{teamId}",this.agentInfo.teamId);return l=this.urlUtilSvc.appendQueryString(l,{activeOnly:!0}),new Promise(function(o,i){var s=e.localStorageSvc.get(g.UnavailableCodes);!0===t||e.validationUtilSvc.isNullOrEmpty(s)?e.httpWrapper.get(l).toPromise().then(function(t){e.logger.debug(n.className,"Get Team Unavailable codes Success"),e.unavailableCodes=[],t.unavailableCodes.forEach(function(n){var t=new V;t.parseData(n),e.unavailableCodes.push(t)}),e.localStorageSvc.set(g.UnavailableCodes,JSON.stringify(e.unavailableCodes)),o(e.unavailableCodes)},function(t){e.logger.debug(n.className,"Get Team Unavailable codes Failed:"+JSON.stringify(t)),i(t)}):(e.logger.debug(n.className,"Team unavailable codes information available in local storage"),e.unavailableCodes=JSON.parse(s),o(e.unavailableCodes))})},n.prototype.getSkillDetails=function(t){var e=this,l=this.agentInfo.resourceBaseUrl+this.getSkillDetailsUri.replace("{skillId}",t);return new Promise(function(o,i){e.skillList.hasOwnProperty(t)?o(e.skillList[t]):e.httpWrapper.get(l).toPromise().then(function(l){e.logger.debug(n.className,"Get Skill Details Success");var i=new nn;i.parseData(l),e.skillList[t]=i,o(i)},function(t){e.logger.error(n.className,"Get Skill Details Failed-"+JSON.stringify(t)),i(t)})})},n.prototype.getAgentMessages=function(t){var e=this;void 0===t&&(t=!1);var l=this.agentInfo.resourceBaseUrl+this.getAgentMessagesUri.replace("{agentId}",this.agentInfo.agentId);return new Promise(function(o,i){var s=JSON.parse(e.localStorageSvc.get(g.AgentMessages));!0===t||e.validationUtilSvc.isNullOrEmpty(s)?e.httpWrapper.get(l).toPromise().then(function(t){e.logger.debug(n.className,"Get AgentMessages Success:"+JSON.stringify(t));var l=[];t.hasOwnProperty("messages")&&e.validationUtilSvc.isNotNullOrEmptyArray(t.messages)&&t.messages.forEach(function(n){var t=new R;null==(null!=s?s.find(function(t){return t.id===n.MessageId}):null)&&(t.parseData(n),l.push(JSON.parse(JSON.stringify(t))))});for(var i=0;i<l.length;i++)e.agentMessages.unshift(l[i]);e.agentMessages.sort(function(n,t){return t.receivedTime-n.receivedTime}),e.localStorageSvc.set(g.AgentMessages,JSON.stringify(e.agentMessages)),o(e.agentMessages)},function(t){e.logger.error(n.className,"Get AgentMessages Failed:"+JSON.stringify(t)),i(t)}):(e.logger.debug(n.className,"Agent Messages available in local storage"),e.agentMessages=s,o(e.agentMessages))})},n.prototype.getAgentSkills=function(t){var e=this;void 0===t&&(t=!1);var l={fields:["skillId","skillName","isOutbound","isDialer","isNaturalCalling","outboundStrategy","priorityBlending","mediaTypeId","isRestricted","isActive"].join(","),isSkillActive:!0},o=this.agentInfo.resourceBaseUrl+this.getAgentSkillsUri.replace("{agentId}",this.agentInfo.agentId);return o=this.urlUtilSvc.appendQueryString(o,l),new Promise(function(l,i){var s=e.localStorageSvc.get(g.AgentSkillList);if(!0!==t&&!e.validationUtilSvc.isNullOrEmpty(s)&&"[]"!==s)return e.logger.debug(n.className,"Agent skills available in local storage"),e.agentSkillList=JSON.parse(s),l(e.agentSkillList);e.httpWrapper.get(o).toPromise().then(function(t){e.logger.debug(n.className,"Get Agent skills Success:");for(var o=[],i=0;i<t.agentSkillAssignments.length;i++){var s=t.agentSkillAssignments[i];if(s.isActive&&!s.isRestricted){var c=new ln;c.parseData(s),o.push(c)}}e.agentSkillList=o,e.localStorageSvc.set(g.AgentSkillList,JSON.stringify(e.agentSkillList)),l(e.agentSkillList)},function(t){e.logger.error(n.className,"Get Agent skills Failed:-"+JSON.stringify(t)),i(t)})})},n.prototype.getTimezones=function(){var t=this,e=this.agentInfo.resourceBaseUrl+this.getTimezonesUri;return new Promise(function(l,o){var i=t.localStorageSvc.get(g.TimezonesList);if(!t.validationUtilSvc.isNullOrEmpty(i))return t.logger.debug(n.className,"Timezone information available in local storage"),t.timezonesList=JSON.parse(i),l(t.timezonesList);t.httpWrapper.get(e).toPromise().then(function(e){t.logger.debug(n.className,"Get Timezones Success");for(var o=[],i=0;i<e.timeZones.length;i++){var s=new an;s.parseData(e.timeZones[i]),o.push(s)}t.timezonesList=o,t.localStorageSvc.set(g.TimezonesList,JSON.stringify(t.timezonesList)),l(t.timezonesList)},function(e){t.logger.error(n.className,"Get Timezones Failed:-"+JSON.stringify(e)),o(e)})})},n.prototype.getSkillsList=function(t,e,l,o){var i=this,s={fields:["skillId","skillName","mediaTypeId","mediaTypeName","isActive","isOutbound"].join(","),isActive:!0,mediaTypeId:t,skip:e,top:l,orderby:"skillName",searchString:o},c=this.agentInfo.resourceBaseUrl+this.urlUtilSvc.appendQueryString(this.getSkillsUri,s);return new Promise(function(t,e){i.httpWrapper.get(c).toPromise().then(function(e){i.logger.debug(n.className,"Get Skill List Success:");var l=[];e.skills.forEach(function(n){if(!n.isOutbound){var t=new sn;t.parse(n),l.push(t)}});var o=new Cn;o.parseData({totalRecords:e.totalRecords,totalRecordsReceived:e.skills.length,skillList:l}),t(o)},function(t){i.logger.error(n.className,"Get Skill List Error:-"+JSON.stringify(t)),e(t)})})},n.prototype.getWfoSchedule=function(){var t=this;this.logger.info(n.className,"Get WFO Schedule");var e=new Date;e.setHours(0,0,0);var l=new Date(e);l.setDate(e.getDate()+1);var o=JSON.parse(this.localStorageSvc.get(g.AuthSettings)),i=JSON.parse(this.localStorageSvc.get(g.AgentSessionInfo)),s=o.userHubWebBaseUrl+this.getWfoScheduleUri.replace("{userId}",i.userId).replace("{startDate}",e.toISOString()).replace("{endDate}",l.toISOString());return this.httpWrapper.get(s).pipe(Object(U.a)(function(e){t.logger.info(n.className,"Get WFO Schedule Success");var l=e.schedules&&e.schedules[0]?e.schedules[0]:[],o=t.getActivities(l.activityIntervals),i=t.getShiftsAndActivities(l.shifts);return o.concat(i)}),Object(q.a)(function(e){return t.logger.info(n.className,"Get WFO Schedule Failed"),Object(L.a)(e)}))},n.prototype.getShiftsAndActivities=function(t){var e=this;this.logger.info(n.className,"Get Shifts and Activities");var l=[];return t&&t.length>0&&t.forEach(function(n){var t=new cn;t.name="shift",t.start=new Date(n.start),t.end=new Date(n.end),t.isWfo=!0,t.colorCode=n.baseActivityCode.activityCodeCategory.color,l.push(t),l=l.concat(e.getActivities(n.activityIntervals))}),l},n.prototype.getActivities=function(t){this.logger.info(n.className,"Get Activities");var e=[];return t&&t.length>0&&t.forEach(function(n){var t=new cn;t.name=n.activityCode.title,t.start=new Date(n.start),t.end=new Date(n.end),t.isWfo=!0,t.colorCode=n.activityCode.activityCodeCategory.color,e.push(t)}),e},n.prototype.getCommitments=function(){var t=this;this.logger.info(n.className,"Get Commitments");var e=this.agentInfo.resourceBaseUrl+this.getCommitmentsUri.replace("{agentId}",this.agentInfo.agentId);return this.httpWrapper.get(e).pipe(Object(U.a)(function(e){t.logger.info(n.className,"Get Commitments Success");var l=[];return t.validationUtilSvc.isNotNullOrUndefined(e.callbacks)&&e.callbacks.length>0&&e.callbacks.forEach(function(n){var t=new cn;t.firstName=n.firstName,t.lastName=n.lastName,t.id=n.callbackId,t.target=n.target,t.targetAgentId=n.agentId,t.skillId=n.skillId,t.phoneNumber=n.dialNumber,t.notes=n.notes,t.name="commitment",t.start=new Date(n.callbackTime),t.isWfo=!1,l.push(t)}),l}),Object(q.a)(function(e){return t.logger.info(n.className,"Get Commitments Failed"),Object(L.a)(e)}))},n.prototype.updateCommitment=function(t,e){var l=this,o=this.agentInfo.resourceBaseUrl+this.updateCommitmentUri.replace("{callbackId}",t);return new Promise(function(t,i){l.httpWrapper.put(o,e).subscribe(function(e){l.logger.info(n.className,"Update commitment success"),t(e)},function(t){l.logger.error(n.className,"Update commitment failed -"+JSON.stringify(t)),i(t)})})},n.prototype.createCommitment=function(t){var e=this,l=this.agentInfo.resourceBaseUrl+this.createCommitmentUri;return new Promise(function(o,i){e.httpWrapper.post(l,t).subscribe(function(t){e.logger.info(n.className,"Create commitment success - "+JSON.stringify(t)),o(t)},function(t){e.logger.error(n.className,"Create commitment failed - "+JSON.stringify(t)),i(t)})})},n.prototype.getAgentDetails=function(t){var e=this,l=this.agentInfo.resourceBaseUrl+this.urlUtilSvc.appendQueryString(this.getAgentDetailsUri.replace("{agentId}",t),{fields:"agentId, firstName, lastName"});return new Promise(function(t,o){e.httpWrapper.get(l).toPromise().then(function(l){if(e.logger.info(n.className,"Get Agent Details Success"),e.validationUtilSvc.isNotNullOrEmpty(l.agents)){var o=new on;o.parseData(l.agents[0]),t(o)}},function(t){e.logger.error(n.className,"Get Agent Details Error "+JSON.stringify(t)),o(t)})})},n.prototype.getAllIndicators=function(){var t=this,e=this.agentInfo.resourceBaseUrl+this.indicatorUri.replace("{agentId}",this.agentInfo.agentId);return new Promise(function(l,o){t.httpWrapper.get(e).toPromise().then(function(e){t.agentIndicatorsInfo=[],t.logger.debug(n.className,"Get Indicators Success:"),t.validationUtilSvc.isNotNullOrEmpty(e)&&(e.indicators.forEach(function(n){var e=new rn;e.parseData(n),t.agentIndicatorsInfo.push(e)}),l(t.agentIndicatorsInfo))},function(e){t.logger.error(n.className,"Get Indicators error:"+JSON.stringify(e)),o(e)})})},n.prototype.getScriptList=function(t){var e=this,l=this.agentInfo.resourceBaseUrl+this.urlUtilSvc.appendQueryString(this.scriptListUri,{searchString:t,isActive:"True",fields:"scriptId"});return new Promise(function(t,o){e.httpWrapper.get(l).toPromise().then(function(l){e.logger.debug(n.className,"Get Script List Success:"),e.validationUtilSvc.isNotNullOrEmpty(l)&&e.validationUtilSvc.isNotNullOrEmptyArray(l.resultSet.scripts)&&t(l.resultSet.scripts[0].scriptId)},function(t){e.logger.error(n.className,"Get Script List Error:"+JSON.stringify(t)),o(t)})})},n.prototype.spawnScript=function(t,e,l,o){var i=this,s=this.agentInfo.resourceBaseUrl+this.spawnScriptUri.replace("{scriptId}",t),c={skillid:e,parameters:l,startdate:o};return new Promise(function(t,e){i.httpWrapper.post(s,c).subscribe(function(e){i.logger.info(n.className,"spawnScript success - "+JSON.stringify(e)),t(e)},function(t){i.logger.error(n.className,"spawnScript error - "+JSON.stringify(t)),e(t)})})},n.prototype.signalScript=function(t,e){var l=this,o=this.agentInfo.resourceBaseUrl+this.signalScriptUri.replace("{contactId}",t),i={p1:e[1],p2:e[2],p3:e[3],p4:e[4],p5:e[5]};return new Promise(function(t,e){l.httpWrapper.post(o,i).subscribe(function(e){l.logger.info(n.className,"SignalScript success - "+JSON.stringify(e)),t(e)},function(t){l.logger.error(n.className,"SignalScript error - "+JSON.stringify(t)),e(t)})})},n.prototype.deleteCommitment=function(t,e){var l=this,o=this.agentInfo.resourceBaseUrl+this.updateCommitmentUri.replace("{callbackId}",t.toString());return new Promise(function(t,i){l.httpWrapper.deleteWithBody(o,{description:e}).subscribe(function(e){l.logger.info(n.className,"Delete commitment success"),t(e)},function(t){l.logger.error(n.className,"Delete commitment failed -"+JSON.stringify(t)),i(t)})})},n.prototype.getAllAgents=function(t){var e=this,l=this.agentInfo.resourceBaseUrl+this.urlUtilSvc.appendQueryString(this.getAllAgentsUri,{Fields:"agentId,firstName,lastName,teamId,teamName,agentStateName,userName",UpdatedSince:t});return new Promise(function(t,o){e.httpWrapper.get(l).toPromise().then(function(l){if(e.logger.debug(n.className,"Getting Agent List SUCCESS"),e.validationUtilSvc.isNotNullOrEmpty(l)&&e.validationUtilSvc.isNotNullOrEmpty(l.resultSet)){var o=l.resultSet.agentState,i=l.resultSet.lastPollTime,s=[];e.validationUtilSvc.isNotNullOrEmptyArray(o)&&(o.forEach(function(n){var t=new on;t.parseData(n),s.push(t)}),s.sort(function(n,t){var e=n.firstName.toLowerCase(),l=t.firstName.toLowerCase();return e>l?1:e<l?-1:0}));var c=new mn;c.parseData({agentList:s,updatedSince:i}),t(c)}},function(t){e.logger.error(n.className,"Getting Agent List ERROR"+JSON.stringify(t)),o(t)})})},n.prototype.getAllAddressBooks=function(){var t=this,e=this.addressBooksUri.replace("{agentId}",this.agentInfo.agentId),l=this.agentInfo.resourceBaseUrl+this.urlUtilSvc.appendQueryString(e,{includeEntries:!1});return new Promise(function(e,o){t.httpWrapper.get(l).toPromise().then(function(l){t.logger.debug(n.className,"Get Address Books Success");var o=[];t.validationUtilSvc.isNotNullOrEmpty(l)&&t.validationUtilSvc.isNotNullOrEmptyArray(l.addressBooks)&&l.addressBooks.forEach(function(n){var t=new un;t.parseData(n),o.push(t)}),e(o)},function(e){t.logger.error(n.className,"Get Address Books Failed-"+JSON.stringify(e)),o(e)})})},n.prototype.getStandardEntries=function(t,e,l,o){var i=this,s={updatedSince:"10/10/1800",skip:e,top:l,searchString:o},c=this.standardAddressBookUri.replace("{addressBookId}",t),a=this.agentInfo.resourceBaseUrl+this.urlUtilSvc.appendQueryString(c,s);return new Promise(function(t,e){i.httpWrapper.get(a).toPromise().then(function(e){i.logger.debug(n.className,"Get Standard Address Books Success");var l=new vn;if(i.validationUtilSvc.isNotNullOrEmpty(e)){var o=e.totalRecords,s=[];e.addressBook.addressBookEntries.forEach(function(n){var t=new dn;t.parseData(n),s.push(t)}),l.parseData({totalRecords:o,addressBooksEntries:s,addressBookId:e.addressBook.addressBookId})}t(l)},function(t){i.logger.error(n.className,"Get Standard Address Books Failed-"+JSON.stringify(t)),e(t)})})},n.prototype.getDynamicEntries=function(t,e,l,o){var i=this,s={updatedSince:"10/10/1800",skip:e,top:l,searchString:o},c=this.dynamicAddressBookUri.replace("{addressBookId}",t),a=this.agentInfo.resourceBaseUrl+this.urlUtilSvc.appendQueryString(c,s);return new Promise(function(t,e){i.httpWrapper.get(a).toPromise().then(function(e){i.logger.debug(n.className,"Get Dynamic Address Books Success");var l=new vn;if(i.validationUtilSvc.isNotNullOrEmpty(e)){var o=e.totalRecords,s=[];e.addressBook.addressBookEntries.forEach(function(n){var t=new dn;t.parseData(n),s.push(t)}),l.parseData({totalRecords:o,addressBooksEntries:s,addressBookId:e.addressBook.addressBookId})}t(l)},function(t){i.logger.error(n.className,"Get Dynamic Address Books Failed-"+JSON.stringify(t)),e(t)})})},n.prototype.getDispositions=function(t,e){var l=this;void 0===e&&(e=!1);var o=this.agentInfo.resourceBaseUrl+this.getDispositionsUri.replace("{skillId}",t);return new Promise(function(i,s){!0!==e&&l.validationUtilSvc.isNotNullOrEmptyArray(l.dispositionList[t])?(l.logger.debug(n.className,"Disposition details from local instance"),i(l.dispositionList[t])):l.httpWrapper.get(o).toPromise().then(function(e){if(l.validationUtilSvc.isNotNullOrEmpty(e)){l.dispositionList[t]=[],l.logger.info(n.className,"Get Dispositions success");for(var o=0;o<e.totalRecords;o++){var s=new fn;s.parseData(e.dispositions[o]),l.dispositionList[t].push(s)}i(l.dispositionList[t])}},function(t){l.logger.error(n.className,"Get Dispositions failed - "+JSON.stringify(t)),s(t)})})},n.prototype.getTags=function(t){var e=this,l=this.agentInfo.resourceBaseUrl+this.getTagsUri.replace("{skillId}",t);return new Promise(function(o,i){e.tags.hasOwnProperty(t)?o(e.tags[t]):e.httpWrapper.get(l).toPromise().then(function(l){var i=[];if(e.validationUtilSvc.isNotNullOrEmpty(l)){e.logger.info(n.className,"Get Tags success");for(var s=0;s<l.resultSet.tags.length;s++){var c=new pn;c.parseData(l.resultSet.tags[s]),i.push(c)}e.tags[t]=i,o(i)}else e.tags[t]=i},function(t){e.logger.error(n.className,"Get Tags failed - "+JSON.stringify(t)),i(t)})})},n.prototype.setTags=function(t,e){var l=this,o=this.agentInfo.resourceBaseUrl+this.setTagsUri.replace("{contactId}",t);return new Promise(function(t,i){l.httpWrapper.post(o,e).subscribe(function(e){l.logger.info(n.className,"Set Tags success"),t(e)},function(t){l.logger.error(n.className,"Set tags failed - "+JSON.stringify(t)),i(t)})})},n.className="AdminService",n.ngInjectableDef=Object(o.T)({factory:function(){return new n(Object(o.X)(Dn),Object(o.X)(p),Object(o.X)(O),Object(o.X)(f),Object(o.X)(_))},token:n,providedIn:"root"}),n}(),Ln=function(){function n(n,t,e){this.storageSvc=n,this.logger=t,this.httpWrapper=e}return n.prototype.getData=function(t,e){var l=this;this.logger.log(n.className,"get whoAmI Info");var o=JSON.parse(this.storageSvc.get(g.AuthSettings));return this.httpWrapper.post(t,e).pipe(Object(U.a)(function(n){var t=new B;return o.isUserHub&&(n.refresh_token_server_uri=o.userHubLoginBaseUrl+"/public/user/refresh"),t.parseData(n),l.storageSvc.set(g.AgentInfo,JSON.stringify(t)),t}),Object(q.a)(function(n){return Object(L.a)(n)}))},n.className="WhoAmiService",n.ngInjectableDef=Object(o.T)({factory:function(){return new n(Object(o.X)(p),Object(o.X)(_),Object(o.X)(Dn))},token:n,providedIn:"root"}),n}(),Bn=function(){function n(n,t,e,l,o){this.validationUtilSvc=n,this.logger=t,this.localStorageSvc=e,this.localizationSvc=l,this.sessionStorageService=o,this.onClickToDial=!1,this.initParam=y.init(),this.onNavigationChangeEvent=new E.Subject,this.onClickToDialEvent=new E.Subject,this.isMasterBlinking=!1,this.onClickToDialListener()}return n.prototype.saveStationOption=function(t,e){var l=this;return this.logger.log(n.className,"saveStationOption"),new Promise(function(o,i){try{sforce.opencti.runApex({apexClass:l.initParam.openCtiService,methodName:"storeStationOptions",methodParams:"stationType="+t+"&stationValue="+encodeURIComponent(e),callback:function(t){if(l.logger.debug(n.className,"saveStationOption - "+JSON.stringify(t)),t.success&&l.validationUtilSvc.isNotNullOrUndefined(t.returnValue.runApex)){var e=JSON.parse(t.returnValue.runApex);"true"===e.success?o(!0):i(e.result.error)}else i(t.errors)}})}catch(s){l.logger.error(n.className,"Error in saveStationOption..."+s),i(s.message)}})},n.prototype.refreshToken=function(t,e){var l=this;this.logger.log(n.className,"refreshToken >>> url:"+t+" token:"+e);var o=JSON.parse(this.localStorageSvc.get(g.AuthSettings));return new Promise(function(i,s){try{sforce.opencti.runApex({apexClass:l.initParam.openCtiService,methodName:"refreshToken",methodParams:"tokenUrl="+encodeURIComponent(t)+"&isUserHub="+o.isUserHub+"&token="+encodeURIComponent(e),callback:function(t){if(t.success&&l.validationUtilSvc.isNotNullOrEmpty(t.returnValue.runApex)){var e=JSON.parse(t.returnValue.runApex);if(200===e.statusCode&&l.validationUtilSvc.isNotNullOrEmpty(e.data)){var c=new h,a=JSON.parse(e.data);o.isUserHub&&(a.accessToken=a.token,a.expires_in=a.tokenExpirationTimeSec),c.parseData(a),i(c)}else l.logger.error(n.className,"refreshToken <<< error: "+e.error),s(e.error)}else l.logger.error(n.className,"refreshToken <<< error: "+JSON.stringify(t.errors)),s(t.errors)}})}catch(c){l.logger.error(n.className,"Error in refreshToken..."+c),s(c.message)}})},n.prototype.openCXonePage=function(n){if(sforce.console.isInConsole()){var t=this.localStorageSvc.get(g.Cx1Tab);M.toBoolean(this.localStorageSvc.get(g.IsCx1Open))&&!this.validationUtilSvc.isNullOrEmpty(t)?this.refreshCXoneTab(t,n):this.openCXoneTab(n)}else{var e=screen.width/2-382.5;this.cx1Window=window.open(n,"CXoneWindow","width=765,height=665,scrollbars=yes,toolbar=no,left="+e),this.cx1Window.focus()}},n.prototype.openCXoneTab=function(t){var e=this;sforce.console.openPrimaryTab(null,t,!0,"CXone",function(t){e.logger.debug(n.className,"Opening CXone page in primary tab success:"+t.success+" tabId: "+t.id)},"CXoneTab")},n.prototype.refreshCXoneTab=function(t,e){var l=this;sforce.console.refreshPrimaryTabById(t,!0,function(o){l.logger.debug(n.className,"Refreshing CXone page in primary tab success:"+o.success+" tabId: "+t),!1===o.success&&l.openCXoneTab(e)})},n.prototype.closeCXonePage=function(){var t=this;if(!1===M.toBoolean(this.localStorageSvc.get(g.IsCx1Open)))return this.localStorageSvc.remove(g.Cx1Tab),void this.logger.debug(n.className,"CXone page in tab or window is not in opened state.Hence ignore calling close CXone page");if(sforce.console.isInConsole()){var e=this.localStorageSvc.get(g.Cx1Tab);sforce.console.closeTab(e,function(l){t.localStorageSvc.remove(g.Cx1Tab),t.validationUtilSvc.isNullOrEmpty(l.error)||t.logger.error(n.className,"Closing Cxone page in primary tab failed: "+l.error+" tabId: "+e)})}else this.validationUtilSvc.isNullOrEmpty(this.cx1Window)&&(this.cx1Window=window.open("","CXoneWindow")),this.cx1Window.close()},n.prototype.getSoftphoneLayout=function(){var t=this;return this.logger.log(n.className,"getSoftphoneLayout"),new Promise(function(e,l){try{sforce.opencti.getSoftphoneLayout({callback:function(o){if(o.success&&t.validationUtilSvc.isNullOrEmpty(o.errors)){t.logger.debug(n.className,"Softphone layout "+JSON.stringify(o.returnValue));var i=o.returnValue,s=new en;s.parseData(i),t.softPhoneLayoutSettings=s,e(s)}else t.logger.error(n.className,"getSoftphoneLayout failed "+JSON.stringify(o.errors)),l("Error processing getSoftphoneLayout")}})}catch(o){t.logger.error(n.className,"getSoftphoneLayout failed "+o),l("Error processing getSoftphoneLayout")}})},n.prototype.searchAndPopContacts=function(t,e,l,o){var i=this;this.logger.log(n.className,"searchAndPopCall");var s=[];this.validationUtilSvc.isValidObject(this.softPhoneLayoutSettings)&&t.screenPopUrlVariables.forEach(function(n){var t=Object.keys(n)[0];s.push({key:t.toLowerCase(),value:n[t]})});var c={contactId:t.id,contactType:t.contactType,screenPopUrlVariables:s};return"CallContactEvent"===t.contactType?(c.externalId=t.externalId,c.phoneNumber=t.phoneNo):"WorkItemContactEvent"===t.contactType&&(c.workItemId=t.workItemId,c.workItemType=t.workItemType,c.workItemPayload=encodeURIComponent(t.workItemPayload)),new Promise(function(t,s){try{sforce.opencti.runApex({apexClass:i.initParam.openCtiService,methodName:"customSearch",methodParams:"contactDetail="+encodeURIComponent(JSON.stringify(c))+"&screenpopUrl="+encodeURIComponent(o)+"&inboundObject="+encodeURIComponent(e)+"&popSetting="+l,callback:function(e){if(e.success&&i.validationUtilSvc.isNullOrEmpty(e.errors)){var l=JSON.parse(e.returnValue.runApex);t(l)}else i.logger.error(n.className,"searchAndPopCall failed : "+JSON.stringify(e.errors)),s(e.errors)}})}catch(r){var a="Error in processing Salesforce response, performing default search.";i.logger.error(n.className,"gsearchAndPopCall failed : "+a),s(a)}})},n.prototype.doScreenPopNewWindow=function(t){return this.logger.trace(n.className,"doScreenPop - url : "+t),window.open(t,"_blank")},n.prototype.doScreenPop=function(t,e){var l=this;void 0===e&&(e={}),this.logger.log(n.className,"doScreenPop "+t);var o,i=sforce.opencti.SCREENPOP_TYPE.SOBJECT,s="";return this.validationUtilSvc.isNotNullOrEmpty(this.softPhoneLayoutSettings)?s=this.softPhoneLayoutSettings.screenPopSettings.noMatch.screenPopData:(s="",this.getSoftphoneLayout().then(function(n){s=l.softPhoneLayoutSettings.screenPopSettings.noMatch.screenPopData},function(t){l.logger.error(n.className,"Softphone layout error "+JSON.stringify(t))})),new Promise(function(c,a){try{if(-1!==t.indexOf("/e?")&&l.isDefaultFieldValuesSupported(s)){o={entityName:""},i=sforce.opencti.SCREENPOP_TYPE.NEW_RECORD_MODAL,o.entityName=s;var r={};l.validationUtilSvc.isValidObject(e)&&("EmailContactEvent"===e.contactType?r.Email="":r.Phone=e.dnis),o.defaultFieldValues=r}else-1!==t.indexOf("/")?(o={url:""},i=sforce.opencti.SCREENPOP_TYPE.URL,o.url=t):(o={recordId:""},t=t.substring(0,18),o.recordId=t);sforce.opencti.screenPop({type:i,params:o,callback:function(t){t.success&&l.validationUtilSvc.isNullOrEmpty(t.errors)?c(t):(l.logger.error(n.className,"doScreenPop failed : "+JSON.stringify(t.errors)),a(t.errors))}})}catch(d){var u="Error in processing Salesforce response, performing screenPop.";l.logger.error(n.className,"doScreenPop failed : "+u),a(u)}})},n.prototype.isDefaultFieldValuesSupported=function(n){return/^(Account|Contact|Lead|User)$/i.test(n)},n.prototype.defaultSearch=function(t,e,l){var o=this,i=this.softPhoneLayoutSettings.screenPopSettings;return new Promise(function(s,c){try{sforce.opencti.searchAndScreenPop({searchParams:t,queryParams:e,callType:!0===l?sforce.opencti.CALL_TYPE.OUTBOUND:sforce.opencti.CALL_TYPE.INBOUND,deferred:!0,callback:function(l){if(l.success&&o.validationUtilSvc.isNullOrEmpty(l.errors)){var a={};try{o.logger.debug(n.className,"defaultSearch - result: "+JSON.stringify(l));var r=l.returnValue;for(var u in r)"SCREEN_POP_DATA"!==u&&(a[u]=r[u]);var d={params:{},type:"",callback:function(t){o.logger.debug(n.className,"defaultSearch - screen pop : "+JSON.stringify(t))}};if(Object.keys(a).length>1)"PopToSearch"===i.multipleMatches.screenPopType?(d.type=sforce.opencti.SCREENPOP_TYPE.SEARCH,d.params.searchString=t):"PopToVisualforce"===i.multipleMatches.screenPopType&&(d.type=sforce.opencti.SCREENPOP_TYPE.URL,d.params.url="/apex/"+i.multipleMatches.screenPopData+"?"+e);else if(1===Object.keys(a).length){var g=void 0;for(var u in a)a.hasOwnProperty(u)&&(g=u);"PopToEntity"===i.singleMatch.screenPopType?(d.type=sforce.opencti.SCREENPOP_TYPE.SOBJECT,d.params.recordId=g):"PopToVisualforce"===i.singleMatch.screenPopType&&(d.type=sforce.opencti.SCREENPOP_TYPE.URL,d.params.url="/apex/"+i.singleMatch.screenPopData+"?"+e)}else"PopToEntity"===i.noMatch.screenPopType?(d.type=sforce.opencti.SCREENPOP_TYPE.NEW_RECORD_MODAL,d.params.entityName=i.noMatch.screenPopData,o.isDefaultFieldValuesSupported(d.params.entityName)&&(d.params["defaultFieldValues".Phone]=t),o.screenPopNewRecordModal(d)):"PopToVisualforce"===i.noMatch.screenPopType&&(d.type=sforce.opencti.SCREENPOP_TYPE.URL,d.params.url="/apex/"+i.noMatch.screenPopData+"?"+e,sforce.opencti.screenPop(d))}catch(p){var h="Error in processing defaultSearch";o.logger.fatal(n.className,"defaultSearch failed :"+p),c(h)}finally{o.logger.trace(n.className,"defaultSearch - searchResult"+JSON.stringify(a)),s(a)}}else o.logger.error(n.className,"defaultSearch response failed : "+(h=l.errors[0].description)),c(h)}})}catch(r){var a="Error in processing Salesforce response, performing screenPop.";o.logger.error(n.className,"doScreenPop catch error : "+a),c(a)}})},n.prototype.screenPopNewRecordModal=function(t){var e=this;sforce.opencti.runApex({apexClass:this.initParam.openCtiService,methodName:"getSfObjectApiName",methodParams:"sfobjectName="+t.params.entityName,callback:function(l){e.logger.debug(n.className,"screenPopNewRecordModal response - "+JSON.stringify(l));try{if(l.returnValue){var o=l.returnValue.runApex;e.validationUtilSvc.isNotNullOrEmpty(o)&&(t.params.entityName=o)}}catch(i){e.logger.fatal(n.className,"Exception in getSfObjectApiNameCallBack. "+i)}finally{sforce.opencti.screenPop(t)}}})},n.prototype.getIANATimeZoneOffset=function(t){var e=this;return new Promise(function(l,o){e.logger.debug(n.className,"Retrieving timezone offset for IANAName:"+t),sforce.opencti.runApex({apexClass:e.initParam.openCtiService,methodName:"getIANATimeZoneOffset",methodParams:"ianaName="+t,callback:function(t){if(e.logger.debug(n.className,"getIANATimeZoneOffset response - "+JSON.stringify(t)),t.success&&!e.validationUtilSvc.isNullOrEmpty(t.returnValue.runApex)){var i=JSON.parse(t.returnValue.runApex);e.validationUtilSvc.isNullOrEmpty(i.success)?o(i.error):l(i.success)}else o(t.errors)}})})},n.prototype.onNavigationChange=function(){var n=this;sforce.opencti.onNavigationChange({listener:function(t){n.pageInfo=t,n.onNavigationChangeEvent.next(t)}})},n.prototype.browserTitleUpdate=function(){var n=this;if("true"===this.sessionStorageService.get(g.IsMaster)&&!0!==this.isMasterBlinking){var t="",e="";this.localizationSvc.getLocalizedValue("cxoneagent").subscribe(function(e){n.addOrRemoveFromBrowserTitleQueue(t=e,!0)}),this.localizationSvc.getLocalizedValue("niceincontact").subscribe(function(t){n.addOrRemoveFromBrowserTitleQueue(e=t,!0)}),this.localStorageSvc.set(g.HighlightMaster,"false"),this.isMasterBlinking=!0,setTimeout(function(){n.addOrRemoveFromBrowserTitleQueue(e,!1),n.addOrRemoveFromBrowserTitleQueue(t,!1),n.isMasterBlinking=!1},5e4)}this.localStorageSvc.set(g.HighlightMaster,"false")},n.prototype.addOrRemoveFromBrowserTitleQueue=function(t,e){var l=this,o=function(t,e){e?l.logger.debug(n.className,t+"success"):l.logger.error(n.className,t+"failed")};e?sforce.console.addToBrowserTitleQueue(t,function(n){o("addToBrowserTitleQueue",n.success)}):sforce.console.removeFromBrowserTitleQueue(t,function(n){o("removeFromBrowserTitleQueue",n.success)})},n.prototype.createTask=function(t,e){var l=this;return new Promise(function(o,i){var s=JSON.stringify(t);l.logger.debug(n.className,"createTask - whoId :"+t.whoId+", WhatId :"+t.whatId+", taskId :"+e+", callinfo :"+s),s=encodeURIComponent(s),sforce.opencti.runApex({apexClass:l.initParam.openCtiService,methodName:"createTask",methodParams:"contactInfo="+s+"&taskId="+e,callback:function(t){if(l.logger.debug(n.className,"createTask response - "+JSON.stringify(t)),t.success&&!l.validationUtilSvc.isNullOrEmpty(t.returnValue.runApex)){var e=JSON.parse(t.returnValue.runApex);l.validationUtilSvc.isNullOrEmpty(e.taskId)?i(e.error):o(e)}else i(t.errors)}})})},n.prototype.onClickToDialListener=function(){var t=this;sforce.opencti.onClickToDial({listener:function(e){!0===t.onClickToDial&&(t.logger.trace(n.className,"Click to dial was enabled. "+e),e.number=e.number.replace(/[`~!@$%^&()_|\-=?;:'",.<>\{\}\[\]\\\/\s]/gi,""),e.isDetail=!t.validationUtilSvc.isNullOrEmpty(t.pageInfo)&&e.recordId===t.pageInfo.recordId,t.onClickToDialEvent.next(e))}})},n.prototype.enableClickToDial=function(){var t=this;sforce.opencti.enableClickToDial({callback:function(e){e.success?(t.onClickToDial=!0,t.logger.trace(n.className,"Click to dial was enabled.")):t.logger.trace(n.className,"Click to dial was not enabled.")}})},n.prototype.disableClickToDial=function(){var t=this;sforce.opencti.disableClickToDial({callback:function(e){e.returnValue?(t.logger.trace(n.className,"Click to dial was disabled."),t.onClickToDial=!1):t.logger.trace(n.className,"Click to dial was not disabled.")}})},n.prototype.updateOtherObjects=function(t,e){var l=this;return new Promise(function(o,i){var s=JSON.stringify(t),c=JSON.stringify(e);l.logger.debug(n.className,"updateOtherObjects - objectData :"+c+", callinfo :"+s),s=encodeURIComponent(s),c=encodeURIComponent(c),sforce.opencti.runApex({apexClass:l.initParam.openCtiService,methodName:"updateOtherObjects",methodParams:"contactInfo="+s+"&objectInfo="+c,callback:function(t){if(l.logger.debug(n.className,"updateOtherObjects response - "+JSON.stringify(t)),t.success&&!l.validationUtilSvc.isNullOrEmpty(t.returnValue.runApex)){var e=JSON.parse(t.returnValue.runApex);l.validationUtilSvc.isNullOrEmpty(e.error)?o(e):i(e.error)}else i(t.errors)}})})},n.prototype.saveLogLevel=function(t){var e=this;return this.logger.log(n.className,"saveLogLevel"),new Promise(function(l,o){try{sforce.opencti.runApex({apexClass:e.initParam.openCtiService,methodName:"saveLogLevel",methodParams:"selectedLog="+t,callback:function(t){if(e.logger.debug(n.className,"saveLogLevel - "+JSON.stringify(t)),t.success&&e.validationUtilSvc.isNotNullOrUndefined(t.returnValue.runApex)){var i=JSON.parse(t.returnValue.runApex);"true"===i.success?l(!0):o(i.result.error)}else o(t.errors)}})}catch(i){e.logger.error(n.className,"Error in saveLogLevel..."+i),o(i.message)}})},n.prototype.downloadLog=function(){var t=this;return this.logger.log(n.className,"downLoadLog"),new Promise(function(e,l){try{sforce.opencti.runApex({apexClass:t.initParam.openCtiService,methodName:"downloadLog",callback:function(o){if(t.logger.debug(n.className,"downLoadLog"),o.success&&t.validationUtilSvc.isNotNullOrUndefined(o.returnValue.runApex)){var i=JSON.parse(o.returnValue.runApex),s=i.success;s?e(s):l(i.result.error)}else l(o.errors)}})}catch(o){t.logger.error(n.className,"Error in downLoadLog..."+o),l(o.message)}})},n.prototype.getFirstandLastName=function(t){var e,l=this;return this.logger.trace(n.className,"getFirstandLastName  - id :"+t.id+" ,objectType: "+t.objectType),new Promise(function(o,i){try{e=sforce.connection.query("select id,firstName,lastname from "+t.objectType+" where id='"+t.id+"'"),l.logger.debug(n.className,"getFirstandLastName Success : "+JSON.stringify(e)),o(e.records)}catch(s){l.logger.error(n.className,"getFirstandLastName Failed : "+s.faultstring),i(s.faultstring)}})},n.prototype.getWorkItemType=function(t){var e=this;return this.logger.log(n.className,"getWorkItemType"),new Promise(function(l,o){try{sforce.opencti.runApex({apexClass:e.initParam.openCtiService,methodName:"getWorkItemType",methodParams:"channelId="+t,callback:function(n){if(n.success){var t=JSON.parse(n.returnValue.runApex);l(t.success)}else o(n.errors)}})}catch(i){e.logger.error(n.className,"Error in getWorkItemType"+i),o(i.message)}})},n.prototype.canOmniChannelAcceptAgentWork=function(t){this.logger.trace(n.className,"canOmniChannelAcceptAgentWork>> serviceChannelId: "+t);var e=this;return new Promise(function(l,o){sforce.console.presence.getServicePresenceStatusId(function(i){e.logger.trace(n.className,"getServicePresenceStatusId  - result :"+JSON.stringify(i)),i&&i.statusId?sforce.connection.query("select id,ServiceChannelId, ServicePresenceStatusId from ServiceChannelStatus where ServicePresenceStatusId ='"+i.statusId+"' and ServiceChannelId='"+t+"' limit 1",{onSuccess:function(t){e.logger.trace(n.className,"canOmniChannelAcceptAgentWork Success : "+JSON.stringify(t));var i=1===M.toNumber(t.size);i?l(i):o(!1)},onFailure:function(t){e.logger.fatal(n.className,"canOmniChannelAcceptAgentWork Failed : "+JSON.stringify(t)),o(null)}}):o(null)})})},n.prototype.createAgentWork=function(t,e){var l=this;return this.logger.log(n.className,"createAgentWork>> workitemId: "+t+" serviceChannelId: "+e),new Promise(function(n,o){sforce.opencti.runApex({apexClass:l.initParam.openCtiService,methodName:"createAgentWork",methodParams:"workItemId="+t+"&serviceChannelId="+e,callback:(function(t){try{this.validationUtilSvc.isNullOrEmpty(t.errors)?(this.logger.debug("createAgentWork <<< result: "+JSON.stringify(t.returnValue)),n(!0)):(this.logger.error("createAgentWork <<< error: "+JSON.stringify(t.errors)),o(!1))}catch(e){this.logger.fatal("createAgentWork <<< exception: ",e),o(!1)}}).bind(l)})})},n.prototype.getAppViewInfo=function(){return new Promise(function(n,t){sforce.opencti.getAppViewInfo({callback:function(e){e.success?n(e.returnValue):t(e.errors)}})})},n.className="SalesforceCtiService",n.ngInjectableDef=o.T({factory:function(){return new n(o.X(f),o.X(_),o.X(p),o.X(S),o.X(m))},token:n,providedIn:"root"}),n}(),Rn=e("mIH4"),jn=function(){function n(){this.hasControlledSearch=!1,this.nameList={},this.relatedList={},this.task={name:"",relatedTo:""},this.related={Account:!0,Asset:!0,Campaign:!0,Case:!0,Contract:!0,Opportunity:!0,Product2:!0,Solution:!0}}return n.prototype.parseData=function(n){this.contactId=n.contactId,this.urlPop=n.popResult.isSalesforceUrl,this.screenPopNewTabUrl=n.popResult.url,this.sfScreenPopUrl=n.sfScreenPopUrl,this.outboundData=n.isObject,this.createTask=n.contactData.createTask,this.createTaskForRefused=n.contactData.createTaskForRefused,this.popTask=n.contactData.popTask,this.entityMappingType=n.contactData.entityMappingType,this.results={inboundObjects:n.inboundObject,result:n.searchResult},n.contactData&&(this.related=JSON.parse(n.contactData.taskRealtedObjects),this.hasControlledSearch=n.contactData.hasControlledSearch)},n}(),Jn=function(){function n(n,t,e,l,o){this.localStorageSvc=n,this.urlUtilSvc=t,this.validationUtilSvc=e,this.logger=l,this.saleforceCtiSvc=o,this.sfResult={}}return n.prototype.contactSearch=function(t){var e=this;return this.logger.log(n.className,"contactSearch"),new Promise(function(l,o){try{e.saleforceCtiSvc.getSoftphoneLayout().then(function(o){e.logger.debug(n.className,"Softphone layout success ");var i=JSON.stringify(o.outboundObject),s=JSON.stringify(o.inboundObject),c=!1===t.inbound&&"Regular"===t.callType?i:s,a=JSON.stringify(o.screenPopSettings);e.searchAndPopContacts(t,c,a,function(n){var o=JSON.parse(e.localStorageSvc.get(g.SearchResult));e.sfResult=o||{},e.sfResult[t.id]=n,e.localStorageSvc.set(g.SearchResult,JSON.stringify(e.sfResult)),l(n)})}).catch(function(t){e.logger.error(n.className,"Softphone layout error "+t),o(t)})}catch(i){e.logger.error(n.className,"getSoftphoneLayout failed "+i),o("Error processing getSoftphoneLayout")}})},n.prototype.formSfResultParams=function(n,t,e,l){return{contactId:n,contactData:this.validationUtilSvc.isNullOrEmpty(e)?{}:e,popResult:t,inboundObject:JSON.parse(l),searchResult:{},sfScreenPopUrl:t.url}},n.prototype.searchAndPopContacts=function(t,e,l,o){var i=this,s=t.ani,c=t.dnis,a=this.addAniDnis(t.screenPopUrl,s,c,t.id),r=this.checkScreenPopUrl(a);this.saleforceCtiSvc.searchAndPopContacts(t,e,l,a).then(function(l){i.logger.debug(n.className,"search and pop contacts success "+l);var a,u=t.inbound?s:c;try{var d=i.formSfResultParams(t.id,r,l,e);i.validationUtilSvc.isNullOrEmpty(l.error)?(i.logger.debug("search and pop contacts - response: ",l),r.isSalesforceUrl?(a=i.onContactResult(d),i.logger.trace(n.className,"search and pop contacts : "+r.url+" SfResult"+JSON.stringify(a)),o(a)):l.hasControlledSearch?(d.searchResult=JSON.parse(l.searchResult),d.sfScreenPopUrl=l.screenPopUrl,a=i.onContactResult(d),i.logger.trace(n.className,"search and pop contacts : "+l.screenPopUrl+" SfResult"+JSON.stringify(a)),o(a)):(i.validationUtilSvc.isNullOrEmpty(l.error)||i.logger.warn(n.className,"hasControlledSearch failed : "+l.error),"WorkItemContactEvent"===t.contactType?(a=i.onContactResult(d),o(a)):i.defaultSearch(u,r,t,l,e,o))):(i.logger.error(n.className,"contactData error : "+l.error),"WorkItemContactEvent"===t.contactType?(a=i.onContactResult(d),o(a)):i.defaultSearch(u,r,t,l,e,o))}catch(g){i.logger.fatal(n.className,"search and pop contacts catch : "+g),"WorkItemContactEvent"===t.contactType?(d=i.formSfResultParams(t.id,r,l,e),a=i.onContactResult(d),o(a)):i.defaultSearch(u,r,t,l,e,o)}},function(t){i.logger.error(n.className,"search and pop contacts error "+t)})},n.prototype.defaultSearch=function(t,e,l,o,i,s){var c=this;this.logger.log(n.className,"defaultSearch ");var a,r=!1,u="Regular"===l.callType&&!1===l.inbound,d=JSON.parse(i),h=this.formSfResultParams(l.id,e,o,i);if(h.contactData=o,0===Object.keys(d).length)return a=this.onContactResult(h),s(a),!0;var p=JSON.parse(this.localStorageSvc.get(g.ClickToDialDetail));this.validationUtilSvc.isValidObject(p)&&p.hasOwnProperty("number")&&!1===l.inbound&&l.dnis===p.number&&(r=!0),r?(a=this.onContactResult(h),s(a)):this.saleforceCtiSvc.defaultSearch(t,e.queryString,u).then(function(t){c.logger.debug(n.className,"defaultSearch success "+JSON.stringify(t)),h.searchResult=t,a=c.onContactResult(h),s(a)},function(t){c.logger.error(n.className,"defaultSearch error "+t)})},n.prototype.onContactResult=function(t){var e=this.addContactId(t.contactId,t.sfScreenPopUrl),l=0===Object.keys(t.inboundObject).length?"NoObject":"";t.sfScreenPopUrl=e,t.isObject=l;var o=new jn;return o.parseData(t),this.logger.debug(n.className,"onContactResult "+JSON.stringify(o)),o},n.prototype.addContactId=function(n,t){return this.validationUtilSvc.isNullOrEmpty(t)||-1!==t.indexOf("&_c="+n)||(t=this.urlUtilSvc.appendQueryString(t,{_c:n})),t},n.prototype.checkScreenPopUrl=function(t){var e=document.createElement("a"),l={isSalesforceUrl:!1,url:"",queryString:""};return this.validationUtilSvc.isNullOrEmpty(t)||(e.href=t,l.queryString=e.search.slice(1),!/^http:\/\/|^https:\/\//i.test(t)||/\/incontact\/Agent\/ScreenPopPrintVars.aspx?/i.test(t)||/sfdc[0-9]|crm[0-9]|sfdcquery[0-9]|crmquery[0-9]/i.test(t)||(e.href=t,/\.force\.com$/i.test(e.hostname)||/\.salesforce\.com/i.test(e.hostname)?(l.url=this.getRelativeUrl(e),l.isSalesforceUrl=!0,this.logger.debug(n.className,"inContact controlled url pop isSalesforceDomain:"+l.isSalesforceUrl+" , popUrl :"+l.url)):(l.url=t,this.logger.debug(n.className,"inContact controlled url pop isSalesforceDomain: false, popUrl :"+t)))),l},n.prototype.getRelativeUrl=function(t){try{this.logger.debug(n.className,"getRelativeUrl - sfUrl :"+t);var e=t.pathname,l=void 0;/\.force\.com$/i.test(t.hostname)&&(l=t.hostname.slice(0,t.hostname.indexOf(".")),e=e.replace(/\/apex\//i,l="apex/"+l+"__"));var o=e+t.search;return this.logger.debug(n.className,"getRelativeUrl - result Url :"+o),o}catch(i){return this.logger.error(n.className,"getRelativeUrl failed:"+i),""}},n.prototype.addAniDnis=function(t,e,l,o){if(this.logger.trace(n.className,"addAniDnis - screenPopUrl :"+t+", ani :"+e+", dnis :"+l),this.validationUtilSvc.isNullOrEmpty(t))t=this.urlUtilSvc.appendQueryString(t,{ani:e,dnis:l,_c:o});else{var i=t.toLowerCase();-1===i.indexOf("ani=")&&(t=this.urlUtilSvc.appendQueryString(t,{ani:e})),-1===i.indexOf("dnis=")&&(t=this.urlUtilSvc.appendQueryString(t,{dnis:l})),t=this.urlUtilSvc.appendQueryString(t,{_c:o})}return this.logger.trace(n.className,"addAniDnis - result screenPopUrl :"+t),t},n.prototype.getName=function(n,t,e){var l="",o=t.RecordType.toLowerCase();if(this.validationUtilSvc.isNullOrEmpty(l="task"===o?t.Subject:"case"===o?t.CaseNumber:"idea"===o?t.Title:"contract"===o?t.ContractNumber:t.Name)){var i=this.getObjProperty(t.RecordType,0,e);l=null!==i?""===(l=t[i])?n:l:n}return l},n.prototype.getObjProperty=function(n,t,e){return this.validationUtilSvc.isNotNullOrEmptyArray(e[n])&&t<e[n].length?e[n][t].apiName:null},n.className="ContactSearchService",n.ngInjectableDef=o.T({factory:function(){return new n(o.X(p),o.X(O),o.X(f),o.X(_),o.X(Bn))},token:n,providedIn:"root"}),n}(),Fn=function(){function n(){}return n.prototype.parseData=function(n){this.cId=n.contactId;var t=n.results.result,e={};Object.keys(t).sort().forEach(function(n){e[n]=t[n]}),this.results={result:e},this.hasControlledSearch=n.hasControlledSearch},n}(),zn=e("yg8y"),Hn=function(){function n(){this.modalOpenEvent=new zn.a,this.modalCloseEvent=new zn.a}return n.prototype.openModalDialog=function(n){this.modalOpenEvent.next(n)},n.prototype.closeModalDialog=function(n){this.modalCloseEvent.next(n)},n.ngInjectableDef=o.T({factory:function(){return new n},token:n,providedIn:"root"}),n}(),Wn=function(){return function(){}}();!function(n){n.Commitment="commitment",n.Disposition="disposition",n.Dialpad="dialpad",n.AgentReports="agentReports",n.LogSettings="logSettings",n.AudioVisualSettings="audioVisualSettings",n.PlatformInformation="platforminformation"}(l||(l={}));var Vn,Gn=function(){function n(n,t){this.validationUtilSvc=n,this.sessionStorageSvc=t,this.list=[],this.initialize()}return n.prototype.initialize=function(){var n=this.sessionStorageSvc.get(g.PersistentListName);if(this.validationUtilSvc.isNullOrEmpty(n))this.persistList();else try{this.list=JSON.parse(n)}catch(t){this.persistList()}},n.prototype.persistList=function(){this.sessionStorageSvc.set(g.PersistentListName,JSON.stringify(this.list))},n.prototype.clone=function(n){return"object"==typeof n?JSON.parse(JSON.stringify(n)):n},n.prototype.forEach=function(n){if("function"!=typeof n)throw new Error("Invalid argument type. Expected function.");var t=0,e=this.clone(this.list);for(t=0;t<e.length&&!0!==n(t,e[t]);t++);},n.prototype.add=function(n){this.list.push(this.clone(n)),this.persistList()},n.prototype.remove=function(n){if(0!==this.list.length){for(var t=this.list.length-1;t>=0;t--)this.equals(n,this.list[t])&&this.list.splice(t,1);this.persistList()}},n.prototype.clear=function(){this.list=[],this.persistList()},n.prototype.equals=function(n,t){return n.id===t.id},n.prototype.count=function(){return this.list.length},n.prototype.destroy=function(n){this.clear(),!0===n&&this.sessionStorageSvc.remove(g.PersistentListName)},n.prototype.find=function(n){var t=this.clone(this.list),e=null;return t.forEach(function(t){t.hasOwnProperty("id")&&t.id===n&&(e=t)}),e},n.ngInjectableDef=o.T({factory:function(){return new n(o.X(f),o.X(m))},token:n,providedIn:"root"}),n}(),Xn=function(){return function(){}}(),Qn=function(){function n(){}return n.COMMITMENT_REMINDER_DURATION=120,n.ALL="All",n.MY_TEAM="My Team",n.SETTINGS_MENU=[{id:"platforminformation",enable:!0,label:"platformInformation"},{id:"logSettings",enable:!0,label:"logSettings"},{id:"audioVisualSettings",enable:!1,label:"audioVisualSettings"},{id:"reports",enable:!0,label:"reports"}],n.REPORTS_DATE_RANGE_LIST=["today","yesterday","last7days"],n.LOG_LEVELS=["ALL","TRACE","DEBUG","INFO","ERROR","FATAL","OFF"],n.SKILL_QUEUE_POLLING_DURATION=5e3,n.JOB_POLLING_DURATION=100,n.SALESFORCE_OMNI_CHANNEL_ROUTING="salesforce-omnichannel-routing",n.LOCALIZED_CONTACT_STATUS={Active:"activeStatus",Holding:"holding",Disconnected:"disconnected",Masking:"masking",Joined:"joined",Incoming:"incoming"},n.CONTACT_DISCONNECT_CODES={Busy:"busy",BadNumber:"badNumber"},n}(),$n=function(){function n(n,t,e){var l=this;this.persistentListSvc=n,this.validationUtilSvc=t,this.logger=e,this.jobsInProgress={},this.jobExecutionEvent=new zn.a,this.persistentListSvc.count()>0&&(this.timerInstance=setTimeout(function(){return l.processJobs()},Qn.JOB_POLLING_DURATION))}return n.prototype.addJob=function(t){var e=this;this.validationUtilSvc.isNullOrEmpty(this.timerInstance)&&(this.timerInstance=setTimeout(function(){return e.processJobs()},Qn.JOB_POLLING_DURATION)),this.logger.debug(n.className,"Adding job JobId:"+t.id),this.isJobExists(t.id)?this.logger.debug(n.className,"Job already exists Id:"+t.id):this.persistentListSvc.add(t)},n.prototype.createJob=function(n,t){var e=new Xn;e.id=n+"-"+t.id,e.type=n,e.data=t,this.addJob(e)},n.prototype.removeJob=function(t){this.validationUtilSvc.isNullOrEmpty(t)||(this.logger.debug(n.className,"Removing job JobId:"+t.id),delete this.jobsInProgress[t.id],this.persistentListSvc.remove(t))},n.prototype.processJobs=function(){var t=this;this.persistentListSvc.forEach(function(e,l){if(t.jobsInProgress[l.id])return!1;t.logger.debug(n.className,"Processing job JobId:"+l.id+" Type:"+l.type+" ContactId:"+l.data.id),t.jobsInProgress[l.id]=!0,t.jobExecutionEvent.next(l)}),setTimeout(function(){return t.processJobs()},Qn.JOB_POLLING_DURATION)},n.prototype.destroy=function(t){void 0===t&&(t=!1),this.logger.debug(n.className,"Jobs cleared"),this.validationUtilSvc.isNullOrEmpty(this.timerInstance)||clearTimeout(this.timerInstance),this.persistentListSvc.destroy(t)},n.prototype.isJobExists=function(n){var t=this.persistentListSvc.find(n);return!this.validationUtilSvc.isNullOrEmpty(t)||this.jobsInProgress[n]},n.className="JobExecutionService",n.ngInjectableDef=o.T({factory:function(){return new n(o.X(Gn),o.X(f),o.X(_))},token:n,providedIn:"root"}),n}();!function(n){n.CreateTask="createTask",n.UpdateOtherObjects="updateOtherObjects",n.ContactSearch="contactSearch"}(Vn||(Vn={}));var Kn,Yn=function(){function n(n,t,e,l,o,i,s){var c=this;this.agentSvc=n,this.adminSvc=t,this.localStorageSvc=e,this.validationUtilSvc=l,this.saleforceCtiSvc=o,this.contactSearchSvc=i,this.sessionStorageSvc=s,this.callContacts=[],this.workItemContacts=[],this.voiceMailContacts=[],this.contacts=[],this.incomingWorkItemId="",this.transferWorkItem=!1,this.transferWorkItemId="",this.displayCallContacts=[],this.displayWorkItemContacts=[],this.displayOmniGroupContacts=[],this.elevatedContacts=[],this.enabledForMCH=!1,this.updateContactsView=new E.Subject,this.showContactDetails=new E.Subject,this.updateContactsFromStorage(),this.incomingWorkItemEvent=new E.Subject,this.agentSvc.contactUpdateEvent.subscribe(function(n){c.updateContactsFromStorage(n),c.checkIncomingWorkItem(n),c.createDispositionDetails(n)})}return n.prototype.updateContactsFromStorage=function(n){var t=this.validationUtilSvc.isNotNullOrEmptyArray(n)?n:JSON.parse(this.localStorageSvc.get(g.Contacts)),e=0;if(this.callContacts=[],this.workItemContacts=[],this.contacts=t,this.validationUtilSvc.isNotNullOrEmptyArray(t)){for(e=0;e<t.length;e++)"CallContactEvent"===t[e].contactType?this.callContacts.push(t[e]):"WorkItemContactEvent"===t[e].contactType&&this.workItemContacts.push(t[e]);this.updateDisplayContacts()}else this.displayCallContacts=[],this.displayWorkItemContacts=[],this.displayOmniGroupContacts=[]},n.prototype.checkIncomingWorkItem=function(n){var t=this;this.validationUtilSvc.isNotNullOrEmptyArray(n)&&n.forEach(function(n){t.validationUtilSvc.isNullOrEmpty(t.incomingWorkItemId)&&"WorkItemContactEvent"===n.contactType&&n.status===Tn.Incoming&&(t.incomingWorkItemId=n.id,t.incomingWorkItemEvent.next(n)),t.validationUtilSvc.isNotNullOrEmpty(t.incomingWorkItemId)&&(t.incomingWorkItemId!==n.id||n.status!==Tn.Interrupted&&n.status!==Tn.Active&&n.status!==Tn.Disconnected||(t.incomingWorkItemId="",t.incomingWorkItemEvent.next(null)))})},n.prototype.getIncomingWorkItemFromStorage=function(){var n=this,t=JSON.parse(this.localStorageSvc.get(g.Contacts)),e=null;return this.validationUtilSvc.isNotNullOrEmptyArray(t)&&t.forEach(function(t){"WorkItemContactEvent"===t.contactType&&t.status===Tn.Incoming&&(n.incomingWorkItemId=t.id,e=t)}),e},n.prototype.setSelectedContact=function(n){var t=this.contacts.filter(function(t){return t.id===n.id});this.selectedContact=t[0],this.selectedContact.visited=!0,this.updateActiveWIContactFlag(n.id),this.updateFocusedContact(n.id)},n.prototype.updateContacts=function(){this.agentSvc.contacts=this.contacts,this.localStorageSvc.set(g.Contacts,JSON.stringify(this.contacts))},n.prototype.updateFocusedContact=function(n){this.contacts.forEach(function(t){t.focused=t.id===n}),this.updateContacts()},n.prototype.getWorkItemType=function(n){var t=this,e=JSON.parse(n.workItemPayload);this.validationUtilSvc.isNotNullOrEmpty(e)&&this.validationUtilSvc.isNotNullOrEmpty(e.ServiceChannelId)&&this.saleforceCtiSvc.getWorkItemType(e.ServiceChannelId).then(function(e){n.sfWorkItemType="LiveChatTranscript"===e?"salesforceChat":"Case"===e?"salesforceCase":"omniChannelContact",t.localStorageSvc.set(g.Contacts,JSON.stringify(t.agentSvc.contacts))},function(){n.sfWorkItemType="omniChannelContact",t.localStorageSvc.set(g.Contacts,JSON.stringify(t.agentSvc.contacts))})},n.prototype.getSpecificContactFromContacts=function(n){var t=this.contacts.filter(function(t){return t.id===n.id});return t.length?t[0]:null},n.prototype.removeContactFromStore=function(n){var t=this,e=this.getContactsFromStorage(),l=JSON.parse(this.localStorageSvc.get(g.SearchResult)),o=JSON.parse(this.localStorageSvc.get(g.SfResult));if(this.localStorageSvc.remove(g.ClickToDialDetail),this.validationUtilSvc.isNotNullOrEmpty(e))for(var i=0;i<e.length;i++)if(e[i].id===n){this.adminSvc.dispositionList.hasOwnProperty(e[i].skillId)&&delete this.adminSvc.dispositionList[e[i].skillId],this.adminSvc.skillList.hasOwnProperty(e[i].skillId)&&delete this.adminSvc.skillList[e[i].skillId],this.adminSvc.tags.hasOwnProperty(e[i].skillId)&&delete this.adminSvc.tags[e[i].skillId],e[i]=null,e.splice(i,1);break}!this.validationUtilSvc.isNullOrEmpty(l)&&l.hasOwnProperty(n)&&(delete l[n],delete this.contactSearchSvc.sfResult[n]),this.validationUtilSvc.isValidObject(o)&&o.find(function(e,l){t.validationUtilSvc.isValidObject(e)&&e.cId===n&&o.splice(l,1)}),this.sessionStorageSvc.get(g.SearchedContactId)===n&&this.sessionStorageSvc.remove(g.SearchedContactId),this.clearContactIndicators(n),this.agentSvc.contacts=e,this.localStorageSvc.set(g.Contacts,JSON.stringify(e)),this.updateContactsFromStorage(e),this.localStorageSvc.set(g.SearchResult,JSON.stringify(l)),this.localStorageSvc.set(g.SfResult,JSON.stringify(o)),this.updateContactsView.next()},n.prototype.getContactsFromStorage=function(){var n=this.localStorageSvc.get(g.Contacts);return this.validationUtilSvc.isNotNullOrEmpty(n)?JSON.parse(n):null},n.prototype.clearContactIndicators=function(n){var t=JSON.parse(this.localStorageSvc.get(g.ContactIndicators));if(this.validationUtilSvc.isNotNullOrEmptyArray(t)){var e=[];t.forEach(function(t){t.contactID!==n&&e.push(t)}),t=e,this.localStorageSvc.set(g.ContactIndicators,JSON.stringify(t))}},n.prototype.updateDisplayContacts=function(n){if(this.displayCallContacts=[],this.displayWorkItemContacts=[],this.displayOmniGroupContacts=[],this.elevatedContacts=[],this.enabledForMCH=this.isMchEnabled(),!this.enabledForMCH)return this.displayCallContacts=this.callContacts,void(this.displayWorkItemContacts=this.workItemContacts);this.getOmniGroupContacts(),this.validationUtilSvc.isNotNullOrEmpty(n)?this.updateDisplayContactsOnClick(n):this.updateDisplayContactsOnEvent()},n.prototype.updateDisplayContactsOnClick=function(n){var t=this,e=this.callContacts.filter(function(n){return!t.validateOmniGroupId(n.omniGroupId)});if("CallContactEvent"===n.contactType)this.displayCallContacts=e;else if("WorkItemContactEvent"===n.contactType){this.displayWorkItemContacts.push(n);var l=this.findLastUpdatedContact(e);this.validationUtilSvc.isNotNullOrEmpty(l)&&this.displayCallContacts.push(l)}},n.prototype.updateDisplayContactsOnEvent=function(){var n=this,t=this.workItemContacts.filter(function(t){return t.inFocus&&t.isActiveContact&&!n.validateOmniGroupId(t.omniGroupId)}),e=this.callContacts.filter(function(t){return!n.validateOmniGroupId(t.omniGroupId)});if(this.validationUtilSvc.isNotNullOrEmptyArray(t)){this.displayWorkItemContacts.push(t[0]);var l=this.findLastUpdatedContact(e);this.validationUtilSvc.isNotNullOrEmpty(l)&&this.displayCallContacts.push(l)}else this.displayCallContacts=e},n.prototype.getOmniGroupContacts=function(){var n=this,t=[];this.validationUtilSvc.isNotNullOrEmptyArray(this.contacts)&&(this.contacts.forEach(function(n){n.omniGroupId&&"0"!==n.omniGroupId&&!t.includes(n.omniGroupId)&&t.push(n.omniGroupId)}),t.forEach(function(t){var e=n.contacts.filter(function(n){return n.omniGroupId===t});if(n.validationUtilSvc.isNotNullOrEmptyArray(e)&&e.length>1){var l=new Nn;l.omniGroupId=t,e.forEach(function(n){"CallContactEvent"===n.contactType&&(l.callContact=n),"WorkItemContactEvent"===n.contactType&&(l.workItemContact=n)}),n.elevatedContacts=n.elevatedContacts.concat(e),n.displayOmniGroupContacts.push(l)}}))},n.prototype.validateOmniGroupId=function(n){var t=!1;return"0"!==n&&this.displayOmniGroupContacts.forEach(function(e){e.omniGroupId===n&&(t=!0)}),t},n.prototype.findLastUpdatedContact=function(n){var t;return this.validationUtilSvc.isNotNullOrEmptyArray(n)&&(t=n[0],n.length>1&&n.forEach(function(n){n.lastStateTime>t.lastStateTime?t=n:n.lastStateTime===t.lastStateTime&&n.time>t.time&&(t=n)})),t},n.prototype.updateActiveWIContactFlag=function(n){this.contacts.forEach(function(t){t.id===n&&(t.isActiveContact=!0)})},n.prototype.resetActiveWIContactFlag=function(){this.validationUtilSvc.isNotNullOrEmptyArray(this.contacts)&&(this.contacts.forEach(function(n){"WorkItemContactEvent"===n.contactType&&(n.isActiveContact=!1),n.focused=!1}),this.updateContacts())},n.prototype.getOmniGroupCallContacts=function(){var n=this;return this.callContacts.filter(function(t){return n.validateOmniGroupId(t.omniGroupId)})},n.prototype.isMchEnabled=function(){var n=JSON.parse(this.localStorageSvc.get(g.AgentSessionInfo));return this.validationUtilSvc.isNotNullOrEmpty(n)&&n.enabledForMCH},n.prototype.createDispositionDetails=function(n){var t=this,e=this.validationUtilSvc.isNotNullOrEmptyArray(n)?n:JSON.parse(this.localStorageSvc.get(g.Contacts));if(this.validationUtilSvc.isNotNullOrEmptyArray(e)){var l=JSON.parse(this.localStorageSvc.get(g.DispositionResult)),o={disposition:{},secDisposition:{},tags:{},notes:""};this.enabledForMCH?e.forEach(function(n){t.validationUtilSvc.isValidObject(l)||((l={})[n.id]=o,t.localStorageSvc.set(g.DispositionResult,JSON.stringify(l))),t.validationUtilSvc.isValidObject(l)&&!l.hasOwnProperty(n.id)&&(l[n.id]=o,t.localStorageSvc.set(g.DispositionResult,JSON.stringify(l)))}):this.validationUtilSvc.isValidObject(l)||((l={})[e[0].id]=o,this.localStorageSvc.set(g.DispositionResult,JSON.stringify(l)))}},n.prototype.contactDetails=function(n){this.showContactDetails.next(n)},n.ngInjectableDef=o.T({factory:function(){return new n(o.X(Un),o.X(qn),o.X(p),o.X(f),o.X(Bn),o.X(Jn),o.X(m))},token:n,providedIn:"root"}),n}(),Zn=function(){function n(n,t,e,l){this.salesforceCtiService=n,this.logger=t,this.agentService=e,this.validationUtilsService=l,sforce.console.addEventListener(sforce.console.ConsoleEvent.PRESENCE.WORK_ASSIGNED,this.onOmniChannelWorkAssignedorClosed.bind(this)),sforce.console.addEventListener(sforce.console.ConsoleEvent.PRESENCE.WORK_CLOSED,this.onOmniChannelWorkAssignedorClosed.bind(this)),sforce.console.addEventListener(sforce.console.ConsoleEvent.PRESENCE.WORK_ACCEPTED,this.onOmniChannelWorkAcceptedorRejected.bind(this)),sforce.console.addEventListener(sforce.console.ConsoleEvent.PRESENCE.WORK_DECLINED,this.onOmniChannelWorkAcceptedorRejected.bind(this)),sforce.console.addEventListener(sforce.console.ConsoleEvent.PRESENCE.STATUS_CHANGED,this.onOmniChannelStatusChanged.bind(this)),sforce.console.addEventListener(sforce.console.ConsoleEvent.PRESENCE.LOGOUT,this.onOmniChannelLogout.bind(this))}return n.prototype.onOmniChannelWorkAssignedorClosed=function(t){var e=this;if(this.logger.debug(n.className,"onOmniChannelWorkAssignedorClosed >>> result: "+JSON.stringify(t)),t){var l=this.getExternalRoutingWIContact(t.workItemId,"Active");if(l)switch(t.message){case sforce.console.ConsoleEvent.PRESENCE.WORK_ASSIGNED:sforce.console.presence.acceptAgentWork(t.workId,function(t){e.logger.debug(n.className,"sforce acceptAgentWork <<< response: "+JSON.stringify(t))});break;case sforce.console.ConsoleEvent.PRESENCE.WORK_CLOSED:this.logger.debug(n.className,"endWOrkitem Contact <<< id: "+l.id),this.agentService.endContact(l.id)}}},n.prototype.getExternalRoutingWIContact=function(n,t){var e=this,l=this.agentService.contacts.filter(function(l){return"WorkItemContactEvent"===l.contactType&&l.workItemType===Qn.SALESFORCE_OMNI_CHANNEL_ROUTING&&l.status===t&&e.validationUtilsService.isJSON(l.workItemPayload)&&JSON.parse(l.workItemPayload).WorkItemId.startsWith(n)});return 0===l.length?null:l[0]},n.prototype.onOmniChannelWorkAcceptedorRejected=function(n){if(this.logger.debug(Bn.className,"onOmniChannelWorkAcceptedorRejected <<< result: "+JSON.stringify(n)),n){var t=this.getExternalRoutingWIContact(n.workItemId,"Incoming");if(t)switch(n.message){case sforce.console.ConsoleEvent.PRESENCE.WORK_ACCEPTED:this.logger.debug(Bn.className,"onOmniChannelWorkAccepted: workItem Id "+t.id),this.agentService.acceptContact(t.id);break;case sforce.console.ConsoleEvent.PRESENCE.WORK_DECLINED:this.logger.debug(Bn.className,"onOmniChannelWorkRejected: workItem Id "+t.id),this.agentService.rejectContact(t.id)}}},n.prototype.onWorkItemAcceptedorRejected=function(n,t){this.logger.debug(Bn.className,"onWorkItemAcceptedorRejected <<< contactId: "+n.id+",isRejected: "+t);var e=this,l=JSON.parse(n.workItemPayload);this.getAgentWork(l.WorkItemId,function(n){null!=n&&(t?sforce.console.presence.declineAgentWork(n.workId,function(n){e.logger.debug(Bn.className,"sforce declineAgentWork <<< response: "+JSON.stringify(n))}):sforce.console.presence.acceptAgentWork(n.workId,function(n){e.logger.debug(Bn.className,"sforce acceptAgentWork <<< response: "+JSON.stringify(n))}))})},n.prototype.getAgentWork=function(n,t){sforce.console.presence.getAgentWorks(function(e){var l=null;if(e.success)for(var o=JSON.parse(e.works),i=0,s=o.length;i<s;i++)if(n.startsWith(o[i].workItemId)){l=o[i];break}t(l)})},n.prototype.onOmniChannelStatusChanged=function(t){this.logger.debug(n.className,"onOmniChannelStatusChanged >>> result: "+JSON.stringify(t))},n.prototype.onOmniChannelLogout=function(t){this.logger.debug(n.className,"onOmniChannelLogout >>> result: "+JSON.stringify(t))},n.prototype.canOmniChannelAcceptAgentWork=function(n){return this.salesforceCtiService.canOmniChannelAcceptAgentWork(n)},n.className="OmniChannelClientService",n.ngInjectableDef=o.T({factory:function(){return new n(o.X(Bn),o.X(_),o.X(Un),o.X(f))},token:n,providedIn:"root"}),n}(),nt=function(){return function(){}}(),tt=function(){function n(){this.alertOpenEvent=new zn.a,this.alertActionEvent=new zn.a}return n.prototype.showAlert=function(n){this.alertOpenEvent.next(n)},n.prototype.createAndShowAlert=function(n,t,e){void 0===e&&(e=!1);var l=new nt;l.type=n,l.message=t,l.confirmationMode=e,this.showAlert(l)},n.ngInjectableDef=o.T({factory:function(){return new n},token:n,providedIn:"root"}),n}();!function(n){n.Info="info",n.Warning="warning",n.Error="error"}(Kn||(Kn={}));var et,lt=function(){function n(n,t,e,l,o){this.salesforceCtiService=n,this.logger=t,this.localStorageSvc=e,this.validationUtilSvc=l,this.contactSvc=o,this.canScreenpop=!1,this.lastHandledRecordInfo={},this.focusWorkItemEvent=new zn.a}return n.prototype.getFirstWIContactByRecordId=function(n){var t=this,e=[],l=[],o=null,i=this.localStorageSvc.get(g.SearchResult),s=this.validationUtilSvc.isNullOrEmpty(i)?{}:JSON.parse(i);for(var c in s)if(s.hasOwnProperty(c)){var a=s[c];a&&a.task&&a.task.relatedTo===n&&e.push(c)}return e.forEach(function(n){var e=t.contactSvc.workItemContacts.filter(function(t){return t.id===n});e.length>0&&l.push(e[0])}),l.length>0&&(l.sort(function(n,t){return n.time-t.time}),o=l[0]),o},n.prototype.focusSalesforceRecord=function(t){this.logger.debug(n.className,"Focusing salesforce record RecordId: "+t),this.salesforceCtiService.doScreenPop(t)},n.prototype.focusWorkItemContactBySalesforceRecordInfo=function(t){var e=!1,l=t.recordId,o="",i=!0;if(!this.validationUtilSvc.isNullOrEmpty(l)){var s=this.getFirstWIContactByRecordId(l);this.validationUtilSvc.isNullOrEmpty(s)||(e=!0,i=!1,this.logger.debug(n.className,"RecordId: "+l+" Matched WorkItem contact id: "+(o=s.id)),this.lastHandledRecordInfo.recordId===l&&this.lastHandledRecordInfo.contactId===s.id||(this.logger.debug(n.className,"Triggering focus workitem event"),this.focusWorkItemEvent.next(s)))}return i&&this.focusWorkItemEvent.next(null),this.lastHandledRecordInfo.recordId=l,this.lastHandledRecordInfo.contactId=o,e},n.prototype.focusWorkItemContactOnPageLoad=function(){var t=this;this.lastHandledRecordInfo.recordId="",this.lastHandledRecordInfo.contactId="",this.salesforceCtiService.getAppViewInfo().then(function(n){t.focusWorkItemContactBySalesforceRecordInfo(n)},function(e){t.logger.error(n.className," Error occured while executing getAppViewInfo"+JSON.stringify(e))})},n.className="WorkitemTabFocusService",n.ngInjectableDef=o.T({factory:function(){return new n(o.X(Bn),o.X(_),o.X(p),o.X(f),o.X(Yn))},token:n,providedIn:"root"}),n}(),ot=function(){function n(t,e,l,o,i,s,c,a,r,u,d,h,p,f,b,m,C){var v=this;this.logger=t,this.localStorageSvc=e,this.saleforceCtiSvc=l,this.validationUtilSvc=o,this.agentSvc=i,this.contactSearchSvc=s,this.accessTokenSvc=c,this.adminSvc=a,this.urlUtilsSvc=r,this.modalSvc=u,this.localizationSvc=d,this.jobExecutionSvc=h,this.contactsSvc=p,this.omniChannelClientService=f,this.sessionStorageSvc=b,this.alertSvc=m,this.workitemTabFocusSvc=C,this.sock=null,this.isWfoEnabled=!1,this.wfoUrl="",this.notificationConnectRetryTimerId=null,this.notificationConnectRetryCount=1,this.isClientInitiateCloseConnection=!1,this.timeIntervalForWSConnection=0,this.apexParams=y.init(),this.agentWFOMessagesEvent=new E.Subject,this.updateAgentSkillsChanges=new E.Subject,this.updatePermissionsChanges=new E.Subject,this.agentIndicators=new E.Subject,this.contactIndicators=new E.Subject,this.consultCallEvent=new E.Subject,this.updateSfResult=new E.Subject,this.toggleAgentTransfer=new E.Subject,this.skillQueueUpdateEvent=new E.Subject,this.whoAmISuccessEvent=new E.Subject,this.brandingProfileEvent=new E.Subject,this.authenticateSettings=JSON.parse(this.localStorageSvc.get(g.AuthSettings)),this.jobExecutionSvc.jobExecutionEvent.subscribe(function(n){return v.executeJob(n)}),this.agentSvc.updatePermissionsEvent.subscribe(function(){return v.updatePermissions(!0)}),this.saleforceCtiSvc.onNavigationChangeEvent.subscribe(function(t){v.logger.debug(n.className,"onSsalesforceNavigationChange success "+JSON.stringify(t)),v.validationUtilSvc.isNullOrEmpty(t)||v.processObjectInfo(t)}),this.onSalesforceNavigationChange(),this.agentSvc.updateAgentSkillsEvent.subscribe(function(n){return v.getAgentSkills(!0)}),this.agentSvc.contactIndicatorsEvent.subscribe(function(n){var t=new Sn;t.parseData(n);var e=JSON.parse(v.localStorageSvc.get(g.ContactIndicators));if(v.validationUtilSvc.isNotNullOrEmptyArray(e)){for(var l=-1,o=0;o<e.length;o++)e[o].indicatorName===t.indicatorName&&e[o].contactID===t.contactID&&(l=o);-1!==l?e[l]=t:e.push(t),e=e.filter(function(n){return"Off"!==n.indicatorState})}else(e=[]).push(t);v.localStorageSvc.set(g.ContactIndicators,JSON.stringify(e)),v.contactIndicators.next(e)}),this.agentSvc.agentIndicatorsEvent.subscribe(function(n){v.getAllIndicators()}),this.agentSvc.agentSessionStartEvent.subscribe(function(n){v.getBrandingProfiles()}),this.agentSvc.contactUpdateEvent.subscribe(function(n){return v.onContactUpdate(n)}),this.saleforceCtiSvc.disableClickToDial(),this.saleforceCtiSvc.onClickToDialEvent.subscribe(function(n){v.validationUtilSvc.isNullOrEmpty(n)||v.clickToDial(n)}),this.agentSvc.updateCallbackEvent.subscribe(function(){return v.storeFirstCommitmentByCallbackTime()}),this.whoAmISuccessEvent.subscribe(function(){return v.storeFirstCommitmentByCallbackTime()}),this.enableClickToDial(),this.agentSvc.agentSessionEndEvent.subscribe(function(){return v.jobExecutionSvc.destroy(!0)})}return n.prototype.getAgentSkills=function(t){var e=this;void 0===t&&(t=!1),this.adminSvc.getAgentSkills(t).then(function(n){e.updateAgentSkillsChanges.next(n),e.enableClickToDial()},function(t){e.logger.error(n.className,+JSON.stringify(t)),e.saleforceCtiSvc.disableClickToDial()})},n.prototype.getAllIndicators=function(){var n=this;this.adminSvc.getAllIndicators().then(function(t){n.localStorageSvc.set(g.AgentIndicators,JSON.stringify(t)),n.agentIndicators.next(t)})},n.prototype.updatePermissions=function(n){var t=this;void 0===n&&(n=!1),this.adminSvc.getPermissions(n).then(function(){t.updatePermissionsChanges.next()})},n.prototype.verifyWfoProductEnablement=function(){var t=this;return new Promise(function(e,l){t.adminSvc.getBusinessUnit().then(function(n){n.features.forEach(function(n){102!==n.productId&&103!==n.productId&&1001!==n.productId||(t.isWfoEnabled=!0)}),e(t.isWfoEnabled)},function(e){t.logger.error(n.className,"Error in fetching business unit products "+JSON.stringify(e)),l(e)})})},n.prototype.openCXonePage=function(t){t=this.validationUtilSvc.isNotNullOrEmpty(t)?t:this.authenticateSettings.userHubWebBaseUrl+"/sso/#/landingPage",this.wfoUrl=t,this.localStorageSvc.set(g.WfoUrl,t);var e=this.urlUtilsSvc.appendQueryString(this.apexParams.wfoPageUrl,{lightningAgent:!0});this.logger.debug(n.className,"Opening CXone Wfo page url:"+t+" Visualforce page url: "+e),this.saleforceCtiSvc.openCXonePage(e)},n.prototype.startWS=function(){var t=this,e=JSON.parse(this.localStorageSvc.get(g.AuthSettings)).userHubNotificationUrl;if(this.accessTokenSvc.isTokenExpired())return this.logger.debug(n.className,"Notification service - Token is Expired!"),!1;var l=this;if(null===this.sock){var o=l.getCustomIdentifier(),i={server:o};if(!this.validationUtilSvc.isNotNullOrEmpty(o))return setTimeout(function(){t.startWS()},2e3),!1;this.sock=new Rn(e,null,i)}this.sock.onopen=function(){l.logger.trace(n.className,"Evolve WebSocket Connected."),l.authenticateWS()},this.sock.onmessage=function(t){l.logger.trace(n.className,"Evolve Notification Received - Message : "+t.data);var e=JSON.parse(t.data);l.resetTryToConnectInterval(e.command),l.updateWFOMessagesEvent(e)},this.sock.onclose=function(){JSON.parse(l.localStorageSvc.get(g.StateInfo)).state!==xn.LoggedOut?l.retryToConnectWithTimeout():(l.logger.trace(n.className,"Evolve WebSocket Connection Closed."),l.sock=null,l.isClientInitiateCloseConnection=!0,l.timeIntervalForWSConnection=0,l.clearConnectionInterval())}},n.prototype.updateWFOMessagesEvent=function(n){this.agentWFOMessagesEvent.next(n)},n.prototype.authenticateWS=function(){var n=this.accessTokenSvc.getAccessToken();this.sock.send(JSON.stringify({command:"CONNECT",headers:{sessionToken:n.accessToken,isSingleSession:!1,clientLocale:this.apexParams.localeCode,clientTimezone:this.apexParams.timezoneName}}))},n.prototype.resetTryToConnectInterval=function(t){this.logger.trace(n.className,"Notification service resetTryToConnectInterval command: "+t),"CONNECTED"===t&&(this.notificationConnectRetryCount=1,this.clearConnectionInterval())},n.prototype.getCustomIdentifier=function(){var n=JSON.parse(this.localStorageSvc.get(g.AgentSessionInfo)),t=n&&n.userId;return t&&encodeURIComponent(t)},n.prototype.calculateConnectionTimeInterval=function(){this.notificationConnectRetryCount>20?this.timeIntervalForWSConnection=9e5:this.notificationConnectRetryCount>10?this.timeIntervalForWSConnection=6e4:this.notificationConnectRetryCount>5&&(this.timeIntervalForWSConnection=3e4),this.logger.trace(n.className,"Notification service retryToConnect notificationConnectRetryCount "+this.notificationConnectRetryCount)},n.prototype.clearConnectionInterval=function(){this.notificationConnectRetryTimerId&&(clearTimeout(this.notificationConnectRetryTimerId),this.notificationConnectRetryTimerId=!1)},n.prototype.retryToConnectWithTimeout=function(){var n=this;this.clearConnectionInterval(),this.calculateConnectionTimeInterval(),this.notificationConnectRetryTimerId=setTimeout(function(){n.retryToConnect()},this.timeIntervalForWSConnection,!0)},n.prototype.retryToConnect=function(){this.logger.trace(n.className,"Notification service retryToConnect isClientInitiateCloseConnection "+this.isClientInitiateCloseConnection),this.isClientInitiateCloseConnection?this.notificationConnectRetryCount=1:(this.notificationConnectRetryCount+=1,this.sock=null,this.startWS(),this.logger.trace(n.className,"Notification service retryToConnect "))},n.prototype.sendAcknowledge=function(n){var t={command:"ACKNOWLEDGE",headers:{notificationUuid:""}};t.headers.notificationUuid=n,this.sock.send(JSON.stringify(t))},n.prototype.onConsultCall=function(n){var t=this;n.forEach(this.consultCallDetails?function(n){t.consultCallDetails.id===n.id&&n.finalState&&n.status===Tn.Disconnected&&(t.consultCallDetails=null,t.consultCallEvent.next(t.consultCallDetails))}:function(n){n.status!==Tn.Incoming&&n.status!==Tn.Ringing||(t.consultCallDetails=n,t.consultCallEvent.next(t.consultCallDetails))})},n.prototype.getFirstContact=function(){var n=JSON.parse(this.localStorageSvc.get(g.Contacts));if(this.validationUtilSvc.isNotNullOrEmptyArray(n))for(var t=0;t<n.length;t++)if("CallContactEvent"===n[t].contactType&&"Consult"!==n[t].callType&&"ReskillProxy"!==n[t].callType||"WorkItemContactEvent"===n[t].contactType)return n[t];return null},n.prototype.contactSearch=function(t){var e=this,l=t.data;if(this.logger.log(n.className,"contact search"),l.status!==Tn.Disconnected||!0!==l.finalState){var o=this.getSfResult(l.id);if(o)return this.updateSfResult.next(o),void this.jobExecutionSvc.removeJob(t);this.contactSearchSvc.contactSearch(l).then(function(t){e.logger.debug(n.className,"contact search success "),e.updateSfResult.next(t);var o=JSON.parse(e.localStorageSvc.get(g.ClickToDialDetail));if(e.validationUtilSvc.isValidObject(o)&&o.hasOwnProperty("number")&&(e.logger.info(n.className,"addClickToDialData : "+JSON.stringify(o)),!1===l.inbound&&l.dnis===o.number)){var i=e.getAllSfResult();i[(t=e.addClickToDialData(o,t)).contactId]=t,e.localStorageSvc.set(g.SearchResult,JSON.stringify(i)),e.storeSObjectInfo(o.info,t,!0)}e.setSfResult(t),!1===t.urlPop&&e.doScreenPopNewWindow(t.screenPopNewTabUrl),e.validationUtilSvc.isNotNullOrEmpty(t.sfScreenPopUrl)&&e.doScreenPop(t.sfScreenPopUrl,l)},function(t){e.logger.error(n.className,"contact search error "+t)}).finally(function(){return e.jobExecutionSvc.removeJob(t)})}},n.prototype.doScreenPopNewWindow=function(n){this.validationUtilSvc.isNullOrEmpty(n)||this.saleforceCtiSvc.doScreenPopNewWindow(n)},n.prototype.doScreenPop=function(t,e){var l=this;void 0===e&&(e={}),this.validationUtilSvc.isNotNullOrEmpty(t)&&this.saleforceCtiSvc.doScreenPop(t,e).then(function(t){l.logger.debug(n.className,"doScreenPop success "+JSON.stringify(t))},function(t){l.logger.error(n.className,"doScreenPop error "+JSON.stringify(t))})},n.prototype.getSfResult=function(t){this.logger.log(n.className,"getSfResult "+t);var e=this.localStorageSvc.get(g.SearchResult),l=this.validationUtilSvc.isNullOrEmpty(e)?[]:JSON.parse(e);return!this.validationUtilSvc.isNullOrEmpty(l)&&l.hasOwnProperty(t)?l[t]:null},n.prototype.showTransferButton=function(){var n=this.contactsSvc.callContacts;return!(!this.validationUtilSvc.isNotNullOrEmptyArray(n)||1!==n.length)},n.prototype.showCallButton=function(){var n=this.contactsSvc.isMchEnabled()?this.contactsSvc.callContacts:this.contactsSvc.contacts,t=!0;return this.validationUtilSvc.isNotNullOrEmptyArray(n)&&(n.length<2?t=!0:n.length>1&&n[0].status===Tn.Joined?this.isMaxConferenceLimitReached()&&(t=!1):t=!1),t},n.prototype.isMaxConferenceLimitReached=function(){var n=this,t=3;this.isMultiPartyConferenceEnabled=!1;var e=this.localStorageSvc.get(g.Permissions);if(this.validationUtilSvc.isNotNullOrEmpty(e)&&JSON.parse(e).forEach(function(t){"multipartyconferencing"===t.key.toLowerCase()&&(n.isMultiPartyConferenceEnabled=!0)}),this.isMultiPartyConferenceEnabled){var l=this.localStorageSvc.get(g.BusinessUnit);this.validationUtilSvc.isNotNullOrEmpty(l)&&(t=JSON.parse(l).maxConference)}return!(this.contactsSvc.callContacts.length<t-1)},n.prototype.isConference=function(){var n=!1,t=this.contactsSvc.isMchEnabled()?this.contactsSvc.callContacts:this.contactsSvc.getContactsFromStorage();t=t||[];for(var e=0;e<t.length;e++)if(t[e].status===Tn.Joined){n=!0;break}return n},n.prototype.checkActiveContacts=function(){var n=this.contactsSvc.isMchEnabled()?this.contactsSvc.callContacts:this.contactsSvc.contacts,t=null;if(this.validationUtilSvc.isNotNullOrEmptyArray(n))for(var e=0;e<n.length;e++)if(n[e].status===Tn.Active){t=n[e];break}return t},n.prototype.holdContact=function(){var n=this,t=this.checkActiveContacts();return new Promise(function(e,l){n.validationUtilSvc.isNotNullOrEmpty(t)?n.agentSvc.holdContact(t.id).then(function(n){e(n)},function(n){l(n)}):e()})},n.prototype.dialPhone=function(n){var t=this;return new Promise(function(e,l){t.agentSvc.dialPhone(n).then(function(n){e(n),t.modalSvc.closeModalDialog(!1),t.toggleAgentTransfer.next(!1)},function(n){l(n)})})},n.prototype.consultAgent=function(n){var t=this;this.agentSvc.consultAgent(n.agentId).then(function(){t.toggleAgentTransfer.next(!1)})},n.prototype.dialAgent=function(n){var t=this,e=this.contactsSvc.callContacts,l=null;this.validationUtilSvc.isNotNullOrEmptyArray(e)&&(l=e[0].id),this.agentSvc.dialAgent(n.agentId,l).then(function(){t.toggleAgentTransfer.next(!1)})},n.prototype.dialSkill=function(n){var t=this;this.agentSvc.dialSkill(n.skillId).then(function(){t.toggleAgentTransfer.next(!1)})},n.prototype.transferWorkItemAgent=function(n){var t=this;this.agentSvc.transferWorkItemToAgent(n.userName,this.contactsSvc.transferWorkItemId).then(function(){t.toggleAgentTransfer.next(!1),t.contactsSvc.transferWorkItem=!1,t.contactsSvc.transferWorkItemId=""})},n.prototype.transferWorkItemSkill=function(n){var t=this;this.agentSvc.transferWorkItemToSkill(n.skillName,this.contactsSvc.transferWorkItemId).then(function(){t.toggleAgentTransfer.next(!1),t.contactsSvc.transferWorkItem=!1,t.contactsSvc.transferWorkItemId=""})},n.prototype.onSalesforceNavigationChange=function(){this.logger.log(n.className,"On navigation change"),this.saleforceCtiSvc.onNavigationChange()},n.prototype.processObjectInfo=function(n){var t=this.workitemTabFocusSvc.focusWorkItemContactBySalesforceRecordInfo(n),e=this.localStorageSvc.get(g.LastAttentedContactId),l=this.validationUtilSvc.isNotNullOrEmptyArray(this.contactsSvc.contacts)?this.contactsSvc.contacts.filter(function(n){return n.id===e}):[],o=this.getSfResult(e);if(l.length>0&&this.validationUtilSvc.isValidObject(o)&&!this.validationUtilSvc.isNullOrEmpty(n)){var i=new hn;i.parseData(n);var s="WorkItemContactEvent"===l[0].contactType,c=s&&l[0].workItemType===Qn.SALESFORCE_OMNI_CHANNEL_ROUTING,a="";c&&!this.validationUtilSvc.isNullOrEmpty(l[0].workItemPayload)&&(a=JSON.parse(l[0].workItemPayload).WorkItemId);var r=!s||c&&a===n.recordId||!c&&!t;this.validationUtilSvc.isNullOrEmpty(i.objectType)||this.storeSObjectInfo(i,o,r)}},n.prototype.storeSObjectInfo=function(t,e,l){var o=this;this.logger.debug(n.className,"storeSObjectInfo "+JSON.stringify(t)+"id "+e.contactId);var i=this.isMchEnabled(),s=this.getAllSfResult();if(this.validationUtilSvc.isValidObject(e=s[e.contactId])&&("Contact"===t.objectType||"Lead"===t.objectType?(e.nameList[t.id]=t,e.task.name=t.id,this.localStorageSvc.set(g.SearchResult,JSON.stringify(s)),this.updateSfResult.next(e)):"Account"===t.objectType&&t.personAccount?(e.nameList[t.id]=t,e.task.name=t.contactId,this.localStorageSvc.set(g.SearchResult,JSON.stringify(s)),this.updateSfResult.next(e)):e.related.hasOwnProperty(t.objectType)&&l&&(e.relatedList[t.id]=t,e.task.relatedTo=t.id,this.localStorageSvc.set(g.SearchResult,JSON.stringify(s)),this.updateSfResult.next(e))),i){var c=this.contactsSvc.contacts,a=this.validationUtilSvc.isNotNullOrEmptyArray(c)?c.filter(function(n){return n.id===e.contactId}):[];this.validationUtilSvc.isNotNullOrEmptyArray(a)&&"0"!==a[0].omniGroupId&&c.forEach(function(n){n.omniGroupId===a[0].omniGroupId&&(s[n.id]=e,o.localStorageSvc.set(g.SearchResult,JSON.stringify(s)))})}},n.prototype.setSfResult=function(n){var t=JSON.parse(this.localStorageSvc.get(g.SfResult)),e=new Fn;e.parseData(n),this.validationUtilSvc.isValidObject(t)?t.push(e):(t=[]).push(e),this.localStorageSvc.set(g.SfResult,JSON.stringify(t))},n.prototype.getAllSfResult=function(){var n=this.localStorageSvc.get(g.SearchResult),t=this.validationUtilSvc.isNullOrEmpty(n)?null:JSON.parse(n);return this.validationUtilSvc.isValidObject(t)?t:""},n.prototype.contactResultUpdate=function(t,e,l){var o=this.getAllSfResult(),i=o[t],s=this.isMchEnabled();if(this.logger.log(n.className,"ContactID: "+t+" contactResultUpdate changedData: "+e+" value: "+l),this.validationUtilSvc.isValidObject(o)){if("Name"===e?i.task.name=l:"RelatedTo"===e&&(i.task.relatedTo=l),i.task.changedData=e,o[t]=i,s){var c=this.contactsSvc.contacts,a=this.validationUtilSvc.isNotNullOrEmptyArray(c)?c.filter(function(n){return n.id===t}):[];this.validationUtilSvc.isNotNullOrEmptyArray(a)&&"0"!==a[0].omniGroupId&&c.forEach(function(n){n.omniGroupId===a[0].omniGroupId&&(o[n.id]=i)})}this.localStorageSvc.set(g.SearchResult,JSON.stringify(o))}},n.prototype.updateDispositionResult=function(n,t,e){var l=JSON.parse(this.localStorageSvc.get(g.DispositionResult)),o=l[n];"Disposition"===t?o.disposition=e:"SecDisposition"===t?o.secDisposition=e:"Tags"===t?o.tags=e:"Notes"===t&&(o.notes=e),l[n]=o,this.localStorageSvc.set(g.DispositionResult,JSON.stringify(l))},n.prototype.submitTags=function(n){var t=JSON.parse(this.localStorageSvc.get(g.DispositionResult));if(this.validationUtilSvc.isNotNullOrUndefined(t)){var e=t[n];if(this.validationUtilSvc.isNotNullOrUndefined(e)){var l=e.tags,o={tags:[]};if(this.validationUtilSvc.isValidObject(l)&&Object.keys(l).length>0){for(var i in l)l.hasOwnProperty(i)&&o.tags.push({tagId:i});this.adminSvc.setTags(n,o)}}}},n.prototype.onContactUpdate=function(n){var t=this;this.modalSvc.closeModalDialog(!1),this.contactsSvc.updateContactsView.next();var e=this.isMchEnabled();if(this.validationUtilSvc.isNotNullOrEmptyArray(n)){var l=[];n.forEach(function(e){return T.__awaiter(t,void 0,void 0,function(){var t,o,i,s,c;return T.__generator(this,function(a){switch(a.label){case 0:return"Consult"===e.callType&&l.push(e),"WorkItemContactEvent"===e.contactType&&e.workItemType===Qn.SALESFORCE_OMNI_CHANNEL_ROUTING&&("Active"===e.status?this.omniChannelClientService.onWorkItemAcceptedorRejected(e,!1):e.refused&&"Disconnected"===e.status&&this.omniChannelClientService.onWorkItemAcceptedorRejected(e,!0)),"Disconnected"===e.status&&e.finalState?(t=this.getSfResult(e.id),o=this.getDispositionResult(e.id),this.validationUtilSvc.isNullOrEmpty(t)||!this.validationUtilSvc.isNotNullOrEmpty(o)?[3,2]:[4,this.getContactMetadata(e,t,o)]):[3,3];case 1:i=a.sent(),e.refused||this.createJob(Vn.UpdateOtherObjects,i),c=this.validationUtilSvc.isNullOrEmpty(s=e.omniGroupId)||"0"===s||this.canCreateTaskForOmniGroupContact(n,s),t.createTask&&(!e.refused||t.createTaskForRefused&&e.refused)&&c&&this.createJob(Vn.CreateTask,i),a.label=2;case 2:this.submitTags(e.id),this.removeDispositionObject(e.id),this.validationUtilSvc.isNotNullOrEmpty(e.disconnectCode)&&this.showAlertOnDisconnectCode(e.disconnectCode),this.contactsSvc.removeContactFromStore(e.id),a.label=3;case 3:return[2]}})})}),this.addContactSearchJob(n),e&&this.searchResultForOmniGroup(n),this.validationUtilSvc.isNotNullOrEmptyArray(l)&&this.onConsultCall(l)}},n.prototype.canCreateTaskForOmniGroupContact=function(n,t){return 1===n.filter(function(n){return n.omniGroupId===t}).length},n.prototype.searchResultForOmniGroup=function(n){var t=this;n.forEach(function(n){if(n.omniGroupId===n.masterId&&"CallContactEvent"===n.contactType){var e=t.getSfResult(n.id);if(t.validationUtilSvc.isNullOrEmpty(e)){var l=t.getAllSfResult();t.validationUtilSvc.isValidObject(l)&&(l[n.id]=Object.assign({},l[n.omniGroupId]),l[n.id].contactId=n.id,t.localStorageSvc.set(g.SearchResult,JSON.stringify(l)),t.setSfResult(l[n.id]))}}})},n.prototype.getSearchContacts=function(n){return!(n.finalState||"CallContactEvent"===n.contactType&&("Consult"===n.callType||"ReskillProxy"===n.callType||this.contactsSvc.callContacts.length>2))},n.prototype.addContactSearchJob=function(n){var t=this,e=n.filter(function(n){return t.getSearchContacts(n)});if(this.validationUtilSvc.isNotNullOrEmptyArray(e)){var l,o=this.isMchEnabled();e.forEach(function(n){if(n.omniGroupId===n.masterId)l=t.getSfResult(n.omniGroupId),t.validationUtilSvc.isNullOrEmpty(l)&&(t.sessionStorageSvc.set(g.SearchedContactId,n.id),t.createJob(Vn.ContactSearch,n));else{var i=o?n:e[0];l=t.getSfResult(i.id),t.validationUtilSvc.isNullOrEmpty(l)&&(t.sessionStorageSvc.set(g.SearchedContactId,i.id),t.createJob(Vn.ContactSearch,i))}})}},n.prototype.getDispositionResult=function(n){var t=JSON.parse(this.localStorageSvc.get(g.DispositionResult));return this.validationUtilSvc.isNotNullOrEmpty(t)?t[n]:null},n.prototype.createTask=function(t){var e=this;this.saleforceCtiSvc.createTask(t.data,"").then(function(n){n.popTask&&e.saleforceCtiSvc.doScreenPop(n.taskId)},function(t){e.logger.error(n.className,"Task creation failed : "+JSON.stringify(t))}).finally(function(){return e.jobExecutionSvc.removeJob(t)})},n.prototype.updateOtherObjects=function(t){var e,l=this,o={},i=t.data,s=i.sfResult;if(1===s.entityMappingType)this.validationUtilSvc.isNullOrEmpty(s.task.name)||(o[(e=s.nameList[s.task.name]).objectType]=s.task.name),this.validationUtilSvc.isNullOrEmpty(s.task.relatedTo)||(o[(e=s.relatedList[s.task.relatedTo]).objectType]=s.task.relatedTo);else{for(var c in e={},Object.assign(e,s.nameList,s.relatedList),e)if(e.hasOwnProperty(c)){var a=e[c].objectType;o.hasOwnProperty(a)?o[a].push(c):(o[a]=[],o[a].push(c))}Object.keys(o).map(function(n,t){o[n]=o[n].join(",")})}Object.keys(o).length<=0?this.jobExecutionSvc.removeJob(t):this.saleforceCtiSvc.updateOtherObjects(i,o).then(function(t){l.logger.info(n.className,"Update other objects success")},function(t){l.logger.error(n.className,"Update other objects failed : "+JSON.stringify(t))}).finally(function(){return l.jobExecutionSvc.removeJob(t)})},n.prototype.getContactMetadata=function(n,t,e){return T.__awaiter(this,void 0,void 0,function(){var l,o,i,s,c,a,r;return T.__generator(this,function(u){switch(u.label){case 0:return(l=n).sfResult=t,l.durationInSeconds=Math.floor((n.lastStateTime-n.time)/1e3),l.durationInSeconds=isNaN(l.durationInSeconds)?0:l.durationInSeconds,l.callDirection=n.inbound?"Inbound":"Outbound",o=l,[4,this.getSkillNameById(M.toNumber(n.skillId))];case 1:return o.skillName=u.sent(),i=l,[4,this.getCurrentAgentName()];case 2:return i.agentName=u.sent(),l.whoId=t.task.name,l.whatId=t.task.relatedTo,l.comment=e.notes,l.dispositionValue=e.disposition.dispositionName||"",l.secondaryDispositionValue=e.secDisposition.dispositionName||"",s="",c="-------------------------",a=Object.values(e.tags),this.validationUtilSvc.isNotNullOrEmptyArray(a)?(r=c+"\n",[4,this.localizationSvc.getLocalizedValue("tags").toPromise()]):[3,4];case 3:s=r+u.sent()+"\n"+c+"\n",a.forEach(function(n){s+=n+"\n"}),l.tags=s,u.label=4;case 4:return[2,l]}})})},n.prototype.getSkillNameById=function(t){return T.__awaiter(this,void 0,void 0,function(){var e,l,o;return T.__generator(this,function(i){switch(i.label){case 0:e="",i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this.adminSvc.getSkillDetails(t)];case 2:return l=i.sent(),this.validationUtilSvc.isNullOrEmpty(l)||(e=l.skillName),[3,4];case 3:return o=i.sent(),this.logger.error(n.className,"Error in getting agent skills "+JSON.stringify(o)),[3,4];case 4:return[2,e]}})})},n.prototype.getCurrentAgentName=function(){return T.__awaiter(this,void 0,void 0,function(){var t,e,l,o;return T.__generator(this,function(i){switch(i.label){case 0:t="",i.label=1;case 1:return i.trys.push([1,4,,5]),t=this.localStorageSvc.get(g.AgentName),this.validationUtilSvc.isNullOrEmpty(t)?(e=this.localStorageSvc.get(g.AgentInfo),this.validationUtilSvc.isNullOrEmpty(e)?[3,3]:(e=JSON.parse(e),[4,this.adminSvc.getAgentDetails(e.agentId)])):[2,t];case 2:l=i.sent(),t=this.validationUtilSvc.isNullOrEmpty(l)?"":l.firstName+" "+l.lastName,this.localStorageSvc.set(g.AgentName,t),i.label=3;case 3:return[3,5];case 4:return o=i.sent(),this.logger.error(n.className,"Error in getting agent name "+JSON.stringify(o)),[3,5];case 5:return[2,t]}})})},n.prototype.enableClickToDial=function(){var n=this.getAgentOutBoundSkills();this.validationUtilSvc.isNotNullOrEmptyArray(n)&&n.length>0?this.saleforceCtiSvc.enableClickToDial():this.saleforceCtiSvc.disableClickToDial()},n.prototype.clickToDial=function(t){var e=this;this.logger.log(n.className,"clickToDial "+t);var o=new bn,i=this.getAgentOutBoundSkills();if(o.parseData(t),this.localStorageSvc.set(g.ClickToDialDetail,JSON.stringify(o)),1===i.length)this.showAddCallPrompt().then(function(){e.agentSvc.dialPhone({phoneNumber:t.number,skillId:i[0].skillId}).then(function(t){e.logger.debug(n.className,"Call create success:-"+JSON.stringify(t))},function(t){e.logger.error(n.className,"Call create error"+JSON.stringify(t))})});else if(i.length>1&&this.canOpenDialPad()){var s=new Wn;s.contentType=l.Dialpad,s.dataModel={dialDetails:t},this.modalSvc.openModalDialog(s)}},n.prototype.addClickToDialData=function(n,t){var e,l=n.info.objectType.toLowerCase();return e="task"===l?"Subject":"case"===l?"CaseNumber":"idea"===l?"Title":"contract"===l?"ContractNumber":"Name",t.results.result.hasOwnProperty(n.info.id)||(t.results.result[n.info.id]={}),t.results.result[n.info.id].object=n.info.objectType,t.results.result[n.info.id].RecordType=n.info.objectType,t.results.result[n.info.id][e]=n.info.name,t.outboundData=n.info.id,t.sfScreenPopUrl=n.info.id,!0===n.isDetail&&(t.sfScreenPopUrl=""),t},n.prototype.showAddCallPrompt=function(){var t=this;return new Promise(function(e,l){var o=t.getContactStateCount(["CallContactEvent"]),i=t.getContactStateCount(["WorkItemContactEvent"]),s=o.states,c=i.states,a={Ringing:!0,Dialing:!0,NaturalCallDialing:!0,NaturalCallRinging:!0,Incoming:!0};for(var r in s)if(s.hasOwnProperty(r)&&a.hasOwnProperty(r))return t.logger.debug(n.className,"Ignore showAddCallPrompt"),!0;for(var r in c)if(c.hasOwnProperty(r)&&a.hasOwnProperty(r))return t.logger.debug(n.className,"Ignore showAddCallPrompt"),!0;1===o.totalCnt||2===o.totalCnt&&t.validationUtilSvc.isValidObject(s[Tn.Disconnected])&&1===o.states[Tn.Disconnected].count?t.validationUtilSvc.isValidObject(s[Tn.Holding])&&1===s[Tn.Holding].count?e():t.validationUtilSvc.isValidObject(s[Tn.Active])&&t.holdContact().then(function(){e()}):2===o.totalCnt?t.validationUtilSvc.isValidObject(s[Tn.Joined])&&2===s[Tn.Joined].count||t.agentSvc.conferenceContacts().then(function(){e()}):1===i.totalCnt&&(t.validationUtilSvc.isValidObject(c[Tn.Holding])&&1===c[Tn.Holding].count||t.holdContact().then(function(){e()})),(0===o.totalCnt||o.totalCnt>=3)&&e()})},n.prototype.getContactStateCount=function(n){var t={contacts:[],states:{},totalCnt:0},e=null,l=JSON.parse(this.localStorageSvc.get(g.Contacts));if(this.validationUtilSvc.isValidObject(l))for(var o=0;o<l.length;o++){e=l[o];for(var i=0;i<n.length;i++)e.contactType!==n[i]||e.status===Tn.Disconnected&&e.finalState||("object"!=typeof t.states[e.status]&&(t.states[e.status]={contacts:[],count:0}),t.contacts.push(e),t.states[e.status].contacts.push(e),t.states[e.status].count++,t.totalCnt++)}return t},n.prototype.getAgentOutBoundSkills=function(){var n=[],t=JSON.parse(this.localStorageSvc.get(g.AgentSkillList));return this.validationUtilSvc.isNotNullOrEmptyArray(t)&&t.forEach(function(t){4===t.typeId&&"Manual"===t.strategy&&t.isOutbound&&n.push(t)}),n},n.prototype.getCacheSkillQueue=function(n){var t=this;this.agentSvc.getCacheSkillQueue(n).then(function(n){if(t.validationUtilSvc.isNotNullOrEmpty(n.Queues)){var e={};n.Queues.forEach(function(n){e[n.SkillId]=n}),t.localStorageSvc.set(g.SkillQueueMap,JSON.stringify(e)),t.localStorageSvc.set(g.SkillQueueMapUpdatedTime,(new Date).getTime().toString()),t.skillQueueUpdateEvent.next(n)}},function(n){t.skillQueueUpdateEvent.next(null)})},n.prototype.storeFirstCommitmentByCallbackTime=function(){var t=this;this.adminSvc.getCommitments().subscribe(function(n){var e=n.sort(function(n,t){return n.start.getTime()-t.start.getTime()});t.localStorageSvc.remove(g.FirstCommitment),e.length>0&&t.localStorageSvc.set(g.FirstCommitment,JSON.stringify(e[0]))},function(e){t.logger.error(n.className,"getCommitments error - "+JSON.stringify(e))})},n.prototype.canOpenDialPad=function(){var n=this.isConference()&&!this.isMaxConferenceLimitReached(),t=this.contactsSvc.isMchEnabled()?this.contactsSvc.callContacts:this.contactsSvc.getContactsFromStorage();return(t=t||[]).length<2||n},n.prototype.executeJob=function(t){try{t.type===Vn.CreateTask?this.createTask(t):t.type===Vn.UpdateOtherObjects?this.updateOtherObjects(t):t.type===Vn.ContactSearch&&this.contactSearch(t)}catch(e){this.logger.error(n.className,"Error occured while processing job id - "+t.id+" error - "+e)}},n.prototype.getIncomingConsultFromStorage=function(){var n=this,t=JSON.parse(this.localStorageSvc.get(g.Contacts)),e=null;return this.validationUtilSvc.isNotNullOrEmptyArray(t)&&t.forEach(function(t){"Consult"!==t.callType||t.status!==Tn.Incoming&&t.status!==Tn.Ringing||(n.consultCallDetails=t,e=t)}),e},n.prototype.getContactSfResult=function(n){var t=n;if(this.validationUtilSvc.isNullOrEmpty(n)){var e="";t=JSON.parse(this.localStorageSvc.get(g.SearchResult));var l=this.getFirstContact();this.validationUtilSvc.isValidObject(l)&&(e=l.id),t=this.validationUtilSvc.isValidObject(t)&&t.hasOwnProperty(e)?t[e]:""}return t},n.prototype.getWorkItemResultId=function(n,t){var e=n.workItemId;if(this.validationUtilSvc.isValidObject(t)&&t.contactId===n.id){var l=t.results.result;if(1===Object.keys(l).length){var o=Object.keys(l)[0];e=this.contactSearchSvc.getName(o,l[o],t.results.inboundObjects)}}return e},n.prototype.getBrandingProfiles=function(){var n,t=this;JSON.parse(this.localStorageSvc.get(g.AuthSettings)).isUserHub?this.agentSvc.getCXOneBrandingProfiles().then(function(e){t.validationUtilSvc.isNotNullOrEmpty(e)&&t.validationUtilSvc.isNotNullOrEmpty(e.brandingProfile)&&(n={profileId:e.brandingProfile.profileId,active:"ACTIVE"===e.brandingProfile.status,coBrand:e.brandingProfile.coBrand,sfdcAgentLogo:t.validationUtilSvc.isNotNullOrEmpty(e.brandingProfile.sfdcLogoUrl)?e.brandingProfile.sfdcLogoUrl:""},t.localStorageSvc.set(g.BrandingProfile,JSON.stringify(n)),t.brandingProfileEvent.next(n))}):this.agentSvc.getICBrandingProfiles().then(function(e){t.validationUtilSvc.isNotNullOrEmpty(e)&&(n={profileId:e.profileId,active:e.active,coBrand:e.coBrand,sfdcAgentLogo:t.validationUtilSvc.isNotNullOrEmpty(e.sfdcAgentLogo)?e.sfdcAgentLogo:""},t.localStorageSvc.set(g.BrandingProfile,JSON.stringify(n)),t.brandingProfileEvent.next(n))})},n.prototype.createJob=function(n,t){this.jobExecutionSvc.createJob(n,t)},n.prototype.isMchEnabled=function(){var n=JSON.parse(this.localStorageSvc.get(g.MCHSetting));return this.validationUtilSvc.isNotNullOrEmpty(n)&&n.totalContactCount>1},n.prototype.removeDispositionObject=function(n){var t=JSON.parse(this.localStorageSvc.get(g.DispositionResult));t.hasOwnProperty(n)&&(delete t[n],this.localStorageSvc.set(g.DispositionResult,JSON.stringify(t)))},n.prototype.showAlertOnDisconnectCode=function(n){var t=Qn.CONTACT_DISCONNECT_CODES,e=new nt;e.type=Kn.Error,e.message=t[n]?t[n]:"",this.validationUtilSvc.isNotNullOrEmpty(e.message)&&this.alertSvc.showAlert(e)},n.className="ContainerService",n.ngInjectableDef=o.T({factory:function(){return new n(o.X(_),o.X(p),o.X(Bn),o.X(f),o.X(Un),o.X(Jn),o.X(b),o.X(qn),o.X(O),o.X(Hn),o.X(S),o.X($n),o.X(Yn),o.X(Zn),o.X(m),o.X(tt),o.X(lt))},token:n,providedIn:"root"}),n}(),it=function(){function n(n,t,e,l){this.localStorageSvc=n,this.saleforceCTISvc=t,this.validationUtilSvc=e,this.sessionStorageSvc=l}return n.prototype.checkMasterTab=function(){var n=!1;if("true"===this.sessionStorageSvc.get(g.IsMaster))"true"===this.localStorageSvc.get(g.HasMaster)?(this.sessionStorageSvc.remove(g.IsMaster),n=!1):(this.localStorageSvc.set(g.HasMaster,"true"),this.localStorageSvc.set(g.MasterUnloadTime,"0"),n=!0);else if("true"===this.localStorageSvc.get(g.HasMaster))n=!1;else{var t=Number(this.localStorageSvc.get(g.MasterUnloadTime));this.validationUtilSvc.isNumber(t)&&t>0?(Date.now()-t)/1e3>10?(this.localStorageSvc.set(g.HasMaster,"true"),this.sessionStorageSvc.set(g.IsMaster,"true"),n=!0):n=!1:(this.localStorageSvc.set(g.HasMaster,"true"),this.sessionStorageSvc.set(g.IsMaster,"true"),n=!0)}return n},n.ngInjectableDef=o.T({factory:function(){return new n(o.X(p),o.X(Bn),o.X(f),o.X(m))},token:n,providedIn:"root"}),n}(),st=function(){function n(){this.langsSupported=["de","en_US","es","fr","it","ja","ko","pt_BR","ru","zh_CN"]}return n.prototype.transform=function(n,t,e,l){var o;void 0===e&&(e=!1),void 0===l&&(l=!1),o=this.langsSupported.indexOf(t)>=0?t.replace("_","-"):"en-US";var i=(new Date).toLocaleDateString(o);return"string"==typeof n&&(n=new Date(n)),!l&&n.toLocaleDateString(o)===i||e?n.toLocaleTimeString(o,{hour:"numeric",minute:"2-digit"}):n.toLocaleString(o,{year:"2-digit",month:"2-digit",day:"2-digit"})},n}(),ct=(e("59Rt"),function(){function n(n,t,e){this.adminSvc=n,this.logger=t,this.validationSvc=e,this.showConfirmDialog=!1,this.deleteNotes="",this.modalCloseEvent=new o.m,this.hasError=!1,this.error="",this.showDetail=!1}return n.prototype.ngOnInit=function(){this.logger.debug(n.className,"Initialize"),this.hasError=!1},n.prototype.close=function(n){void 0===n&&(n=!1),this.showConfirmDialog=!1,this.showDetail=n,this.modalCloseEvent.emit("false")},n.prototype.deleteCommitment=function(){var t=this;this.showConfirmDialog=!1,this.adminSvc.deleteCommitment(this.callbackId,this.deleteNotes).then(function(n){t.modalCloseEvent.emit("false")},function(e){t.hasError=!0,t.error="commitmentDeleteErrorMsg",t.logger.error(n.className,"Error in deleting commitment - "+JSON.stringify(e))})},n.prototype.showConfirmationDialog=function(){if(this.hasError=!1,this.validationSvc.isNullOrEmpty(this.deleteNotes))return this.hasError=!0,void(this.error="commitmentNotesErrorMsg");this.showConfirmDialog=!0},n.prototype.ngOnDestroy=function(){this.logger.debug(n.className,"Destroy")},n.className="CommitmentDeleteComponent",n}()),at=e("3V8w"),rt=function(){function n(n,t,e,l,o,i,s,c,a,r,u,d){this.adminSvc=n,this.logger=t,this.datetimeFormatPipeInstance=e,this.validationUtilSvc=l,this.httpWrapperSvc=o,this.ngxXml2jsonService=i,this.salesforceCtiSvc=s,this.localStorageSvc=c,this.modalSvc=a,this.changeDetector=r,this.agentSvc=u,this.dateTimeUtilSvc=d,this.agentOutboundSkills=[],this.timezones=[],this.skillDropdownOpen=!1,this.timezoneDropdownOpen=!1,this.timeDropdownOpen=!1,this.timeOptions=[],this.initParam=y.init(),this.langCode=this.initParam.langCode,this.windowsZonesList=[],this.hasError=!1,this.error="",this.timeIntervalMin=15,this.dateMin=new Date,this.isSaveDisabled=!1,this.deleteModalOpen=!1,this.remainingTime=0,this.remainingTimeInSeconds=0,this.timeChanged=!1,this.editedTime="",this.selectedLabels="selectTime"}return n.prototype.ngOnInit=function(){var t=this;this.logger.debug(n.className,"Initialize"),this.isSaveDisabled=!1,this.loadAgentOutboundSkills(),this.loadTimezones(),this.loadCommitmentTimeOptions(),this.loadWindowsZonesList(),!this.validationUtilSvc.isNullOrEmpty(this.commitmentModel)&&this.commitmentModel.isReschedule&&(this.timerStartTime=new Date,this.remainingTime=Qn.COMMITMENT_REMINDER_DURATION-Math.ceil((this.timerStartTime.getTime()-this.commitmentModel.start.getTime())/1e3),this.remainingTimeInSeconds=this.remainingTime,this.displayTime=this.dateTimeUtilSvc.toDisplayTime(this.remainingTimeInSeconds),this.timerInstance=Object(at.a)(0,1e3),this.timerSubscription=this.timerInstance.subscribe(function(){return t.setRemainingTime()}))},n.prototype.close=function(n){if(void 0===n&&(n=""),this.deleteModalOpen=!1,this.hasError=!1,!0!==this.deleteComponentRef.showDetail){var t=M.toBoolean(n);this.modalSvc.closeModalDialog(t)}this.deleteComponentRef.showDetail=!1},n.prototype.loadAgentOutboundSkills=function(t){var e=this;void 0===t&&(t=!1);var l=[];this.adminSvc.getAgentSkills(t).then(function(n){n.forEach(function(n){n.typeId===An.PhoneCall&&n.isOutbound&&"Manual"===n.strategy&&l.push({value:n.skillId,label:n.skillName})}),e.agentOutboundSkills=l,null!=e.commitmentModel&&(e.selectedSkill=M.toNumber(e.commitmentModel.skillId)),e.changeDetector.detectChanges()},function(t){e.logger.error(n.className," Error in fetching agent skills - "+JSON.stringify(t))})},n.prototype.loadTimezones=function(){var t=this,e=[];this.adminSvc.getTimezones().then(function(n){n.forEach(function(n){e.push({value:n.standardName,label:n.displayName,offset:n.offset})}),t.timezones=e,t.selectClientTimeZoneByOffset()},function(e){t.logger.error(n.className," Error in fetching timezones - "+JSON.stringify(e))})},n.prototype.setSelectedTime=function(){if(null!=this.commitmentModel){var n=new Date;n.setMinutes(Math.ceil(n.getMinutes()/this.timeIntervalMin)*this.timeIntervalMin);var t=this.validationUtilSvc.isNullOrEmpty(this.commitmentModel.id)||this.commitmentModel.isReschedule?n:this.commitmentModel.start;t.getMinutes()%this.timeIntervalMin!=0?(this.selectedTime=this.selectedLabels=this.editedTime=this.datetimeFormatPipeInstance.transform(t,this.langCode,!0),this.timeChanged=!0):this.selectedTime=this.datetimeFormatPipeInstance.transform(t,this.langCode,!0),this.changeDetector.detectChanges()}},n.prototype.loadCommitmentTimeOptions=function(){var n=new Date;n.setHours(0,0,0);var t=new Date(n);t.setDate(n.getDate()+1);for(var e=[];n<t;){var l=this.datetimeFormatPipeInstance.transform(n,this.langCode,!0);e.push({value:l,label:l,date:new Date(n.getTime())}),n.setMinutes(n.getMinutes()+this.timeIntervalMin)}this.timeOptions=e,this.setSelectedTime()},n.prototype.loadWindowsZonesList=function(){var t=this;this.httpWrapperSvc.getText(this.initParam.resourceBase+"/assets/windows-zones.xml").toPromise().then(function(e){t.logger.debug(n.className,"Fetching windows zones success");var l=(new DOMParser).parseFromString(e,"text/xml"),o=t.ngxXml2jsonService.xmlToJson(l);if(t.validationUtilSvc.isNullOrEmpty(o))t.logger.error(n.className,"windows zones are empty");else{var i=[];o.supplementalData[1].windowsZones.mapTimezones.mapZone.forEach(function(n){i.push(n["@attributes"])}),t.windowsZonesList=i}},function(e){t.logger.error(n.className,"Error in fetching windows zones - "+JSON.stringify(e))})},n.prototype.getIanaName=function(n){var t="",e=this.windowsZonesList.filter(function(t){return t.other===n});return e.length>0&&(t=e[0].type),t},n.prototype.getIanaTimezoneOffset=function(t){return T.__awaiter(this,void 0,void 0,function(){var e,l,o;return T.__generator(this,function(i){switch(i.label){case 0:e=0,i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this.salesforceCtiSvc.getIANATimeZoneOffset(t)];case 2:return l=i.sent(),e=M.toNumber(l),[3,4];case 3:return o=i.sent(),this.logger.error(n.className,"getIanaTimezoneOffset error response "+JSON.stringify(o)),[3,4];case 4:return[2,e]}})})},n.prototype.saveCommitment=function(){return T.__awaiter(this,void 0,void 0,function(){var t,e,l,o,i,s,c,a,r,u,d,h,p,f,b,m=this;return T.__generator(this,function(C){switch(C.label){case 0:if(this.isSaveDisabled=!0,this.validateCommitmentFields(),this.hasError)return this.isSaveDisabled=!1,[2];if(t=new Date,e=this.timeOptions.filter(function(n){return n.value===m.selectedTime}),l=e.length>0?e[0].date:new Date,this.timeChanged){if(this.editedTime=this.truncateJunkCharacter(this.editedTime),!(o=this.dateTimeUtilSvc.isValidTime(this.editedTime,this.langCode)).isValid)return this.hasError=!0,this.error="invalidTimeErrorMsg",this.isSaveDisabled=!1,[2];l.setHours(o.hours),l.setMinutes(o.minutes)}return[4,this.getIanaTimezoneOffset(this.getIanaName(this.selectedTimezone))];case 1:return 0===(i=C.sent())?(r=this.timezones.filter(function(n){return n.value===m.selectedTimezone}),u=r[0].offset.split(":"),s=Math.abs(parseInt(u[0],10)),c=parseInt(u[1],10),a=u[0].startsWith("-")?"-":"+"):(i/=36e5,s=Math.floor(Math.abs(i)),c=60*(Math.abs(i)-s),a=i>0?"+":"-"),d=this.commitmentModel.start.getFullYear()+"-"+this.padNumber(this.commitmentModel.start.getMonth()+1)+"-"+this.padNumber(this.commitmentModel.start.getDate())+"T"+this.padNumber(l.getHours())+":"+this.padNumber(l.getMinutes())+":"+this.padNumber(l.getSeconds())+a+this.padNumber(s)+":"+this.padNumber(c),h=new Date(d),this.logger.debug(n.className,"offset value - "+i+" targetZoneCallbackTime"+h+" isodateformat"+d),h<=t?(this.hasError=!0,this.error="callbackTimeErrorMsg",this.isSaveDisabled=!1,[2]):(p=this.validationUtilSvc.isNullOrEmpty(this.commitmentModel.id),this.commitmentModel.scheduleDate=h.toISOString(),this.commitmentModel.skillId=this.selectedSkill,"A"===this.commitmentModel.target&&(f=this.localStorageSvc.get(g.AgentInfo),this.validationUtilSvc.isNullOrEmpty(f)||(f=JSON.parse(f),this.commitmentModel.targetAgentId=f.agentId)),delete(b=T.__assign({},this.commitmentModel)).id,delete b.colorCode,delete b.start,delete b.end,delete b.target,this.commitmentModel.isReschedule?this.rescheduleCommitment(this.commitmentModel.id,this.commitmentModel.scheduleDate):p?this.createCommitment(b):this.updateCommitment(this.commitmentModel.id,b),[2])}})})},n.prototype.getDayLightSavingsTimeZoneOffset=function(){var n=new Date,t=n.getTimezoneOffset();return n.isDSTzone()&&(t+=60),t},n.prototype.selectClientTimeZoneByOffset=function(){var n=this.getDayLightSavingsTimeZoneOffset(),t=Math.floor(Math.abs(n/60)),e=Math.abs(n%60),l=(n>0?"-":"")+this.padNumber(t)+":"+this.padNumber(e),o=this.timezones.filter(function(n){return n.offset===l});o.length>0&&(this.selectedTimezone=o[0].value)},n.prototype.padNumber=function(n){return n<10?"0"+n:n},n.prototype.onTargetChange=function(n){this.commitmentModel.target=n},n.prototype.createCommitment=function(n){var t=this;this.adminSvc.createCommitment(n).then(function(n){t.modalSvc.closeModalDialog(!1)},function(n){t.hasError=!0,t.isSaveDisabled=!1,t.error="saveCommitmentErrorMsg"})},n.prototype.updateCommitment=function(n,t){var e=this;this.adminSvc.updateCommitment(this.commitmentModel.id,t).then(function(n){e.modalSvc.closeModalDialog(!1)},function(n){e.hasError=!0,e.isSaveDisabled=!1,e.error="saveCommitmentErrorMsg"})},n.prototype.validateCommitmentFields=function(){this.hasError=!1,this.validationUtilSvc.isNullOrEmpty(this.commitmentModel.firstName)?(this.hasError=!0,this.error="firstNameErrorMsg"):this.validationUtilSvc.isNullOrEmpty(this.commitmentModel.lastName)?(this.hasError=!0,this.error="lastNameErrorMsg"):this.validationUtilSvc.isNullOrEmpty(this.commitmentModel.phoneNumber)?(this.hasError=!0,this.error="phoneNumberErrorMsg"):this.commitmentModel.phoneNumber.replace("+/g","").length<10?(this.hasError=!0,this.error="phoneNumberLengthErrorMsg"):this.validationUtilSvc.isNullOrEmpty(this.selectedSkill)||0===this.selectedSkill?(this.hasError=!0,this.error="skillErrorMsg"):this.validationUtilSvc.isNullOrEmpty(this.commitmentModel.start)||this.validationUtilSvc.isNullOrEmpty(this.selectedTime)?(this.hasError=!0,this.error="dateTimeErrorMsg"):this.validationUtilSvc.isNullOrEmpty(this.selectedTimezone)&&(this.hasError=!0,this.error="timezoneErrorMsg")},n.prototype.allowNumberAndPlusOnly=function(n){var t=n.which?n.which:n.keyCode;return!(t>31&&43!==t&&(t<48||t>57))},n.prototype.rescheduleCommitment=function(n,t){var e=this;this.agentSvc.rescheduleCommitment(n,t).then(function(n){e.localStorageSvc.remove(g.CommitmentReminderData),e.modalSvc.closeModalDialog(!1)},function(n){e.hasError=!0,e.isSaveDisabled=!1,e.error="saveCommitmentErrorMsg"})},n.prototype.deleteCommitment=function(){this.deleteModalOpen=!0},n.prototype.onSelectSkill=function(n){this.selectedSkill=n},n.prototype.onSelectTimezone=function(n){this.selectedTimezone=n},n.prototype.onSelectTime=function(n){this.timeChanged=!1,this.selectedTime=n},n.prototype.setRemainingTime=function(){var n=new Date;this.remainingTimeInSeconds=this.remainingTime-Math.ceil((n.getTime()-this.timerStartTime.getTime())/1e3),this.remainingTimeInSeconds<=0&&(this.removeTimerSubscription(),this.modalSvc.closeModalDialog(!1)),this.displayTime=this.dateTimeUtilSvc.toDisplayTime(this.remainingTimeInSeconds)},n.prototype.ngOnDestroy=function(){this.logger.debug(n.className,"Destroy"),this.removeTimerSubscription()},n.prototype.removeTimerSubscription=function(){this.validationUtilSvc.isNullOrEmpty(this.timerSubscription)||this.timerSubscription.unsubscribe()},n.prototype.onTimeChanged=function(n){this.timeChanged=!0,this.editedTime=n},n.prototype.truncateJunkCharacter=function(n){var t=new RegExp(String.fromCharCode(8206),"g");return n.replace(t,"")},n.className="CommitmentDetailComponent",n}(),ut=function(){function n(n,t,e,l,o,i,s,c){this.modelSvc=n,this.validationUtilSvc=t,this.localStorageSvc=e,this.agentSvc=l,this.containerSvc=o,this.contactsSvc=i,this.adminSvc=s,this.logger=c,this.omniGroupContacts=[],this.variant="scoped",this.selectedTab=""}return n.prototype.ngOnInit=function(){var t=this;this.logger.debug(n.className,"Initialize"),this.validationUtilSvc.isNotNullOrUndefined(this.callDetails)&&(this.callDetails.isHandleSingleContact&&(this.getContactDetails(),this.updateSfResult()),this.validationUtilSvc.isValidObject(this.skillDetails)&&!1===this.skillDetails.requireDisposition&&this.agentSvc.contactUpdateEvent.subscribe(function(n){n.forEach(function(n){t.contact.id===n.id&&!0===n.finalState&&t.modelSvc.closeModalDialog(!1)})}),this.containerSvc.updateSfResult.subscribe(function(n){t.updateSfResult(n)}))},n.prototype.ngOnChanges=function(){this.validationUtilSvc.isNotNullOrUndefined(this.callDetails)&&(this.getContactDetails(),this.updateSfResult())},n.prototype.updateSfResult=function(n){var t=n;this.validationUtilSvc.isNullOrEmpty(n)&&(t=JSON.parse(this.localStorageSvc.get(g.SearchResult)),t=this.validationUtilSvc.isValidObject(t)&&t.hasOwnProperty(this.contact.id)?t[this.contact.id]:""),this.contactSfResult=t},n.prototype.getContactDetails=function(){var n=this;this.contact=this.callDetails.callDetails,this.isHandleSingleContact=this.callDetails.isHandleSingleContact,this.isOmniGroup=this.contactsSvc.validateOmniGroupId(this.contact.omniGroupId),this.adminSvc.getSkillDetails(this.contact.skillId).then(function(t){n.skillDetails=t,n.callDetail={callDetails:n.contact,skillDetails:n.skillDetails}}),this.selectedTab="WorkItemContactEvent"===this.contact.contactType?"Work Item":"Voice",this.omniGroupContacts.length<=1&&this.getOmniGroupContacts()},n.prototype.getOmniGroupContacts=function(){var n=this,t=this.contactsSvc.displayOmniGroupContacts;this.isOmniGroup&&t.forEach(function(t){(t.callContact.isDispositionSubmitted||t.workItemContact.isDispositionSubmitted)&&(n.isOmniGroup=!1)}),this.isOmniGroup&&!this.isHandleSingleContact&&t.forEach(function(t){t.omniGroupId===n.contact.omniGroupId&&(n.adminSvc.getSkillDetails(t.callContact.skillId).then(function(e){n.omniGroupContacts.push({callDetails:t.callContact,skillDetails:e,mediaType:"Voice"})}),n.adminSvc.getSkillDetails(t.workItemContact.skillId).then(function(e){n.omniGroupContacts.push({callDetails:t.workItemContact,skillDetails:e,mediaType:"Work Item"})}))})},n.prototype.onNavigateToHome=function(){this.modelSvc.closeModalDialog(!1)},n.prototype.ngOnDestroy=function(){this.logger.debug(n.className,"Destroy")},n.className="DispositionComponent",n}(),dt=function(){function n(n,t,e,l,o,i){this.agentSvc=n,this.modalSvc=t,this.validationUtilSvc=e,this.containerSvc=l,this.contactsSvc=o,this.logger=i,this.obPhoneSkills=[],this.open=!1,this.selectedObPhoneSkill="",this.isCallDisabled=!1,this.enableDTMFTone=!1,this.isCallMade=!1}return n.prototype.keyEvent=function(n){13!==n.keyCode||this.isCallMade||this.onMakeCall()},n.prototype.ngOnInit=function(){var t=this;this.logger.debug(n.className,"Initialize"),this.isCallDisabled=!0,this.getAgentOutBoundSkills(),this.skillUpdateEvent=this.containerSvc.updateAgentSkillsChanges.subscribe(function(){return t.getAgentOutBoundSkills()}),this.showCallButton=this.containerSvc.showCallButton(),this.enableDTMFTone=!!(this.validationUtilSvc.isNotNullOrEmptyArray(this.contactsSvc.callContacts)&&this.contactsSvc.callContacts.length>0),this.contactUpdateEvent=this.agentSvc.contactUpdateEvent.subscribe(function(){t.showCallButton=t.containerSvc.showCallButton(),t.enableDTMFTone=!!(t.validationUtilSvc.isNotNullOrEmptyArray(t.contactsSvc.callContacts)&&t.contactsSvc.callContacts.length>0)}),this.clickToDialInfo&&(this.inputNumber.nativeElement.value=this.clickToDialInfo.number,this.open=!!this.containerSvc.canOpenDialPad())},n.prototype.getAgentOutBoundSkills=function(){var n=[],t=this.containerSvc.getAgentOutBoundSkills();this.validationUtilSvc.isNotNullOrEmptyArray(t)&&(t.forEach(function(t){!0===t.isOutbound&&4===t.typeId&&"Manual"===t.strategy&&n.push({label:t.skillName,value:t.skillId})}),this.obPhoneSkills=n,this.setDefaultSkill())},n.prototype.setDefaultSkill=function(){this.selectedObPhoneSkill=1===this.obPhoneSkills.length?this.obPhoneSkills[0]:""},n.prototype.onDial=function(n){this.inputNumber.nativeElement.value+=n,this.isCallDisabled=this.checkValidation(),this.enableDTMFTone&&"+"!==n&&this.agentSvc.sendDTMFTones(n)},n.prototype.onInput=function(n){this.isCallDisabled=this.checkValidation(),this.enableDTMFTone&&n.data&&"+"!==n.data&&this.agentSvc.sendDTMFTones(n.data)},n.prototype.onSelectSkill=function(n){this.selectedObPhoneSkill=n||null,this.isCallDisabled=this.checkValidation()},n.prototype.checkValidation=function(){return!this.validationUtilSvc.isNotNullOrEmpty(this.selectedObPhoneSkill)||!this.validationUtilSvc.isNotNullOrEmpty(this.inputNumber.nativeElement.value)},n.prototype.onClear=function(){this.inputNumber.nativeElement.value="",this.isCallDisabled=this.checkValidation()},n.prototype.onMakeCall=function(){var n=this;if(this.inputNumber&&this.selectedObPhoneSkill){this.isCallMade=!0;var t={phoneNumber:this.inputNumber.nativeElement.value,skillId:this.selectedObPhoneSkill.value,parentContactId:void 0};this.validationUtilSvc.isNotNullOrEmpty(this.parentContactId)?(t.parentContactId=this.parentContactId,this.parentContactStatus!==Tn.Active?this.agentSvc.activateContact(this.parentContactId).then(function(){n.dialPhone(t)}):this.dialPhone(t)):this.containerSvc.holdContact().then(function(){n.dialPhone(t)},function(t){n.isCallMade=!1})}},n.prototype.dialPhone=function(n){var t=this;this.containerSvc.dialPhone(n).then(function(n){t.isCallMade=!1},function(n){t.isCallMade=!1})},n.prototype.close=function(){this.modalSvc.closeModalDialog(!1)},n.prototype.ngOnDestroy=function(){this.logger.debug(n.className,"Destroy"),this.validationUtilSvc.isNotNullOrEmpty(this.skillUpdateEvent)&&this.skillUpdateEvent.unsubscribe(),this.validationUtilSvc.isNotNullOrEmpty(this.contactUpdateEvent)&&this.contactUpdateEvent.unsubscribe()},n.className="DialpadComponent",n}(),gt=e("fp6E"),ht=function(){function n(n,t,e,l,o){this.modalSvc=n,this.agentSvc=t,this.logger=e,this.validationUtilSvc=l,this.dateTimeUtilSvc=o,this.activeTab="performance",this.dateRangeList=Qn.REPORTS_DATE_RANGE_LIST,this.selectedDate=Qn.REPORTS_DATE_RANGE_LIST[0],this.isDateRangeOpen=!1,this.overallPercentage=0,this.showNoDataFound=!1,this.showSpinner=!1}return n.prototype.ngOnInit=function(){this.logger.debug(n.className,"Initialize"),this.getAgentReports()},n.prototype.getAgentReports=function(){var n=this;this.showSpinner=!0,this.clearData();var t=new Date,e=this.getDateRange(t),l=this.agentSvc.getAgentPerformance(e.startDate,e.endDate),o=this.agentSvc.getTeamPerformance(e.startDate,e.endDate);Object(gt.a)([l,o]).subscribe(function(t){n.showSpinner=!1,n.validationUtilSvc.isNotNullOrEmpty(t[0])&&n.validationUtilSvc.isNotNullOrEmpty(t[1])?(n.agentPerformanceData=t[0],n.teamPerformanceData=t[1],n.processPerformanceData()):n.showNoDataFound=!0},function(t){n.showSpinner=!1,n.showNoDataFound=!0})},n.prototype.getDateRange=function(n){var t,e,l;switch(this.selectedDate){case"today":t=new Date(n.getFullYear(),n.getMonth(),n.getDate(),0,0,0),l=n.getMinutes();var o=15*Math.floor(l/15);n.setMinutes(o),n.setSeconds(0,0),n.setMinutes(n.getMinutes()+15),e=n;break;case"yesterday":t=new Date(n.getFullYear(),n.getMonth(),n.getDate()-1,0,0,0),e=new Date(n.getFullYear(),n.getMonth(),n.getDate(),0,0,0);break;case"last7days":t=new Date(n.getFullYear(),n.getMonth(),n.getDate()-7,0,0,0),e=new Date(n.getFullYear(),n.getMonth(),n.getDate(),0,0,0)}return{startDate:t.toISOString(),endDate:e.toISOString()}},n.prototype.selectDateRange=function(n){n!==this.selectedDate?(this.isDateRangeOpen=!1,this.selectedDate=n,this.getAgentReports()):this.isDateRangeOpen=!1},n.prototype.clearData=function(){this.performanceDetails=null,this.productivityDetails=null,this.overallPercentage=0,this.showNoDataFound=!1},n.prototype.processPerformanceData=function(){this.performanceDetails=this.getPerformanceData(),this.productivityDetails=this.getProductivityData(),"performance"===this.activeTab?this.overallPercentage=this.performanceDetails.totalPercentage:"productivity"===this.activeTab&&(this.overallPercentage=this.productivityDetails.agentWorkingPercentage)},n.prototype.close=function(){this.modalSvc.closeModalDialog(!1)},n.prototype.switchTab=function(n){this.activeTab=n,"performance"===this.activeTab&&this.validationUtilSvc.isNotNullOrEmpty(this.performanceDetails)?this.overallPercentage=this.performanceDetails.totalPercentage:"productivity"===this.activeTab&&this.validationUtilSvc.isNotNullOrEmpty(this.productivityDetails)&&(this.overallPercentage=this.productivityDetails.agentWorkingPercentage)},n.prototype.getPerformanceData=function(){var n=new Mn,t=this.agentPerformanceData,e=this.teamPerformanceData;return this.validationUtilSvc.isNotNullOrEmpty(t)&&this.validationUtilSvc.isNotNullOrEmpty(e)&&(0!==e.inboundHandled&&(n.inboundPercentage=Math.round(t.inboundHandled/e.inboundHandled*100)),0!==e.outboundHandled&&(n.outboundPercentage=Math.round(t.outboundHandled/e.outboundHandled*100)),0!==e.totalHandled&&(n.totalPercentage=Math.round(t.totalHandled/e.totalHandled*100))),n},n.prototype.getProductivityData=function(){var n=new Pn,t=this.agentPerformanceData,e=this.teamPerformanceData;return this.validationUtilSvc.isNotNullOrEmpty(t)&&(n=this.getAgentProductivityDetails(t,n)),this.validationUtilSvc.isNotNullOrEmpty(e)&&(n=this.getTeamProductivityDetails(e,n)),this.calculateReportDuration(n)},n.prototype.getAgentProductivityDetails=function(n,t){t.agentAvailableTime=this.dateTimeUtilSvc.getTimeInMS(n.availableTime),t.agentUnavailableTime=this.dateTimeUtilSvc.getTimeInMS(n.unavailableTime);var e=this.dateTimeUtilSvc.getTimeInMS(n.inboundTalkTime),l=this.dateTimeUtilSvc.getTimeInMS(n.outboundTalkTime);t.agentWorkingTime=e+l;var o=this.dateTimeUtilSvc.getTimeInMS(n.loginTime);return o>=1e3&&(t.agentAvailablePercentage=Math.round(t.agentAvailableTime/o*100),t.agentUnavailablePercentage=Math.round(t.agentUnavailableTime/o*100),t.agentWorkingPercentage=Math.round(t.agentWorkingTime/o*100)),t},n.prototype.getTeamProductivityDetails=function(n,t){t.teamAvailableTime=this.dateTimeUtilSvc.getTimeInMS(n.availableTime),t.teamUnavailableTime=this.dateTimeUtilSvc.getTimeInMS(n.unavailableTime);var e=this.dateTimeUtilSvc.getTimeInMS(n.inboundTalkTime),l=this.dateTimeUtilSvc.getTimeInMS(n.outboundTalkTime);t.teamWorkingTime=e+l;var o=this.dateTimeUtilSvc.getTimeInMS(n.loginTime);return o>=1e3&&(t.teamAvailablePercentage=Math.round(t.teamAvailableTime/o*100),t.teamUnavailablePercentage=Math.round(t.teamUnavailableTime/o*100),t.teamWorkingPercentage=Math.round(t.teamWorkingTime/o*100)),t},n.prototype.calculateReportDuration=function(n){return n.agentAvailableDisplayTime=this.dateTimeUtilSvc.displayTimeFromMS(n.agentAvailableTime),n.agentUnavailableDisplayTime=this.dateTimeUtilSvc.displayTimeFromMS(n.agentUnavailableTime),n.agentWorkingDisplayTime=this.dateTimeUtilSvc.displayTimeFromMS(n.agentWorkingTime),n.teamAvailableDisplayTime=this.dateTimeUtilSvc.displayTimeFromMS(n.teamAvailableTime),n.teamUnavailableDisplayTime=this.dateTimeUtilSvc.displayTimeFromMS(n.teamUnavailableTime),n.teamWorkingDisplayTime=this.dateTimeUtilSvc.displayTimeFromMS(n.teamWorkingTime),n},n.prototype.ngOnDestroy=function(){this.logger.debug(n.className,"Destroy")},n.className="AgentReportsComponent",n}(),pt=function(){function n(n,t,e,l,o){this.modalSvc=n,this.salesforceCTISvc=t,this.logger=e,this.sessionStorageSvc=l,this.alerSvc=o,this.logs=[],this.selectedLog=""}return n.prototype.ngOnInit=function(){var t=this;this.logger.debug(n.className,"Initialize"),Qn.LOG_LEVELS.forEach(function(n){t.logs.push({label:n,value:n})}),this.initParam=y.init(),this.selectedLog=this.initParam.icLogLevel,this.previousSelectedLog=this.selectedLog},n.prototype.updateLogs=function(n){this.previousSelectedLog=this.selectedLog,this.selectedLog=n},n.prototype.onSave=function(){var n=this;this.previousSelectedLog!==this.selectedLog&&this.salesforceCTISvc.saveLogLevel(this.selectedLog).then(function(t){var e=JSON.parse(n.sessionStorageSvc.get(g.InitParam));e.logLevel=n.selectedLog,n.sessionStorageSvc.set(g.InitParam,JSON.stringify(e)),n.logger.updateLog(c.f["ALL"===n.selectedLog?c.f[0]:n.selectedLog])},function(t){var e=new nt;e.message="saveLogLevelError",e.type=Kn.Error,n.alerSvc.showAlert(e)}),this.close()},n.prototype.onDownload=function(){var n=this;this.salesforceCTISvc.downloadLog().then(function(t){n.logger.downloadLog(t),n.close()},function(t){var e=new nt;e.message="downloadLogError",e.type=Kn.Error,n.alerSvc.showAlert(e)})},n.prototype.close=function(){this.modalSvc.closeModalDialog(!1)},n.prototype.ngOnDestroy=function(){this.logger.debug(n.className,"Destroy")},n.className="LogSettingsComponent",n}();!function(n){n.AcLogin="login",n.AcConnected="connected",n.AcDisconnected="disconnected",n.AcLogout="logout",n.AcLoginFailed="login failed",n.AcCallTerminated="callTerminated",n.AcCallConfirmed="callConfirmed",n.AcOutgoingCallProgress="outgoingCallProgress",n.AcCallShowStreams="callShowStreams",n.AcIncomingCall="incomingCall",n.AcCallHoldStateChanged="callHoldStateChanged",n.InitializingAudioCode="initializingAudioCode",n.ConnectingAgentLeg="connectingAgentLeg",n.ValidationSpeakerMicMissing="speakerMicMissing",n.ValidationMediaDeviceAccessDenied="mediaDeviceAccessDenied"}(et||(et={}));var ft=function(){function n(n,t,e,l,o){this.agentSvc=n,this.validationUtilSvc=t,this.logger=e,this.adminSvc=l,this.localStorageSvc=o,this.agentLegCallInProgress=!1,this.isAudioCodeServerLoggedIn=!1,this.connectionInProgress=!1,this.showAcceptDeclineEvent=new zn.a,this.webRTCStatusChangedEvent=new zn.a}return n.prototype.startSession=function(){var n=this;window.addEventListener("beforeunload",this.onBeforeUnload.bind(this)),this.agentSvc.agentLegEvent.subscribe(function(t){return n.onAgentLegEvent(t)})},n.prototype.stopSession=function(){window.removeEventListener("beforeunload",this.onBeforeUnload.bind(this)),this.agentSvc.agentLegEvent.unsubscribe(),this.logoutAudioCodeServer()},n.prototype.onBeforeUnload=function(t){this.logger.debug(n.className,"onBeforeUnload>> "),this.storeAgentLegCallData(),this.storeConnectedACServer(),null!==this.agentLegCall&&this.isContactNotEnded()&&(t.returnValue="true"),this.logger.debug(n.className,"onBeforeUnload<< ")},n.prototype.onAgentLegEvent=function(n){if(this.validationUtilSvc.isNotNullOrUndefined(n)&&this.validationUtilSvc.isNotNullOrUndefined(n.agentLegId))switch(this.isAudioCodeServerLoggedIn||this.connectionInProgress||this.getAgentSettings(),n.agentLegState){case"Dialing":this.isInboundContact()?this.showAcceptDeclineEvent.next(!0):this.connectAgentLeg(n.agentLegId);break;case"Active":this.connectAgentLeg(n.agentLegId);break;default:this.disconnectAgentLeg()}},n.prototype.connectAgentLeg=function(n){this.agentLegId=n,this.validationUtilSvc.isNotNullOrUndefined(this.agentSettings)?this.connectAudioCodeServer():this.getAgentSettings()},n.prototype.getAgentSettings=function(){var t=this;this.connectionInProgress?this.logger.debug(n.className,"Avoiding uncessary connection to AudioCodes Serveras the already initiated connection is in Progress"):(this.connectionInProgress=!0,this.logger.debug(n.className,"connectAudioCodeServer >> isAudioCodeServerLoggedIn: "+this.isAudioCodeServerLoggedIn),this.adminSvc.getAgentSettings().then(function(n){t.agentSettings=n,t.connectAudioCodeServer()}))},n.prototype.connectAudioCodeServer=function(){var n=this;this.isSpeakerandMicAvailable().then(function(t){t?n.requestMediaAccess().then(function(t){t&&(n.isAudioCodeServerLoggedIn?(n.validationUtilSvc.isNullOrEmpty(n.agentLegCall)||n.validationUtilSvc.isValidObject(n.agentLegCall)&&!n.agentLegCall.isEstablished())&&n.makeAgentLegCall():n.loginAudioCodeServer())}):n.webRTCStatusChangedEvent.next(et.ValidationSpeakerMicMissing)})},n.prototype.isSpeakerandMicAvailable=function(){var t=this;this.logger.debug(n.className,"isSpeakerandMicAvailable");var e=!1,l=!1;return navigator.mediaDevices.enumerateDevices().then(function(o){return o.forEach(function(n){switch(n.kind){case"audioinput":l=!0;break;case"audiooutput":e=!0}}),t.logger.debug(n.className,"isSpeakerandMicAvailable<< Is Speaker Available : "+e),t.logger.debug(n.className,"isSpeakerandMicAvailable<< Is Mic Available : "+l),!(!e||!l)||(t.logger.error(n.className,"isSpeakerandMicAvailable<< Both Speaker and Mic are Required"),!1)}).catch(function(e){return t.logger.error(n.className,"isSpeakerandMicAvailable<< Error Details: "+e.message),!1})},n.prototype.requestMediaAccess=function(){var t=this;return this.logger.debug(n.className,"requestMediaAccess>>"),navigator.mediaDevices.getUserMedia({audio:!0,video:!1}).then(function(){return t.logger.debug(n.className,"requestMediaAccess>> Access granted to Audio device"),!0}).catch(function(e){return"NotFoundError"===e.name?(t.webRTCStatusChangedEvent.next(et.ValidationSpeakerMicMissing),t.logger.error(n.className,"requestMediaAccess>> Audio device Not Found : "+e.message)):(t.webRTCStatusChangedEvent.next(et.ValidationMediaDeviceAccessDenied),t.logger.error(n.className,"requestMediaAccess>> Access Denied to Audio device : "+e.message)),!1})},n.prototype.loginAudioCodeServer=function(){this.logger.debug(n.className,"loginAudioCodeServer>>");try{this.webRTCStatusChangedEvent.next(et.InitializingAudioCode);var t=this.localStorageSvc.get(g.AgentInfo);if(this.validationUtilSvc.isNotNullOrEmpty(t)){this.agentInfo=JSON.parse(t);var e=this.agentInfo.agentId,l=this.agentSettings.webRTCWssUrls,o=this.localStorageSvc.get(g.ConnectedAcServer);this.validationUtilSvc.isNotNullOrUndefined(o)&&this.setServerPriority(l,o),this.audioCode=new AudioCodesUA,this.audioCode.setServerConfig(l,this.agentSettings.webRTCServerDomain,this.agentSettings.webRTCIceUrls),this.audioCode.setAccount(e,e,"",""),this.audioCode.setReconnectIntervals(2,30),this.audioCode.setRegisterExpires(600),this.audioCode.setUseSessionTimer(!1),this.audioCode.setChromeAudioConstraints("echoCancellation,googEchoCancellation,googEchoCancellation2,googDAEchoCancellation,googAutoGainControl,googNoiseSuppression,googNoiseSuppression,googHighpassFilter,googTypingNoiseDetection,googAudioMirroring"),this.audioCode.setWebSocketKeepAlive(10,10,60),this.audioCode.setRegisterExtraHeaders(["X-SBC: AudioCodes Mediant"]),this.audioCode.setAcLogger(this.acLog.bind(this)),this.audioCode.setJsSipLogger(this.jssipLog.bind(this)),this.audioCode.setListeners(this.audiocodeListeners.call(this)),this.audioCode.init(!0)}}catch(i){this.logger.error(n.className,"loginAudioCodeServer<< Failed : "+i)}this.logger.debug(n.className,"loginAudioCodeServer<<")},n.prototype.acLog=function(){var t=[].slice.call(arguments);this.logger.log(n.className,"[AC] "+t)},n.prototype.jssipLog=function(){var t=[].slice.call(arguments);this.logger.log(n.className,"[JSSIP] "+t)},n.prototype.audiocodeListeners=function(){var t=this;return{loginStateChanged:function(e,l){switch(t.connectionInProgress=!1,t.isAudioCodeServerLoggedIn=e,t.logger.debug(n.className,"audiocode>>> loginStateChanged: isLogin= "+e+", cause = "+l),t.webRTCStatusChangedEvent.next(l),l){case et.AcLogin:t.validationUtilSvc.isNotNullOrUndefined(t.agentLegId)&&t.makeAgentLegCall();break;case et.AcConnected:t.storeConnectedACServer();break;case et.AcDisconnected:case et.AcLogout:t.localStorageSvc.remove(g.ConnectedAcServer),t.logger.debug(n.className,"audiocode>>> loginStateChanged:Removed connectedAudioCodeServer value from localstorage")}},outgoingCallProgress:function(e,l){t.webRTCStatusChangedEvent.next(et.AcOutgoingCallProgress),t.logger.debug(n.className,"audiocode>>> outgoing call progress: call= "+JSON.stringify(e.data))},callTerminated:function(e,l,o,i){t.webRTCStatusChangedEvent.next(et.AcCallTerminated),t.logger.debug(n.className,"audiocode>>> call terminated: call="+JSON.stringify(e.data)+",message="+l+",cause="+o+",redirectTo="+i),t.agentLegCall=null,t.agentLegCallInProgress=!1},callConfirmed:function(e,l,o){t.webRTCStatusChangedEvent.next(et.AcCallConfirmed),t.storeAgentLegCallData(),t.logger.debug(n.className,"audiocode>>> callConfirmed: call="+JSON.stringify(e.data)+",cause="+o)},callShowStreams:function(e,l,o){t.webRTCStatusChangedEvent.next(et.AcCallShowStreams),t.logger.debug(n.className,"audiocode>>> callShowStreams: call="+JSON.stringify(e.data)),document.querySelector("audio").srcObject=o},incomingCall:function(e,l){t.webRTCStatusChangedEvent.next(et.AcIncomingCall),t.logger.debug(n.className,"audiocode>>> incomingCall: call="+JSON.stringify(e.data))},callHoldStateChanged:function(e,l,o){t.webRTCStatusChangedEvent.next(et.AcCallHoldStateChanged),t.logger.debug(n.className,"audiocode>>> callHoldStateChanged: call="+JSON.stringify(e.data)+", isHold="+l+",isRemote="+o)}}},n.prototype.setServerPriority=function(t,e){this.logger.debug(n.className,"setServerPriority>> webRTCWSSUrls: "+JSON.stringify(t)+" , restoreServerUrl: "+e);for(var l=0,o=t.length;l<o;l++){var i=t[l];if((i instanceof Array?i[0]:i).toLowerCase()===e.toLowerCase()){t[l]=[e,1e3];break}}this.logger.debug(n.className,"setServerPriority<< webRTCWSSUrls: "+JSON.stringify(t))},n.prototype.makeAgentLegCall=function(){this.logger.debug(n.className,"makeAgentLegCall>>");try{if(this.agentLegCallInProgress)return;this.agentLegCallInProgress=!0,this.webRTCStatusChangedEvent.next(et.ConnectingAgentLeg),this.restoreCall()||(this.agentLegCall=this.audioCode.call(!1,this.agentSettings.webRTCDnis,["X-InContact-AgentLegId: "+this.agentLegId]))}catch(t){return this.logger.error(n.className,"makeAgentLegCall>> Error Details: "+t.message),!1}this.logger.debug(n.className,"makeAgentLegCall<<")},n.prototype.restoreCall=function(){this.logger.debug(n.className,"restoreCall>> ");var t=this.localStorageSvc.get(g.AgentLegCall);try{if(this.validationUtilSvc.isNotNullOrUndefined(t)){var e=JSON.parse(t);return this.logger.debug(n.className,"restoreCall>> "+t),this.agentLegCall=this.audioCode.call(e.video,e.callTo,["X-InContact-AgentLegId: "+e.agentLegId,"Replaces: "+e.replaces]),this.logger.debug(n.className,"restoreCall<< Success"),!0}}catch(l){return this.logger.error(n.className,"restoreCall<< Failed : "+l),!1}},n.prototype.storeConnectedACServer=function(){if(!this.validationUtilSvc.isNullOrEmpty(this.audioCode)){var t=this.audioCode.getServerAddress();this.validationUtilSvc.isNotNullOrEmpty(t)&&(this.logger.debug(n.className,"storeConnectedACServer>> connectedAudioCodeServer :"+t),this.localStorageSvc.set(g.ConnectedAcServer,t))}},n.prototype.storeAgentLegCallData=function(){this.logger.debug(n.className,"storeAgentLegCallData>> ");var t=this.agentLegCall;if(this.validationUtilSvc.isValidObject(t)&&t.isEstablished()){var e={callTo:t.data._user,video:t.data._video,replaces:t.getReplacesHeader(),time:(new Date).getTime(),agentLegId:this.agentLegId},l=JSON.stringify(e);this.localStorageSvc.set(g.AgentLegCall,l),this.logger.debug(n.className,"storeAgentLegCallData>> agentLegCall: "+l)}this.logger.debug(n.className,"storeAgentLegCallData<< ")},n.prototype.logoutAudioCodeServer=function(){this.logger.debug(n.className,"logoutAudioCodeServer>>");try{this.isAudioCodeServerLoggedIn=!1,this.agentLegId=null,this.disconnectAgentLeg(),this.validationUtilSvc.isValidObject(this.audioCode)&&this.audioCode.logout()}catch(t){this.logger.error(n.className,"logoutAudioCodeServer<< Failed : "+t)}this.logger.debug(n.className,"logoutAudioCodeServer<<")},n.prototype.disconnectAgentLeg=function(){this.logger.debug(n.className,"disconnectAgentLeg>>"),this.validationUtilSvc.isValidObject(this.agentLegCall)&&this.agentLegCall.terminate(),this.agentLegCall=null,this.connectionInProgress=!1,this.agentLegCallInProgress=!1,this.localStorageSvc.remove(g.AgentLegCall),this.logger.debug(n.className,"disconnectAgentLeg<<")},n.prototype.isInboundContact=function(){var n=JSON.parse(this.localStorageSvc.get(g.Contacts)),t=[];return this.validationUtilSvc.isNotNullOrEmptyArray(n)&&(t=n.filter(function(n){return n.inbound&&("CallContactEvent"===n.contactType&&"Consult"!==n.callType||"VoiceMailContactEvent"===n.contactType)})),t.length>0},n.prototype.isContactNotEnded=function(){var n=JSON.parse(this.localStorageSvc.get(g.Contacts)),t=[];return this.validationUtilSvc.isNotNullOrEmptyArray(n)&&(t=n.filter(function(n){return"CallContactEvent"===n.contactType&&n.status!==Tn.Disconnected})),t.length>0},n.className="WebRTCService",n.ngInjectableDef=o.T({factory:function(){return new n(o.X(Un),o.X(f),o.X(_),o.X(qn),o.X(p))},token:n,providedIn:"root"}),n}(),bt=function(){function n(n,t,e,l){this.modalSvc=n,this.localStorageSvc=t,this.validationUtilSvc=e,this.logger=l}return n.prototype.ngOnInit=function(){this.logger.debug(n.className,"Initialize"),this.audioEl=document.querySelector("audio");var t=this.localStorageSvc.get(g.SoftphoneVolume);this.volume=this.validationUtilSvc.isNumber(t)?Math.round(100*parseFloat(t)):90,this.initialVolume=this.volume},n.prototype.close=function(){this.valueChanged(this.initialVolume),this.modalSvc.closeModalDialog(!1)},n.prototype.saveAudioSettings=function(){this.localStorageSvc.set(g.SoftphoneVolume,this.audioEl.volume.toString()),this.modalSvc.closeModalDialog(!1)},n.prototype.valueChanged=function(n){this.audioEl.volume=n/100},n.prototype.ngOnDestroy=function(){this.logger.debug(n.className,"Destroy")},n.className="AudioVisualSettingsComponent",n}(),mt=function(){function n(n,t,e,l,o,i,s,c){this.containerSvc=n,this.modalSvc=t,this.agentSvc=e,this.adminSvc=l,this.localStorageSvc=o,this.validationUtilSvc=i,this.urlUtilSvc=s,this.logger=c,this.platformInfo=new yn,this.contactId="",this.skillDetails=[],this.initParam=y.init(),this.hideAgentPhoneNumber=!1,this.hideAgentCallerId=!1,this.hideAgentName=!1}return n.prototype.ngOnInit=function(){var t=this;this.logger.debug(n.className,"Initialize"),this.timer=setInterval(function(){t.displayCurrentTime()},1e3),this.containerSvc.updatePermissionsChanges.subscribe(function(){return t.updatePermissionsList()}),this.updateAgentInfo(),this.updatePermissionsList(),this.adminSvc.getAgentSkills(!1).then(function(n){t.updateSkillList(n)})},n.prototype.displayCurrentTime=function(){var n=this.initParam.langCode,t=new st;this.platformInfo.currentTime=t.transform(new Date,n,!0,!1)},n.prototype.updateAgentInfo=function(){var n=JSON.parse(this.localStorageSvc.get(g.AgentSessionInfo)),t=JSON.parse(this.localStorageSvc.get(g.AgentInfo)),e=JSON.parse(this.localStorageSvc.get(g.AgentLeg));this.platformInfo.agentId=this.checkValidData(n.agentId),this.platformInfo.stationId=this.checkValidData(n.stationId);var l=this.agentSvc.contacts;if(this.validationUtilSvc.isValidObject(l))for(var o=0;o<l.length;o++)"Disconnected"===l[o].status||l[o].finalState||(this.contactId+=o<l.length-1?l[o].id+", ":l[o].id);this.platformInfo.currentContacts=this.checkValidData(this.contactId),this.platformInfo.sessionId=this.checkValidData(n.sessionId),this.platformInfo.server=this.urlUtilSvc.parseUrl(t.resourceBaseUrl).hostname,this.platformInfo.version=this.checkValidData(this.initParam.agentVersion),this.platformInfo.agentLegId=this.validationUtilSvc.isValidObject(e)&&this.validationUtilSvc.isNotNullOrEmpty(e)?e.agentLegId:this.checkValidData(e)},n.prototype.updatePermissionsList=function(){var n=this;this.hideAgentPhoneNumber=!1,this.hideAgentCallerId=!1;var t=this.localStorageSvc.get(g.Permissions);this.validationUtilSvc.isNotNullOrEmpty(t)&&JSON.parse(t).forEach(function(t){"hideagentphonenumber"===t.key.toLowerCase()?n.hideAgentPhoneNumber=!0:"hideagentcallerid"===t.key.toLowerCase()?n.hideAgentCallerId=!0:"hideagentidentityinfo"===t.key.toLowerCase()&&(n.hideAgentName=!0)}),this.updateAgentPermissionsInfo()},n.prototype.updateAgentPermissionsInfo=function(){var n=this,t=JSON.parse(this.localStorageSvc.get(g.AgentSessionInfo));this.adminSvc.getAgentDetails(t.agentId).then(function(t){n.platformInfo.agentName=n.restrictInfo(n.checkValidData(t.agentName),"AgentName")}),this.platformInfo.phoneNumber=this.restrictInfo(this.checkValidData(t.phNo),"PhoneNumber"),this.platformInfo.callerId=this.restrictInfo(this.checkValidData(t.callerId),"CallerId")},n.prototype.restrictInfo=function(n,t){return(this.hideAgentPhoneNumber&&"PhoneNumber"===t||this.hideAgentCallerId&&"CallerId"===t||this.hideAgentName&&"AgentName"===t)&&(n="**********"),n},n.prototype.updateSkillList=function(n){for(var t,e=0;e<n.length;e++)4===n[e].typeId?t={skillType:!0===n[e].isOutbound?"Outbound Phone":"Inbound Phone",skillName:n[e].skillName}:6===n[e].typeId?t={skillType:!0===n[e].isOutbound?"Outbound WorkItem":"Inbound WorkItem",skillName:n[e].skillName}:3===n[e].typeId?t={skillType:!0===n[e].isOutbound?"Outbound Chat":"Inbound Chat",skillName:n[e].skillName}:1===n[e].typeId?t={skillType:!0===n[e].isOutbound?"Outbound Email":"Inbound Email",skillName:n[e].skillName}:5===n[e].typeId&&(t={skillType:!0===n[e].isOutbound?"Outbound VoiceMail":"Inbound VoiceMail",skillName:n[e].skillName}),this.skillDetails.push(t);this.skillDetails.sort(function(n,t){return n.skillName.toLowerCase()===t.skillName.toLowerCase()?0:n.skillName.toLowerCase()>t.skillName.toLowerCase()?1:-1})},n.prototype.checkValidData=function(n){return this.validationUtilSvc.isNotNullOrEmpty(n)&&"0"!==n&&null!==n?n:"N/A"},n.prototype.close=function(){this.modalSvc.closeModalDialog(!1)},n.prototype.ngOnDestroy=function(){this.logger.debug(n.className,"Destroy"),this.timer&&clearInterval(this.timer)},n.className="PlatformInformationComponent",n}(),Ct=function(){function n(n){this.localStorageSvc=n}return n.prototype.setAuthInfo=function(n,t){this.localStorageSvc.set(g.OAuthInfo,JSON.stringify({accessToken:t.accessToken,expiresIn:t.expiresIn,refreshToken:t.refreshToken,refreshTokenUri:n.refreshTokenUrl,baseUri:n.resourceBaseUrl,accessTokenTime:t.accessTokenTime}))},n.ngInjectableDef=o.T({factory:function(){return new n(o.X(p))},token:n,providedIn:"root"}),n}(),vt=function(){function n(n,t,e,l,o,i,s,a,r,u,d,h,p,f,b,m,C,v){this.agentSvc=n,this.accessTokenSvc=t,this.validationUtilSvc=e,this.urlUtilSvc=l,this.localStorageSvc=o,this.localizationSvc=i,this.navigationUtilSvc=s,this.saleforceCTISvc=a,this.logger=r,this.adminSvc=u,this.resolver=d,this.modalSvc=h,this.alertSvc=p,this.containerSvc=f,this.multiTabService=b,this.webRTCSvc=m,this.contactsSvc=C,this.agentSettingAuthSupportSvc=v,this.modalOpen=!1,this.alertText="",this.alertConfirmationMode=!1,this.canShowAlert=!1,this.consultCallAccepted=!1,this.showCommitmentReminder=!1,this.showSpinner=!1,this.isWebRTC=!1,this.isMaster=!0;var _=y.init();this.localizationSvc.setLanguage(_.langCode),this.logger.updateLog(c.f["ALL"===_.icLogLevel?c.f[0]:_.icLogLevel]);var O=this.localStorageSvc.get(g.AgentInfo);this.validationUtilSvc.isNotNullOrEmpty(O)&&(this.agentInfo=JSON.parse(O),this.adminSvc.initialize(this.agentInfo),this.agentSvc.initialize(this.agentInfo))}return n.prototype.ngOnInit=function(){var t=this;if(this.accessTokenSvc.isTokenExpired())this.redirectToAuth();else{if(!0!==this.multiTabService.checkMasterTab())return void(this.isMaster=!1);setTimeout(function(){null!=t.localStorageSvc.get(g.MasterCount)&&"0"!==t.localStorageSvc.get(g.MasterCount)?(t.isMaster=!1,sessionStorage.setItem(g.IsMaster,"False")):t.localStorageSvc.set(g.MasterCount,"1")},Math.round(2e4*Math.random())),window.addEventListener&&(window.addEventListener("unload",this.onUnloadEvent,!1),window.addEventListener("storage",function(n){return t.onStorageUpateEvent(n)},!1)),this.agentSvc.setIsWebRTC(),this.agentSvc.refreshTokenEvent.subscribe(function(e){t.saleforceCTISvc.refreshToken(e.refreshTokenUrl,e.refreshToken).then(function(e){t.logger.debug(n.className,"refreshToken success:"+JSON.stringify(e)),t.accessTokenSvc.setAccessToken(e),t.agentSettingAuthSupportSvc.setAuthInfo(t.agentInfo,e)},function(e){t.logger.error(n.className,"refreshToken failure:"+e),t.localStorageSvc.set(g.RefreshTokenError,e),t.redirectToAuth()})});var e=this.localStorageSvc.get(g.SessionId);if(this.validationUtilSvc.isNullOrEmpty(e))this.navigationUtilSvc.navigate(["/station"]);else{var l=this.localStorageSvc.get(g.RouterUrl);this.validationUtilSvc.isNullOrEmpty(l)&&(l="/home"),this.navigationUtilSvc.navigate([l,{isLoaded:!0}])}this.agentSvc.agentSessionEndEvent.subscribe(function(){t.isWebRTC&&t.webRTCSvc.stopSession(),t.redirectToAuth()}),this.modalSvc.modalOpenEvent.subscribe(function(n){t.processModalRequest(n)}),this.modalSvc.modalCloseEvent.subscribe(function(){t.viewContainer.clear(),t.modalOpen=!1});var o=this.containerSvc.getIncomingConsultFromStorage();this.validationUtilSvc.isNotNullOrEmpty(o)&&(this.consultCallDetails=o),this.containerSvc.consultCallEvent.subscribe(function(n){t.consultCallDetails=n,t.validationUtilSvc.isNullOrEmpty(t.consultCallDetails)&&(t.consultCallAccepted=!1)}),this.agentSvc.promiseKeeperStatusEvent.subscribe(function(n){t.showCommitmentReminder=!1,t.localStorageSvc.remove(g.CommitmentReminderData)}),this.agentSvc.promiseKeeperEvent.subscribe(function(n){var e=new Date,l=Math.ceil((e.getTime()-n.start.getTime())/1e3);e<n.end&&l<Qn.COMMITMENT_REMINDER_DURATION?(n.isReschedule=!0,t.commitmentReminderModel=n,t.showCommitmentReminder=!0):t.localStorageSvc.remove(g.CommitmentReminderData)})}this.alertSvc.alertOpenEvent.subscribe(function(n){t.showAlert(n)}),this.agentSvc.isWebRTC?this.startWebRTCSession():this.agentSvc.agentSessionStartEvent.subscribe(function(n){"WebRTC"===n.phNo&&t.startWebRTCSession()});var i=this.contactsSvc.getIncomingWorkItemFromStorage();this.validationUtilSvc.isNotNullOrEmpty(i)&&(this.workItemDetails=i),this.contactsSvc.incomingWorkItemEvent.subscribe(function(n){t.workItemDetails=n})},n.prototype.startWebRTCSession=function(){this.logger.debug(n.className,"startWebRTCSession >>"),this.isWebRTC=!0,this.setSoftphoneVolume(),this.webRTCSvc.startSession(),this.logger.debug(n.className,"startWebRTCSession <<")},n.prototype.setSoftphoneVolume=function(){var n=this.localStorageSvc.get(g.SoftphoneVolume);this.softphoneVolume=this.validationUtilSvc.isNumber(n)?parseFloat(n):.9},n.prototype.redirectToAuth=function(){var n=i.authUrl,t="redirectURL="+encodeURIComponent(window.location.href);window.location.href=n+this.urlUtilSvc.addParamToQueryString(t)},n.prototype.createComponent=function(n){this.viewContainer.clear();var t=null;return n===l.Commitment?t=this.resolver.resolveComponentFactory(rt):n===l.Disposition?t=this.resolver.resolveComponentFactory(ut):n===l.Dialpad?t=this.resolver.resolveComponentFactory(dt):n===l.AgentReports?t=this.resolver.resolveComponentFactory(ht):n===l.LogSettings?t=this.resolver.resolveComponentFactory(pt):n===l.AudioVisualSettings?t=this.resolver.resolveComponentFactory(bt):n===l.PlatformInformation&&(t=this.resolver.resolveComponentFactory(mt)),this.viewContainer.createComponent(t)},n.prototype.setModalDataModel=function(n,t){this.validationUtilSvc.isNotNullOrEmpty(t.dataModel)&&(this.validationUtilSvc.isNotNullOrEmpty(t.dataModel.parentContactId)?(n.parentContactId=t.dataModel.parentContactId,n.parentContactStatus=t.dataModel.parentContactStatus):this.validationUtilSvc.isNotNullOrEmpty(t.dataModel.dialDetails)&&(n.clickToDialInfo=t.dataModel.dialDetails))},n.prototype.processModalRequest=function(t){try{var e=this.createComponent(t.contentType);t.contentType===l.Commitment?e.instance.commitmentModel=t.dataModel:t.contentType===l.Disposition?e.instance.callDetails=t.dataModel:t.contentType===l.Dialpad&&this.setModalDataModel(e.instance,t),this.modalOpen=!0}catch(o){this.logger.error(n.className,"Error in opening modal dialog "+o)}},n.prototype.showAlert=function(n){var t=this;this.alertText=n.message,this.alertTextStyle=n.type===Kn.Error?"slds-text-color_error text-bold":n.type===Kn.Warning?"msg-text-color_warning":"slds-text-color_default",this.canShowAlert=!0,this.alertConfirmationMode=n.confirmationMode,this.alertConfirmationMode||setTimeout(function(){t.hideAlert()},1e4)},n.prototype.hideAlert=function(){this.alertText="",this.canShowAlert=!1},n.prototype.acceptConsultCall=function(){this.consultCallAccepted=!0},n.prototype.highlightMasterTab=function(){this.localStorageSvc.set(g.HighlightMaster,"false"),this.localStorageSvc.set(g.HighlightMaster,"true")},n.prototype.onUnloadEvent=function(){"true"===sessionStorage.getItem(g.IsMaster)&&"true"===localStorage.getItem(g.HasMaster)&&(localStorage.setItem(g.HasMaster,"false"),localStorage.setItem(g.MasterUnloadTime,Date.now().toString()),localStorage.setItem(g.MasterCount,"0"),localStorage.setItem(g.HighlightMaster,"false"))},n.prototype.onStorageUpateEvent=function(n){return"highlightMaster"===n.key&&!this.validationUtilSvc.isNullOrEmpty(n.newValue)&&"true"===n.newValue&&this.saleforceCTISvc.browserTitleUpdate()},n.prototype.clearWorkItemDetails=function(){this.workItemDetails=null},n.prototype.triggerAlertActionEvent=function(){this.validationUtilSvc.isNullOrEmpty(this.alertSvc.alertActionEvent)||this.alertSvc.alertActionEvent.next()},n.className="AppComponent",n}(),_t=e("3Dat"),Ot=e("IvJO"),Mt=e("RiUZ"),Pt=e("KOjA"),St=function(){function n(n,t,e,l,o,i,s,c,a,r,u,d){this.agentSvc=n,this.saleforceCTISvc=t,this.adminSvc=e,this.validationUtilSvc=l,this.localStorageSvc=o,this.logger=i,this.localizationSvc=s,this.accessTokenSvc=c,this.navigationUtilSvc=a,this.whoamiSvc=r,this.containerSvc=u,this.agentSettingAuthSupportSvc=d,this.canShowSpinner=!0,this.stationOptions=[{id:"phone",type:"phone",label:"phoneNumber"},{id:"stationId",type:"stationId",label:"stationId"}],this.errorMessage=new W,this.initParam=y.init()}return n.prototype.ngOnInit=function(){this.logger.debug(n.className,"Initialize"),this.isSoftphoneSelected=!1,this.stationType="phone",this.getWhoAmI()},n.prototype.getWhoAmI=function(){var t=this,e=this.accessTokenSvc.getAccessToken(),l=JSON.parse(this.localStorageSvc.get(g.AuthSettings));this.whoamiSvc.getData(l.centralTokenUrl+"/WhoAmI",'{"token":"'+e.accessToken+'"}').subscribe(function(l){var o=t.localStorageSvc.get(g.AgentSessionInfo);o=JSON.parse(o),t.logger.debug(n.className,"whoami success:"+JSON.stringify(l)),t.adminSvc.initialize(l),t.agentSvc.initialize(l),t.agentSettingAuthSupportSvc.setAuthInfo(l,e),t.canShowSpinner=!1,t.onWhoAmISuccess()},function(e){t.logger.error(n.className,"whoami error:"+JSON.stringify(e)),t.canShowSpinner=!1})},n.prototype.onWhoAmISuccess=function(){this.containerSvc.whoAmISuccessEvent.next(),this.checkIntegratedSoftphoneEnabled(),this.setStationType()},n.prototype.checkIntegratedSoftphoneEnabled=function(){this.isWebRTCSupportedBrowser()&&this.getIntegratedSoftphone()},n.prototype.isWebRTCSupportedBrowser=function(){var t=void 0!==navigator.mediaDevices&&void 0!==navigator.mediaDevices.getUserMedia;return this.logger.debug(n.className,"isWebRTCSupportedBrowser - "+t),t},n.prototype.setStationType=function(){this.validationUtilSvc.isNotNullOrEmpty(this.initParam.icStationType)&&("softphone"===this.initParam.icStationType?this.validationUtilSvc.isNotNullOrEmpty(this.isIntegratedSoftphone)&&!0===this.isIntegratedSoftphone&&(this.stationType=this.initParam.icStationType):this.stationType=this.initParam.icStationType),this.onStationOptionsChange()},n.prototype.getSelectedStationOption=function(){var n=this;this.selectedStationOption=this.stationOptions.find(function(t){return t.type===n.stationType})},n.prototype.onStationOptionsChange=function(){this.errorMessage.stationAuthError="",this.getSelectedStationOption(),this.isSoftphoneSelected="softphone"===this.selectedStationOption.type,this.selectedStationValue=this.selectedStationOption.type===this.initParam.icStationType?this.initParam.icStationValue:""},n.prototype.validateStationOption=function(){var n=this,t="";this.errorMessage.stationAuthError="","softphone"===this.selectedStationOption.type&&(this.selectedStationValue="WebRTC"),this.validationUtilSvc.isNotNullOrEmpty(this.selectedStationValue)?"stationId"===this.selectedStationOption.type?this.validationUtilSvc.isValidStationId(this.selectedStationValue)||(t="invalidStationID"):"phone"===this.selectedStationOption.type&&(this.validationUtilSvc.isValidPhoneNumber(this.selectedStationValue)||(t="invalidPhoneNumber")):t="phoneNumberOrStationIDRequired",this.validationUtilSvc.isNotNullOrEmpty(t)?this.localizationSvc.getLocalizedValue(t).subscribe(function(t){n.errorMessage.stationAuthError=t}):this.saveStationOption()},n.prototype.saveStationOption=function(){var t=this;this.selectedStationOption.type===this.initParam.icStationType&&this.selectedStationValue===this.initParam.icStationValue||this.saleforceCTISvc.saveStationOption(this.selectedStationOption.type,this.selectedStationValue).then(function(e){t.logger.debug(n.className,"save station options success "+e)},function(e){t.logger.error(n.className,"save station options error "+e)}),this.agentLogin(),this.getTimeStamp()},n.prototype.agentLogin=function(){var n=this,t=new H;"stationId"===this.selectedStationOption.type?t.stationId=this.selectedStationValue:t.stationPhoneNumber="softphone"===this.selectedStationOption.type?"WebRTC":this.selectedStationValue,this.agentSvc.agentLogin(t).then(function(t){n.navigationUtilSvc.navigate(["/home"])},function(t){n.agentLoginFailure(t)})},n.prototype.agentLoginFailure=function(n){var t=this,e="",l=n.statusText;400===n.status?this.validationUtilSvc.isNotNullOrEmpty(n.error)&&this.validationUtilSvc.isNotNullOrEmpty(n.error.error_description)&&(e=this.getTranslateKey(n.error.error_description,l)):401===n.status?e="unauthorized":403===n.status&&(e="insufficientPermissions"),this.validationUtilSvc.isNotNullOrEmpty(e)?this.localizationSvc.getLocalizedValue(e).subscribe(function(n){if("phoneNumberInUse"===e||"stationIDInUse"===e){var o=l.indexOf("by"),i=l.indexOf(".");if(-1!==o&&-1!==i){var s=l.substring(o+3,i);t.errorMessage.stationAuthError=n.replace(/\{0\}/g,s)}else t.errorMessage.stationAuthError=l}else t.errorMessage.stationAuthError=n}):this.errorMessage.stationAuthError=l},n.prototype.getTranslateKey=function(n,t){var e=n.toLowerCase();return-1!==e.indexOf("phonenumberinuselessthansevendigits")?"phoneNumberInUseLessThanSevenDigits":-1!==e.indexOf("invalidphonenumberorstation")?"invalidStationOrPhone":-1!==e.indexOf("phonenumberorstationinuse")?"phoneNumberOrStationInUse":-1!==e.indexOf("phonenumberinusegeneric")?"phoneNumberInUseGeneric":-1!==e.indexOf("phonenumberinuse")?"phoneNumberInUse":-1!==e.indexOf("stationidinusegeneric")?"stationIDInUseGeneric":-1!==e.indexOf("stationidinuse")?"stationIDInUse":-1!==e.indexOf("stationlimitexceeded")?"agentOrStationLimitExceeded":-1!==e.indexOf("invalidagentid")?"invalidAgentID":-1!==e.indexOf("invalidsessiontimeout")?"invalidSessionTimeout":t},n.prototype.getIntegratedSoftphone=function(){var t=this;this.adminSvc.getBusinessUnit().then(function(e){var l=!1;e.features.forEach(function(n){110===n.productId&&(l=!0)}),l?t.isWebRTCEnabledInSecurityProfile():t.logger.debug(n.className,"Integrated Softphone is not enabled in business unit")},function(e){t.logger.error(n.className,+JSON.stringify(e))})},n.prototype.isWebRTCEnabledInSecurityProfile=function(){var t=this;this.adminSvc.getPermissions().then(function(e){var l=!1;e.forEach(function(n){"agentsfsoftphone"===n.key.toLowerCase()&&(l=!0)}),l?t.isWebRTCEnabledInAgentSettings():t.logger.debug(n.className,"Integrated Softphone is not enabled in security profile")},function(e){t.logger.error(n.className,+JSON.stringify(e))})},n.prototype.isWebRTCEnabledInAgentSettings=function(){var t=this;this.adminSvc.getAgentSettings().then(function(e){t.validationUtilSvc.isNotNullOrEmpty(e.webRTCType)&&"audiocodes"===e.webRTCType.toLowerCase()?t.setIntegratedSoftphone(!0):t.logger.debug(n.className,"Integrated Softphone is not enabled in agent settings")},function(e){t.logger.error(n.className,+JSON.stringify(e))})},n.prototype.setIntegratedSoftphone=function(n){this.isIntegratedSoftphone=n,this.stationOptions.push({id:"softphone",type:"softphone",label:"integratedSoftphone"}),this.setStationType()},n.prototype.getTimeStamp=function(){var n=this;this.adminSvc.getTimeStamp().then(function(t){n.localStorageSvc.set(g.ServerTime,new Date(t.ServerTime).getTime().toString()),n.localStorageSvc.set(g.LocalTime,(new Date).getTime().toString())})},n.prototype.ngOnDestroy=function(){this.logger.debug(n.className,"Destroy")},n.className="StationOptionsComponent",n}(),yt=o.ob({encapsulation:0,styles:[[""]],data:{}});function kt(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,4,"div",[["class","slds-spinner_container"]],null,null,null,null,null)),(n()(),o.qb(1,0,null,null,3,"div",[["class","slds-align_absolute-center"]],null,null,null,null,null)),(n()(),o.qb(2,0,null,null,2,"div",[["class","slds-spinner slds-spinner_medium slds-spinner_brand"],["role","status"]],null,null,null,null,null)),(n()(),o.qb(3,0,null,null,0,"div",[["class","slds-spinner__dot-a"]],null,null,null,null,null)),(n()(),o.qb(4,0,null,null,0,"div",[["class","slds-spinner__dot-b"]],null,null,null,null,null))],null,null)}function wt(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,2,"div",[["class","slds-form-element slds-p-bottom_medium"]],null,null,null,null,null)),(n()(),o.qb(1,0,null,null,1,"div",[["class","slds-text-color_error"],["id","error-msg"]],null,null,null,null,null)),(n()(),o.Hb(2,null,["",""]))],null,function(n,t){n(t,2,0,t.component.errorMessage.stationAuthError)})}function It(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,12,"li",[["class","slds-radio"]],null,null,null,null,null)),(n()(),o.qb(1,0,null,null,6,"input",[["name","optionSettings"],["type","radio"]],[[8,"id",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,t,e){var l=!0,i=n.component;return"input"===t&&(l=!1!==o.Ab(n,2)._handleInput(e.target.value)&&l),"blur"===t&&(l=!1!==o.Ab(n,2).onTouched()&&l),"compositionstart"===t&&(l=!1!==o.Ab(n,2)._compositionStart()&&l),"compositionend"===t&&(l=!1!==o.Ab(n,2)._compositionEnd(e.target.value)&&l),"change"===t&&(l=!1!==o.Ab(n,3).onChange()&&l),"blur"===t&&(l=!1!==o.Ab(n,3).onTouched()&&l),"ngModelChange"===t&&(l=!1!==(i.stationType=e)&&l),"change"===t&&(l=!1!==i.onStationOptionsChange()&&l),l},null,null)),o.pb(2,16384,null,0,Mt.b,[o.E,o.k,[2,Mt.a]],null,null),o.pb(3,212992,null,0,Mt.k,[o.E,o.k,Mt.o,o.q],{name:[0,"name"],value:[1,"value"]},null),o.Eb(1024,null,Mt.f,function(n,t){return[n,t]},[Mt.b,Mt.k]),o.pb(5,671744,null,0,Mt.i,[[8,null],[8,null],[8,null],[6,Mt.f]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),o.Eb(2048,null,Mt.g,null,[Mt.i]),o.pb(7,16384,null,0,Mt.h,[[4,Mt.g]],null,null),(n()(),o.qb(8,0,null,null,4,"label",[["class","slds-radio__label"]],[[8,"htmlFor",0]],null,null,null,null)),(n()(),o.qb(9,0,null,null,0,"span",[["class","slds-radio_faux"]],null,null,null,null,null)),(n()(),o.qb(10,0,null,null,2,"span",[["class","slds-form-element__label"]],null,null,null,null,null)),(n()(),o.Hb(11,null,["",""])),o.Bb(131072,d.i,[d.j,o.h])],function(n,t){var e=t.component;n(t,3,0,"optionSettings",o.sb(1,"",t.context.$implicit.type,"")),n(t,5,0,"optionSettings",e.stationType)},function(n,t){n(t,1,0,o.sb(1,"",t.context.$implicit.id,""),o.Ab(t,7).ngClassUntouched,o.Ab(t,7).ngClassTouched,o.Ab(t,7).ngClassPristine,o.Ab(t,7).ngClassDirty,o.Ab(t,7).ngClassValid,o.Ab(t,7).ngClassInvalid,o.Ab(t,7).ngClassPending),n(t,8,0,o.sb(1,"",t.context.$implicit.id,"")),n(t,11,0,o.Ib(t,11,0,o.Ab(t,12).transform(t.context.$implicit.label)))})}function Nt(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,27,"div",[["class","slds-box slds-grid slds-grid_vertical slds-grid_vertical-align-center slds-size-full"]],null,null,null,null,null)),(n()(),o.qb(1,0,null,null,2,"div",[["class","slds-col slds-size_1-of-1 slds-small-size_1-of-1 slds-medium-size_2-of-3 slds-large-size_1-of-3 slds-p-bottom_medium slds-border_bottom slds-text-heading_small"]],null,null,null,null,null)),(n()(),o.Hb(2,null,[""," "])),o.Bb(131072,d.i,[d.j,o.h]),(n()(),o.qb(4,0,null,null,23,"div",[["class","slds-col slds-size_1-of-1 slds-small-size_1-of-1 slds-medium-size_2-of-3 slds-large-size_1-of-3 slds-p-top_medium"]],null,null,null,null,null)),(n()(),o.qb(5,0,null,null,18,"div",[["class","slds-form-element"]],null,null,null,null,null)),(n()(),o.qb(6,0,null,null,17,"div",[["class","slds-form-element__control"]],null,null,null,null,null)),(n()(),o.hb(16777216,null,null,1,null,wt)),o.pb(8,16384,null,0,Pt.l,[o.P,o.M],{ngIf:[0,"ngIf"]},null),(n()(),o.qb(9,0,null,null,3,"div",[["class","slds-radio"]],null,null,null,null,null)),(n()(),o.qb(10,0,null,null,2,"ul",[],null,null,null,null,null)),(n()(),o.hb(16777216,null,null,1,null,It)),o.pb(12,278528,null,0,Pt.k,[o.P,o.M,o.s],{ngForOf:[0,"ngForOf"]},null),(n()(),o.qb(13,0,null,null,10,"div",[["class","slds-form-element slds-p-top_medium"]],[[2,"slds-hide",null]],null,null,null,null)),(n()(),o.qb(14,0,null,null,2,"label",[["class","slds-form-element__label"]],null,null,null,null,null)),(n()(),o.Hb(15,null,["",""])),o.Bb(131072,d.i,[d.j,o.h]),(n()(),o.qb(17,0,null,null,6,"div",[["class","slds-form-element__control"]],null,null,null,null,null)),(n()(),o.qb(18,0,null,null,5,"input",[["class","slds-input form-control"],["id","stationValue"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,t,e){var l=!0,i=n.component;return"input"===t&&(l=!1!==o.Ab(n,19)._handleInput(e.target.value)&&l),"blur"===t&&(l=!1!==o.Ab(n,19).onTouched()&&l),"compositionstart"===t&&(l=!1!==o.Ab(n,19)._compositionStart()&&l),"compositionend"===t&&(l=!1!==o.Ab(n,19)._compositionEnd(e.target.value)&&l),"ngModelChange"===t&&(l=!1!==(i.selectedStationValue=e)&&l),l},null,null)),o.pb(19,16384,null,0,Mt.b,[o.E,o.k,[2,Mt.a]],null,null),o.Eb(1024,null,Mt.f,function(n){return[n]},[Mt.b]),o.pb(21,671744,null,0,Mt.i,[[8,null],[8,null],[8,null],[6,Mt.f]],{model:[0,"model"]},{update:"ngModelChange"}),o.Eb(2048,null,Mt.g,null,[Mt.i]),o.pb(23,16384,null,0,Mt.h,[[4,Mt.g]],null,null),(n()(),o.qb(24,0,null,null,3,"div",[["class","slds-p-top_large"]],null,null,null,null,null)),(n()(),o.qb(25,0,null,null,2,"button",[["aria-describedby","error-msg"],["class","slds-button slds-button_brand slds-button_brand slds-size_1-of-1 slds-small-size_1-of-1 slds-medium-size_1-of-1 slds-large-size_1-of-1"],["id","stationLogIn"]],null,[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.validateStationOption()&&l),l},null,null)),(n()(),o.Hb(26,null,[""," "])),o.Bb(131072,d.i,[d.j,o.h])],function(n,t){var e=t.component;n(t,8,0,null==e.errorMessage?null:e.errorMessage.stationAuthError),n(t,12,0,e.stationOptions),n(t,21,0,e.selectedStationValue)},function(n,t){var e=t.component;n(t,2,0,o.Ib(t,2,0,o.Ab(t,3).transform("stationOptions"))),n(t,13,0,e.isSoftphoneSelected),n(t,15,0,o.Ib(t,15,0,o.Ab(t,16).transform(e.selectedStationOption.label))),n(t,18,0,o.Ab(t,23).ngClassUntouched,o.Ab(t,23).ngClassTouched,o.Ab(t,23).ngClassPristine,o.Ab(t,23).ngClassDirty,o.Ab(t,23).ngClassValid,o.Ab(t,23).ngClassInvalid,o.Ab(t,23).ngClassPending),n(t,26,0,o.Ib(t,26,0,o.Ab(t,27).transform("logIn")))})}function xt(n){return o.Jb(0,[(n()(),o.hb(16777216,null,null,1,null,kt)),o.pb(1,16384,null,0,Pt.l,[o.P,o.M],{ngIf:[0,"ngIf"]},null),(n()(),o.hb(16777216,null,null,1,null,Nt)),o.pb(3,16384,null,0,Pt.l,[o.P,o.M],{ngIf:[0,"ngIf"]},null)],function(n,t){var e=t.component;n(t,1,0,e.canShowSpinner),n(t,3,0,!e.canShowSpinner)},null)}function At(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,1,"app-station-options",[],null,null,null,xt,yt)),o.pb(1,245760,null,0,St,[Un,Bn,qn,f,p,_,S,b,A,Ln,ot,Ct],null,null)],function(n,t){n(t,1,0)},null)}var Tt=o.mb("app-station-options",St,At,{},{},[]),Et=e("CE2m"),Dt=function(){function n(n,t,e,l,i,s,c){this.localizationSvc=n,this.dateTimeUtilSvc=t,this.validationUtilSvc=e,this.adminSvc=l,this.agentSvc=i,this.localStorageSvc=s,this.containerSvc=c,this.updateSelectedContact=new o.m,this.initParam=y.init(),this.langCode=this.initParam.langCode,this.sfWorkItemType="",this.isMuteEnabled=!1,this.muteButtonText="mute",this.contactStatusLocal=Qn.LOCALIZED_CONTACT_STATUS}return n.prototype.ngOnInit=function(){var n=this;this.containerSvc.updatePermissionsChanges.subscribe(function(){return n.updatePermissions()}),this.agentSvc.updateMuteEvent.subscribe(function(){return n.updateContactPanel()}),this.updatePermissions()},n.prototype.ngOnChanges=function(){this.updateContactPanel()},n.prototype.updatePermissions=function(){var n=this;this.isMuteEnabled=!1;var t=this.localStorageSvc.get(g.Permissions);this.validationUtilSvc.isNotNullOrEmpty(t)&&JSON.parse(t).forEach(function(t){"muteagent"===t.key.toLowerCase()&&(n.isMuteEnabled=!0)}),this.updateContactPanel()},n.prototype.updateContactPanel=function(){var n=this,t=this.omniGroupContact.callContact,e=this.omniGroupContact.workItemContact;this.updateCallContactButtons(t.status),this.sfWorkItemType=e.sfWorkItemType,this.phoneNumber=M.formatPhoneNumber(t.inbound?t.ani:t.dnis),this.setStatusToDisplay(t.status),this.panelColor=t.status===Tn.Holding||t.status===Tn.Disconnected?"hold":"active",this.getSkillDetails(t.skillId),this.startTime=new Date(e.time),this.skillId="("+t.skillId+")",this.destroyTimerEvent();var l=Object(at.a)(1e3,1e3);this.timerEvent=l.subscribe(function(){n.contactDuration=n.dateTimeUtilSvc.getElapsedTime(t.time)})},n.prototype.updateCallContactButtons=function(n){this.dropState="disabled",this.muteState="disabled",this.validationUtilSvc.isNotNullOrEmpty(this.localStorageSvc.get(g.AgentMuted))&&(this.agentMuted=M.toBoolean(this.localStorageSvc.get(g.AgentMuted))),n!==Tn.Incoming&&n!==Tn.Disconnected&&(this.dropState=n===Tn.Holding||n===Tn.Masking||!0===this.agentMuted?"disabled":"selected",this.agentMuted?(this.muteButtonText="muted",this.muteState="slds-button_brand"):(this.muteButtonText="mute",this.muteState=!0===this.isMuteEnabled?"enabled":"disabled"))},n.prototype.setStatusToDisplay=function(n){var t=this,e="";this.localizationSvc.getLocalizedValue(e=n===Tn.Dialing||n===Tn.Ringing?"connecting":this.contactStatusLocal[n]?this.contactStatusLocal[n]:n).subscribe(function(n){t.displayStatus="connecting"===e?n:n+": "})},n.prototype.getSkillDetails=function(n){var t=this;this.adminSvc.getSkillDetails(n).then(function(n){t.skillName=n.skillName})},n.prototype.destroyTimerEvent=function(){this.validationUtilSvc.isNotNullOrUndefined(this.timerEvent)&&this.timerEvent.unsubscribe()},n.prototype.switchToCall=function(){this.updateSelectedContact.next(this.omniGroupContact.callContact)},n.prototype.switchToWorkItem=function(n){n.stopPropagation();var t=this.omniGroupContact.workItemContact;t.status===Tn.Interrupted?this.agentSvc.activateContact(t.id):this.updateSelectedContact.next(this.omniGroupContact.workItemContact)},n.prototype.endClick=function(n){n.stopPropagation(),this.agentSvc.endContact(this.omniGroupContact.callContact.id)},n.prototype.muteClick=function(n){n.stopPropagation(),M.toBoolean(this.localStorageSvc.get(g.AgentMuted))?this.agentSvc.unmuteAgent():this.agentSvc.muteAgent()},n.prototype.ngOnDestroy=function(){this.destroyTimerEvent()},n}(),Ut=o.ob({encapsulation:0,styles:[[".full-height[_ngcontent-%COMP%], html[_ngcontent-%COMP%], html[_ngcontent-%COMP%]   body[_ngcontent-%COMP%]{height:100%}.no-strech[_ngcontent-%COMP%]{flex:0}.strech[_ngcontent-%COMP%]{flex:1;position:relative}.no-scroll[_ngcontent-%COMP%]{overflow:hidden}.full-height-flex[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;justify-content:center}.center-align[_ngcontent-%COMP%]{text-align:center}.cursor-pointer[_ngcontent-%COMP%]{cursor:pointer}.text-wrap[_ngcontent-%COMP%]{word-wrap:break-word}.text-bold[_ngcontent-%COMP%]{font-weight:700}.cdk-overlay-container[_ngcontent-%COMP%]   .slds-modal__container[_ngcontent-%COMP%]{margin:0;padding:0}.cdk-overlay-container[_ngcontent-%COMP%]   .slds-modal__content[_ngcontent-%COMP%]{height:100%}.cdk-global-scrollblock[_ngcontent-%COMP%]{overflow-y:auto!important}@media (min-width:48em){.slds-scope[_ngcontent-%COMP%]   .slds-modal--large[_ngcontent-%COMP%]   .slds-modal__container[_ngcontent-%COMP%], .slds-scope[_ngcontent-%COMP%]   .slds-modal_large[_ngcontent-%COMP%]   .slds-modal__container[_ngcontent-%COMP%]{width:100%;height:100%}}.pull-down[_ngcontent-%COMP%]{position:absolute;bottom:0;width:100%}.dialog-style[_ngcontent-%COMP%]{position:fixed;top:0;background-color:#fff;right:0;left:0;box-shadow:0 0 5px grey;z-index:1001}.schedule-container[_ngcontent-%COMP%]   .fc-widget-content[_ngcontent-%COMP%]{background-color:#fff}.schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%]{opacity:.75;text-indent:3px}.schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-event[_ngcontent-%COMP%]{border-radius:0;cursor:default;color:#01396a;min-height:2rem}.schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-event[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%]{font-weight:700}.schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%]:hover, .schedule-container[_ngcontent-%COMP%]   .fc-event[_ngcontent-%COMP%]:hover{text-decoration:none;color:#01396a}.schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%]   .fc-title[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-event[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-event[_ngcontent-%COMP%]   .fc-title[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-slats[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-slats[_ngcontent-%COMP%]   .fc-title[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-title[_ngcontent-%COMP%]{font-size:.8rem}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-content[_ngcontent-%COMP%]{display:flex}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-title[_ngcontent-%COMP%]{display:inline-block;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.schedule-container[_ngcontent-%COMP%]   .commitment-event[_ngcontent-%COMP%]{background-color:#d9d9d9;border-color:#d9d9d9}.schedule-container[_ngcontent-%COMP%]   .commitment-event[_ngcontent-%COMP%]:hover{cursor:pointer}.schedule-container[_ngcontent-%COMP%]   .fc-header-toolbar[_ngcontent-%COMP%]   .fc-left[_ngcontent-%COMP%]{margin-left:10px}.schedule-container[_ngcontent-%COMP%]   .fc-button-group[_ngcontent-%COMP%]{font-size:.6rem}.schedule-container[_ngcontent-%COMP%]   .fc-button-group[_ngcontent-%COMP%]   .fc-button-primary[_ngcontent-%COMP%]{background-color:#fff;border-color:grey;color:grey;box-shadow:none}.schedule-container[_ngcontent-%COMP%]   .fc-button-group[_ngcontent-%COMP%]   .fc-button-primary[_ngcontent-%COMP%]:not(:disabled):active{box-shadow:none}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]{min-height:1rem}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%]::before{display:none}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid[_ngcontent-%COMP%]   .fc-slats[_ngcontent-%COMP%]   .fc-minor[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-top:0}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-container[_ngcontent-%COMP%]{overflow:visible!important}.slds-scope[_ngcontent-%COMP%]   .slds-button[_ngcontent-%COMP%]:not([disabled]){color:#0672d4}.slds-scope[_ngcontent-%COMP%]   .slds-button.slds-button_brand[_ngcontent-%COMP%]{color:#fff}.slds-scope[_ngcontent-%COMP%]   .slds-button.decline-button[_ngcontent-%COMP%]:not([disabled]){color:#c13834;border-color:#c13834}.slds-scope[_ngcontent-%COMP%]   .slds-button.accept-button[_ngcontent-%COMP%]:not([disabled]){color:#fff}.slds-scope[_ngcontent-%COMP%]   .slds-slider__range[_ngcontent-%COMP%]{-webkit-appearance:none}.slds-scope[_ngcontent-%COMP%]   .slds-slider__range[_ngcontent-%COMP%]::-webkit-slider-thumb{-webkit-appearance:none;appearance:none}.initialize-softphone[_ngcontent-%COMP%]   .slds-spinner[_ngcontent-%COMP%]{margin-left:-6em}.slds-scope[_ngcontent-%COMP%]   .cdk-overlay-container[_ngcontent-%COMP%]{position:absolute}.unread-icon[_ngcontent-%COMP%]{height:.5rem;width:.5rem;border-radius:50%;display:inline-block;background-color:#1589ee}.unread-icon.visited[_ngcontent-%COMP%]{background:0 0}.omni-group-contact-panel[_ngcontent-%COMP%]{width:100%;color:#fff;margin-bottom:1px;cursor:pointer}.omni-group-contact-panel[_ngcontent-%COMP%]   .button-section[_ngcontent-%COMP%]{display:none}.omni-group-contact-panel[_ngcontent-%COMP%]   .button-section[_ngcontent-%COMP%]   .slds-button[_ngcontent-%COMP%]{width:3.5rem;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;box-shadow:none}.omni-group-contact-panel[_ngcontent-%COMP%]   .button-section[_ngcontent-%COMP%]   .selected[_ngcontent-%COMP%]{color:#c13834;border-color:#c13834;background-color:#fff}.omni-group-contact-panel[_ngcontent-%COMP%]   .button-section[_ngcontent-%COMP%]   .enabled[_ngcontent-%COMP%]{color:#0672d4;border-color:#dddbda;background-color:#fff}.omni-group-contact-panel[_ngcontent-%COMP%]:hover   .button-section[_ngcontent-%COMP%]{display:block;right:.6rem}.omni-group-contact-panel.hold[_ngcontent-%COMP%]{background-color:#b0adad}.omni-group-contact-panel.active[_ngcontent-%COMP%]{background-color:#4bca81}.omni-group-contact-panel[_ngcontent-%COMP%]   .skill-info-panel[_ngcontent-%COMP%], .omni-group-contact-panel[_ngcontent-%COMP%]   .work-item-details[_ngcontent-%COMP%]{font-weight:300;line-height:1.7}.omni-group-contact-panel[_ngcontent-%COMP%]   .work-item-details[_ngcontent-%COMP%]   .work-item-icon[_ngcontent-%COMP%]{width:1.3rem;height:1.3rem}.omni-group-contact-panel[_ngcontent-%COMP%]   .work-item-details[_ngcontent-%COMP%]   .slds-icon-standard-picklist-type[_ngcontent-%COMP%]{background-color:#706e6b}.omni-group-contact-panel[_ngcontent-%COMP%]   .work-item-details[_ngcontent-%COMP%]   .slds-icon-standard-picklist-type[_ngcontent-%COMP%]   .default-work-item-icon[_ngcontent-%COMP%]{width:1.2rem;height:1.2rem}.omni-group-contact-panel[_ngcontent-%COMP%]   .work-item-details[_ngcontent-%COMP%]   .work-item-start-time[_ngcontent-%COMP%]{color:#080707;font-size:.7rem;font-weight:600}.omni-group-contact-panel[_ngcontent-%COMP%]   .work-item-details[_ngcontent-%COMP%]   .icon-container[_ngcontent-%COMP%]{background-color:#fff;width:6rem;border-radius:15px}"]],data:{}});function qt(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,1,":svg:svg",[["aria-hidden","true"],["class","slds-icon slds-icon-text-default work-item-icon slds-p-left_x-small"]],null,null,null,null,null)),(n()(),o.qb(1,0,null,null,0,":svg:use",[[":xlink:href","/_slds/icons/utility-sprite/svg/symbols.svg#case"]],null,null,null,null,null))],null,null)}function Lt(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,1,":svg:svg",[["aria-hidden","true"],["class","slds-icon slds-icon-text-default work-item-icon slds-p-left_x-small"]],null,null,null,null,null)),(n()(),o.qb(1,0,null,null,0,":svg:use",[[":xlink:href","/_slds/icons/utility-sprite/svg/symbols.svg#chat"]],null,null,null,null,null))],null,null)}function Bt(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,2,"span",[["class","slds-icon_container slds-icon-standard-picklist-type slds-m-vertical_xxx-small slds-m-left_x-small"]],null,null,null,null,null)),(n()(),o.qb(1,0,null,null,1,":svg:svg",[["aria-hidden","true"],["class","slds-icon default-work-item-icon slds-p-around_xxx-small"]],null,null,null,null,null)),(n()(),o.qb(2,0,null,null,0,":svg:use",[[":xlink:href","/_slds/icons/utility-sprite/svg/symbols.svg#picklist_type"]],null,null,null,null,null))],null,null)}function Rt(n){return o.Jb(0,[o.Bb(0,st,[]),(n()(),o.qb(1,0,null,null,38,"div",[["class","slds-grid slds-wrap slds-p-top_x-small slds-p-bottom_x-small omni-group-contact-panel"]],null,[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.switchToCall()&&l),l},null,null)),o.pb(2,278528,null,0,Pt.j,[o.s,o.t,o.k,o.E],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(n()(),o.qb(3,0,null,null,8,"div",[["class","slds-col slds-size_1-of-1"]],null,null,null,null,null)),(n()(),o.qb(4,0,null,null,4,"div",[["class","slds-truncate slds-p-left_medium slds-p-right_medium slds-size_3-of-4 slds-float_left"]],null,null,null,null,null)),(n()(),o.qb(5,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),o.Hb(6,null,[" "," "])),(n()(),o.qb(7,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),o.Hb(8,null,[" "," "])),(n()(),o.qb(9,0,null,null,2,"div",[["class","slds-p-right_medium slds-float_right"]],null,null,null,null,null)),(n()(),o.qb(10,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),o.Hb(11,null,["",""])),(n()(),o.qb(12,0,null,null,3,"div",[["class","slds-col slds-size_1-of-1 skill-info-panel"]],null,null,null,null,null)),(n()(),o.qb(13,0,null,null,2,"div",[["class","slds-truncate slds-p-left_medium slds-p-right_medium slds-size_3-of-4 slds-float_left"]],[[8,"title",0]],null,null,null,null)),(n()(),o.qb(14,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),o.Hb(15,null,[""," ",""])),(n()(),o.qb(16,0,null,null,10,"div",[["class","slds-col slds-size_1-of-1 work-item-details slds-m-top_xxx-small"]],null,null,null,null,null)),(n()(),o.qb(17,0,null,null,9,"div",[["class","icon-container slds-m-left_medium"]],null,[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.switchToWorkItem(e)&&l),l},null,null)),(n()(),o.hb(16777216,null,null,1,null,qt)),o.pb(19,16384,null,0,Pt.l,[o.P,o.M],{ngIf:[0,"ngIf"]},null),(n()(),o.hb(16777216,null,null,1,null,Lt)),o.pb(21,16384,null,0,Pt.l,[o.P,o.M],{ngIf:[0,"ngIf"]},null),(n()(),o.hb(16777216,null,null,1,null,Bt)),o.pb(23,16384,null,0,Pt.l,[o.P,o.M],{ngIf:[0,"ngIf"]},null),(n()(),o.qb(24,0,null,null,2,"span",[["class","slds-p-left_xx-small work-item-start-time"]],null,null,null,null,null)),(n()(),o.Hb(25,null,["",""])),o.Db(26,2),(n()(),o.qb(27,0,null,null,12,"div",[["class","button-section slds-is-absolute slds-p-around_xx-small"]],null,null,null,null,null)),(n()(),o.qb(28,0,null,null,5,"button",[["class","slds-button"],["nglButton",""]],[[8,"disabled",0]],[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.endClick(e)&&l),l},_t.m,_t.a)),o.pb(29,278528,null,0,Pt.j,[o.s,o.t,o.k,o.E],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),o.Eb(512,null,Et.lc,Et.lc,[o.F]),o.pb(31,638976,null,0,Et.n,[o.k,o.E,Et.lc],null,null),(n()(),o.Hb(32,0,[" "," "])),o.Bb(131072,d.i,[d.j,o.h]),(n()(),o.qb(34,0,null,null,5,"button",[["class","slds-button"],["nglButton",""]],[[8,"disabled",0]],[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.muteClick(e)&&l),l},_t.m,_t.a)),o.pb(35,278528,null,0,Pt.j,[o.s,o.t,o.k,o.E],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),o.Eb(512,null,Et.lc,Et.lc,[o.F]),o.pb(37,638976,null,0,Et.n,[o.k,o.E,Et.lc],null,null),(n()(),o.Hb(38,0,[" "," "])),o.Bb(131072,d.i,[d.j,o.h])],function(n,t){var e=t.component;n(t,2,0,"slds-grid slds-wrap slds-p-top_x-small slds-p-bottom_x-small omni-group-contact-panel",e.panelColor),n(t,19,0,"salesforceCase"===e.sfWorkItemType),n(t,21,0,"salesforceChat"===e.sfWorkItemType),n(t,23,0,!e.sfWorkItemType||"omniChannelContact"===e.sfWorkItemType),n(t,29,0,"slds-button",e.dropState),n(t,31,0),n(t,35,0,"slds-button",e.muteState),n(t,37,0)},function(n,t){var e=t.component;n(t,6,0,e.displayStatus),n(t,8,0,e.phoneNumber),n(t,11,0,e.contactDuration),n(t,13,0,o.sb(2,"",e.skillName," ",e.skillId,"")),n(t,15,0,e.skillName,e.skillId);var l=o.Ib(t,25,0,n(t,26,0,o.Ab(t,0),e.startTime,e.langCode));n(t,25,0,l),n(t,28,0,"disabled"===e.dropState),n(t,32,0,o.Ib(t,32,0,o.Ab(t,33).transform("end"))),n(t,34,0,"disabled"===e.muteState),n(t,38,0,o.Ib(t,38,0,o.Ab(t,39).transform(e.muteButtonText)))})}var jt=function(){function n(n,t,e,l,o,i,s){this.adminSvc=n,this.dateTimeUtilSvc=t,this.validationUtilSvc=e,this.localizationSvc=l,this.agentSvc=o,this.containerSvc=i,this.localStorageSvc=s,this.showAgentDetails=!1,this.hideAgentName=!1,this.contactStatusLocal=Qn.LOCALIZED_CONTACT_STATUS}return n.prototype.ngOnChanges=function(){this.updateCallPanel()},n.prototype.updateCallPanel=function(){var n=this,t=this.callContact;if(this.showAgentDetails="Consult"===t.callType||"PersonalQueue"===t.callType&&!t.inbound,this.showAgentDetails){var e=t.inbound?t.ani:t.dnis;this.agentId="("+e+")",this.hideAgentName=!1,this.getAgentDetails(e)}else this.getSkillDetails(t.skillId),this.phoneNumber=M.formatPhoneNumber(t.inbound?t.ani:t.dnis),this.skillId="("+t.skillId+")",this.callDetailsField=this.updateSearchResult(t);this.setStatusToDisplay(t.status),this.panelColor=t.status===Tn.Holding||t.status===Tn.Disconnected?"hold":"active",this.showEndInConference(),this.destroyTimerEvent();var l=Object(at.a)(1e3,1e3);this.timerEvent=l.subscribe(function(){n.contactDuration=n.dateTimeUtilSvc.getElapsedTime(t.time)})},n.prototype.getAgentDetails=function(n){var t=this;this.adminSvc.getAgentDetails(n).then(function(n){t.agentName=n.firstName+" "+n.lastName})},n.prototype.setStatusToDisplay=function(n){var t=this,e="";n===Tn.Dialing||n===Tn.Ringing?(e="connecting",this.hideAgentName=!0):e=this.contactStatusLocal[n]?this.contactStatusLocal[n]:n,this.localizationSvc.getLocalizedValue(e).subscribe(function(n){t.displayStatus="connecting"===e?n:n+": "})},n.prototype.showEndInConference=function(){var n=this.localStorageSvc.get(g.RouterUrl);this.showEndButton=!(this.validationUtilSvc.isNotNullOrEmpty(n)&&"/home"===n||this.callContact.status!==Tn.Joined)&&this.containerSvc.isConference()},n.prototype.endClick=function(){this.agentSvc.endContact(this.callContact.id)},n.prototype.updateSearchResult=function(n){var t="";if(this.singleMatchName="",this.validationUtilSvc.isValidObject(this.contactSfResult)&&this.contactSfResult.contactId===n.id){var e=this.contactSfResult.results.result,l=Object.keys(e).length;this.singleMatchName=1===l?e[Object.keys(e)[0]].Name:"",t=this.validationUtilSvc.isNotNullOrEmpty(this.singleMatchName)?this.singleMatchName:this.phoneNumber}else t=this.phoneNumber;return t},n.prototype.getSkillDetails=function(n){var t=this;this.adminSvc.getSkillDetails(n).then(function(n){t.skillName=n.skillName})},n.prototype.destroyTimerEvent=function(){this.validationUtilSvc.isNotNullOrUndefined(this.timerEvent)&&this.timerEvent.unsubscribe()},n.prototype.ngOnDestroy=function(){this.destroyTimerEvent()},n}(),Jt=o.ob({encapsulation:0,styles:[[".full-height[_ngcontent-%COMP%], html[_ngcontent-%COMP%], html[_ngcontent-%COMP%]   body[_ngcontent-%COMP%]{height:100%}.no-strech[_ngcontent-%COMP%]{flex:0}.strech[_ngcontent-%COMP%]{flex:1;position:relative}.no-scroll[_ngcontent-%COMP%]{overflow:hidden}.full-height-flex[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;justify-content:center}.center-align[_ngcontent-%COMP%]{text-align:center}.cursor-pointer[_ngcontent-%COMP%]{cursor:pointer}.text-wrap[_ngcontent-%COMP%]{word-wrap:break-word}.text-bold[_ngcontent-%COMP%]{font-weight:700}.cdk-overlay-container[_ngcontent-%COMP%]   .slds-modal__container[_ngcontent-%COMP%]{margin:0;padding:0}.cdk-overlay-container[_ngcontent-%COMP%]   .slds-modal__content[_ngcontent-%COMP%]{height:100%}.cdk-global-scrollblock[_ngcontent-%COMP%]{overflow-y:auto!important}@media (min-width:48em){.slds-scope[_ngcontent-%COMP%]   .slds-modal--large[_ngcontent-%COMP%]   .slds-modal__container[_ngcontent-%COMP%], .slds-scope[_ngcontent-%COMP%]   .slds-modal_large[_ngcontent-%COMP%]   .slds-modal__container[_ngcontent-%COMP%]{width:100%;height:100%}}.pull-down[_ngcontent-%COMP%]{position:absolute;bottom:0;width:100%}.dialog-style[_ngcontent-%COMP%]{position:fixed;top:0;background-color:#fff;right:0;left:0;box-shadow:0 0 5px grey;z-index:1001}.schedule-container[_ngcontent-%COMP%]   .fc-widget-content[_ngcontent-%COMP%]{background-color:#fff}.schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%]{opacity:.75;text-indent:3px}.schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-event[_ngcontent-%COMP%]{border-radius:0;cursor:default;color:#01396a;min-height:2rem}.schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-event[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%]{font-weight:700}.schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%]:hover, .schedule-container[_ngcontent-%COMP%]   .fc-event[_ngcontent-%COMP%]:hover{text-decoration:none;color:#01396a}.schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%]   .fc-title[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-event[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-event[_ngcontent-%COMP%]   .fc-title[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-slats[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-slats[_ngcontent-%COMP%]   .fc-title[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-title[_ngcontent-%COMP%]{font-size:.8rem}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-content[_ngcontent-%COMP%]{display:flex}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-title[_ngcontent-%COMP%]{display:inline-block;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.schedule-container[_ngcontent-%COMP%]   .commitment-event[_ngcontent-%COMP%]{background-color:#d9d9d9;border-color:#d9d9d9}.schedule-container[_ngcontent-%COMP%]   .commitment-event[_ngcontent-%COMP%]:hover{cursor:pointer}.schedule-container[_ngcontent-%COMP%]   .fc-header-toolbar[_ngcontent-%COMP%]   .fc-left[_ngcontent-%COMP%]{margin-left:10px}.schedule-container[_ngcontent-%COMP%]   .fc-button-group[_ngcontent-%COMP%]{font-size:.6rem}.schedule-container[_ngcontent-%COMP%]   .fc-button-group[_ngcontent-%COMP%]   .fc-button-primary[_ngcontent-%COMP%]{background-color:#fff;border-color:grey;color:grey;box-shadow:none}.schedule-container[_ngcontent-%COMP%]   .fc-button-group[_ngcontent-%COMP%]   .fc-button-primary[_ngcontent-%COMP%]:not(:disabled):active{box-shadow:none}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]{min-height:1rem}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%]::before{display:none}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid[_ngcontent-%COMP%]   .fc-slats[_ngcontent-%COMP%]   .fc-minor[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-top:0}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-container[_ngcontent-%COMP%]{overflow:visible!important}.slds-scope[_ngcontent-%COMP%]   .slds-button[_ngcontent-%COMP%]:not([disabled]){color:#0672d4}.slds-scope[_ngcontent-%COMP%]   .slds-button.slds-button_brand[_ngcontent-%COMP%]{color:#fff}.slds-scope[_ngcontent-%COMP%]   .slds-button.decline-button[_ngcontent-%COMP%]:not([disabled]){color:#c13834;border-color:#c13834}.slds-scope[_ngcontent-%COMP%]   .slds-button.accept-button[_ngcontent-%COMP%]:not([disabled]){color:#fff}.slds-scope[_ngcontent-%COMP%]   .slds-slider__range[_ngcontent-%COMP%]{-webkit-appearance:none}.slds-scope[_ngcontent-%COMP%]   .slds-slider__range[_ngcontent-%COMP%]::-webkit-slider-thumb{-webkit-appearance:none;appearance:none}.initialize-softphone[_ngcontent-%COMP%]   .slds-spinner[_ngcontent-%COMP%]{margin-left:-6em}.slds-scope[_ngcontent-%COMP%]   .cdk-overlay-container[_ngcontent-%COMP%]{position:absolute}.unread-icon[_ngcontent-%COMP%]{height:.5rem;width:.5rem;border-radius:50%;display:inline-block;background-color:#1589ee}.unread-icon.visited[_ngcontent-%COMP%]{background:0 0}.call-panel[_ngcontent-%COMP%]{width:100%;color:#fff;margin-bottom:1px;height:54px;cursor:pointer}.call-panel[_ngcontent-%COMP%]   .end-conference[_ngcontent-%COMP%]{display:none}.call-panel[_ngcontent-%COMP%]   .end-conference[_ngcontent-%COMP%]   .slds-button[_ngcontent-%COMP%]{width:5rem;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;border-color:#c13834;color:#c13834}.call-panel[_ngcontent-%COMP%]:hover   .end-conference[_ngcontent-%COMP%]{display:block;right:.6rem}.hold[_ngcontent-%COMP%]{background-color:#b0adad}.active[_ngcontent-%COMP%]{background-color:#4bca81}.call-panel[_ngcontent-%COMP%]   .skill-info-panel[_ngcontent-%COMP%]{font-weight:300;line-height:1.7}"]],data:{}});function Ft(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),o.Hb(1,null,[" "," "]))],null,function(n,t){n(t,1,0,t.component.callDetailsField)})}function zt(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,1,"span",[],[[8,"title",0]],null,null,null,null)),(n()(),o.Hb(1,null,[" "," "]))],null,function(n,t){var e=t.component;n(t,0,0,o.sb(1,"",e.agentName,"")),n(t,1,0,e.agentName)})}function Ht(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),o.Hb(1,null,[""," ",""]))],null,function(n,t){var e=t.component;n(t,1,0,e.skillName,e.skillId)})}function Wt(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),o.Hb(1,null,["",""]))],null,function(n,t){n(t,1,0,t.component.agentId)})}function Vt(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,5,"div",[["class","end-conference slds-is-absolute slds-p-around_xx-small"]],null,null,null,null,null)),(n()(),o.qb(1,0,null,null,4,"button",[["class","slds-button"],["nglButton",""]],null,[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.endClick()&&l),l},_t.m,_t.a)),o.Eb(512,null,Et.lc,Et.lc,[o.F]),o.pb(3,638976,null,0,Et.n,[o.k,o.E,Et.lc],null,null),(n()(),o.Hb(4,0,[" "," "])),o.Bb(131072,d.i,[d.j,o.h])],function(n,t){n(t,3,0)},function(n,t){n(t,4,0,o.Ib(t,4,0,o.Ab(t,5).transform("end")))})}function Gt(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,20,"div",[["class","slds-grid slds-wrap slds-p-top_x-small slds-p-bottom_x-small call-panel"]],null,null,null,null,null)),o.pb(1,278528,null,0,Pt.j,[o.s,o.t,o.k,o.E],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(n()(),o.qb(2,0,null,null,10,"div",[["class","slds-col slds-size_1-of-1"]],null,null,null,null,null)),(n()(),o.qb(3,0,null,null,6,"div",[["class","slds-truncate slds-p-left_medium slds-p-right_medium slds-size_3-of-4 slds-float_left"]],null,null,null,null,null)),(n()(),o.qb(4,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),o.Hb(5,null,[" "," "])),(n()(),o.hb(16777216,null,null,1,null,Ft)),o.pb(7,16384,null,0,Pt.l,[o.P,o.M],{ngIf:[0,"ngIf"]},null),(n()(),o.hb(16777216,null,null,1,null,zt)),o.pb(9,16384,null,0,Pt.l,[o.P,o.M],{ngIf:[0,"ngIf"]},null),(n()(),o.qb(10,0,null,null,2,"div",[["class","slds-p-right_medium slds-float_right"]],null,null,null,null,null)),(n()(),o.qb(11,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),o.Hb(12,null,["",""])),(n()(),o.qb(13,0,null,null,5,"div",[["class","slds-col slds-size_1-of-1 skill-info-panel"]],null,null,null,null,null)),(n()(),o.qb(14,0,null,null,4,"div",[["class","slds-truncate slds-p-left_medium slds-p-right_medium slds-size_3-of-4 slds-float_left"]],[[8,"title",0]],null,null,null,null)),(n()(),o.hb(16777216,null,null,1,null,Ht)),o.pb(16,16384,null,0,Pt.l,[o.P,o.M],{ngIf:[0,"ngIf"]},null),(n()(),o.hb(16777216,null,null,1,null,Wt)),o.pb(18,16384,null,0,Pt.l,[o.P,o.M],{ngIf:[0,"ngIf"]},null),(n()(),o.hb(16777216,null,null,1,null,Vt)),o.pb(20,16384,null,0,Pt.l,[o.P,o.M],{ngIf:[0,"ngIf"]},null)],function(n,t){var e=t.component;n(t,1,0,"slds-grid slds-wrap slds-p-top_x-small slds-p-bottom_x-small call-panel",e.panelColor),n(t,7,0,!e.showAgentDetails),n(t,9,0,e.showAgentDetails&&!e.hideAgentName),n(t,16,0,!e.showAgentDetails),n(t,18,0,e.showAgentDetails),n(t,20,0,e.showEndButton)},function(n,t){var e=t.component;n(t,5,0,e.displayStatus),n(t,12,0,e.contactDuration),n(t,14,0,o.sb(2,"",e.skillName," ",e.skillId,""))})}var Xt=function(){return function(){}}(),Qt=o.ob({encapsulation:0,styles:[[".loading-message[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;margin-top:-.8em;margin-left:-3em;font-size:1.2em}"]],data:{}});function $t(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,2,"div",[["class","loading-message"]],null,null,null,null,null)),(n()(),o.Hb(1,null,["",""])),o.Bb(131072,d.i,[d.j,o.h])],null,function(n,t){var e=t.component;n(t,1,0,o.Ib(t,1,0,o.Ab(t,2).transform(e.message)))})}function Kt(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,7,"div",[["class","slds-spinner_container"]],null,null,null,null,null)),(n()(),o.qb(1,0,null,null,6,"div",[["class","slds-align_absolute-center"]],null,null,null,null,null)),(n()(),o.qb(2,0,null,null,3,"div",[["class","slds-spinner slds-spinner_brand"],["role","status"]],null,null,null,null,null)),o.pb(3,278528,null,0,Pt.j,[o.s,o.t,o.k,o.E],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(n()(),o.qb(4,0,null,null,0,"div",[["class","slds-spinner__dot-a"]],null,null,null,null,null)),(n()(),o.qb(5,0,null,null,0,"div",[["class","slds-spinner__dot-b"]],null,null,null,null,null)),(n()(),o.hb(16777216,null,null,1,null,$t)),o.pb(7,16384,null,0,Pt.l,[o.P,o.M],{ngIf:[0,"ngIf"]},null)],function(n,t){var e=t.component;n(t,3,0,"slds-spinner slds-spinner_brand",e.message?"slds-spinner_small":"slds-spinner_medium"),n(t,7,0,e.message)},null)}var Yt=function(){function n(n,t,e,l,o){this.adminSvc=n,this.dateTimeUtilSvc=t,this.validationUtilSvc=e,this.localizationSvc=l,this.containerSvc=o,this.contactStatusLocal={Active:"activeStatus",Holding:"holding",Disconnected:"disconnected"}}return n.prototype.ngOnChanges=function(){this.updateCallPanel()},n.prototype.updateCallPanel=function(){var n=this;this.workItemContact.visited=!0;var t=this.workItemContact;this.setStatusToDisplay(t.status),this.setWorkItemType(t.sfWorkItemType),this.workItemId=this.containerSvc.getWorkItemResultId(t,this.contactSfResult),this.skillId="("+t.skillId+")",this.getSkillDetails(t.skillId),this.panelColor=t.status===Tn.Holding||t.status===Tn.Disconnected?"hold":"active",this.destroyTimerEvent();var e=Object(at.a)(1e3,1e3);this.timerEvent=e.subscribe(function(){n.contactDuration=n.dateTimeUtilSvc.getElapsedTime(t.time)})},n.prototype.setStatusToDisplay=function(n){var t=this;this.localizationSvc.getLocalizedValue(this.contactStatusLocal[n]?this.contactStatusLocal[n]:n).subscribe(function(n){t.displayStatus=n+": "})},n.prototype.setWorkItemType=function(n){var t=this,e=this.validationUtilSvc.isNotNullOrEmpty(n)?n:"workItem";this.localizationSvc.getLocalizedValue(e).subscribe(function(n){t.workItemType=n+" "})},n.prototype.getSkillDetails=function(n){var t=this;this.adminSvc.getSkillDetails(n).then(function(n){t.skillName=n.skillName})},n.prototype.destroyTimerEvent=function(){this.validationUtilSvc.isNotNullOrUndefined(this.timerEvent)&&this.timerEvent.unsubscribe()},n.prototype.ngOnDestroy=function(){this.destroyTimerEvent()},n}(),Zt=o.ob({encapsulation:0,styles:[[".full-height[_ngcontent-%COMP%], html[_ngcontent-%COMP%], html[_ngcontent-%COMP%]   body[_ngcontent-%COMP%]{height:100%}.no-strech[_ngcontent-%COMP%]{flex:0}.strech[_ngcontent-%COMP%]{flex:1;position:relative}.no-scroll[_ngcontent-%COMP%]{overflow:hidden}.full-height-flex[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;justify-content:center}.center-align[_ngcontent-%COMP%]{text-align:center}.cursor-pointer[_ngcontent-%COMP%]{cursor:pointer}.text-wrap[_ngcontent-%COMP%]{word-wrap:break-word}.text-bold[_ngcontent-%COMP%]{font-weight:700}.cdk-overlay-container[_ngcontent-%COMP%]   .slds-modal__container[_ngcontent-%COMP%]{margin:0;padding:0}.cdk-overlay-container[_ngcontent-%COMP%]   .slds-modal__content[_ngcontent-%COMP%]{height:100%}.cdk-global-scrollblock[_ngcontent-%COMP%]{overflow-y:auto!important}@media (min-width:48em){.slds-scope[_ngcontent-%COMP%]   .slds-modal--large[_ngcontent-%COMP%]   .slds-modal__container[_ngcontent-%COMP%], .slds-scope[_ngcontent-%COMP%]   .slds-modal_large[_ngcontent-%COMP%]   .slds-modal__container[_ngcontent-%COMP%]{width:100%;height:100%}}.pull-down[_ngcontent-%COMP%]{position:absolute;bottom:0;width:100%}.dialog-style[_ngcontent-%COMP%]{position:fixed;top:0;background-color:#fff;right:0;left:0;box-shadow:0 0 5px grey;z-index:1001}.schedule-container[_ngcontent-%COMP%]   .fc-widget-content[_ngcontent-%COMP%]{background-color:#fff}.schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%]{opacity:.75;text-indent:3px}.schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-event[_ngcontent-%COMP%]{border-radius:0;cursor:default;color:#01396a;min-height:2rem}.schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-event[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%]{font-weight:700}.schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%]:hover, .schedule-container[_ngcontent-%COMP%]   .fc-event[_ngcontent-%COMP%]:hover{text-decoration:none;color:#01396a}.schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%]   .fc-title[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-event[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-event[_ngcontent-%COMP%]   .fc-title[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-slats[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-slats[_ngcontent-%COMP%]   .fc-title[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-title[_ngcontent-%COMP%]{font-size:.8rem}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-content[_ngcontent-%COMP%]{display:flex}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-title[_ngcontent-%COMP%]{display:inline-block;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.schedule-container[_ngcontent-%COMP%]   .commitment-event[_ngcontent-%COMP%]{background-color:#d9d9d9;border-color:#d9d9d9}.schedule-container[_ngcontent-%COMP%]   .commitment-event[_ngcontent-%COMP%]:hover{cursor:pointer}.schedule-container[_ngcontent-%COMP%]   .fc-header-toolbar[_ngcontent-%COMP%]   .fc-left[_ngcontent-%COMP%]{margin-left:10px}.schedule-container[_ngcontent-%COMP%]   .fc-button-group[_ngcontent-%COMP%]{font-size:.6rem}.schedule-container[_ngcontent-%COMP%]   .fc-button-group[_ngcontent-%COMP%]   .fc-button-primary[_ngcontent-%COMP%]{background-color:#fff;border-color:grey;color:grey;box-shadow:none}.schedule-container[_ngcontent-%COMP%]   .fc-button-group[_ngcontent-%COMP%]   .fc-button-primary[_ngcontent-%COMP%]:not(:disabled):active{box-shadow:none}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]{min-height:1rem}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%]::before{display:none}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid[_ngcontent-%COMP%]   .fc-slats[_ngcontent-%COMP%]   .fc-minor[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-top:0}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-container[_ngcontent-%COMP%]{overflow:visible!important}.slds-scope[_ngcontent-%COMP%]   .slds-button[_ngcontent-%COMP%]:not([disabled]){color:#0672d4}.slds-scope[_ngcontent-%COMP%]   .slds-button.slds-button_brand[_ngcontent-%COMP%]{color:#fff}.slds-scope[_ngcontent-%COMP%]   .slds-button.decline-button[_ngcontent-%COMP%]:not([disabled]){color:#c13834;border-color:#c13834}.slds-scope[_ngcontent-%COMP%]   .slds-button.accept-button[_ngcontent-%COMP%]:not([disabled]){color:#fff}.slds-scope[_ngcontent-%COMP%]   .slds-slider__range[_ngcontent-%COMP%]{-webkit-appearance:none}.slds-scope[_ngcontent-%COMP%]   .slds-slider__range[_ngcontent-%COMP%]::-webkit-slider-thumb{-webkit-appearance:none;appearance:none}.initialize-softphone[_ngcontent-%COMP%]   .slds-spinner[_ngcontent-%COMP%]{margin-left:-6em}.slds-scope[_ngcontent-%COMP%]   .cdk-overlay-container[_ngcontent-%COMP%]{position:absolute}.unread-icon[_ngcontent-%COMP%]{height:.5rem;width:.5rem;border-radius:50%;display:inline-block;background-color:#1589ee}.unread-icon.visited[_ngcontent-%COMP%]{background:0 0}.work-item-panel[_ngcontent-%COMP%]{width:100%;color:#fff;margin-bottom:1px;height:54px;cursor:pointer}.hold[_ngcontent-%COMP%]{background-color:#b0adad}.active[_ngcontent-%COMP%]{background-color:#4bca81}.work-item-panel[_ngcontent-%COMP%]   .skill-info-panel[_ngcontent-%COMP%]{font-weight:300;line-height:1.7}"]],data:{}});function ne(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,14,"div",[["class","slds-grid slds-wrap slds-p-top_x-small slds-p-bottom_x-small work-item-panel"]],null,null,null,null,null)),o.pb(1,278528,null,0,Pt.j,[o.s,o.t,o.k,o.E],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(n()(),o.qb(2,0,null,null,8,"div",[["class","slds-col slds-size_1-of-1"]],null,null,null,null,null)),(n()(),o.qb(3,0,null,null,4,"div",[["class","slds-truncate slds-p-left_medium slds-p-right_medium slds-size_3-of-4 slds-float_left"]],null,null,null,null,null)),(n()(),o.qb(4,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),o.Hb(5,null,[" "," "])),(n()(),o.qb(6,0,null,null,1,"span",[],[[8,"title",0]],null,null,null,null)),(n()(),o.Hb(7,null,[" "," "," "])),(n()(),o.qb(8,0,null,null,2,"div",[["class","slds-p-right_medium slds-float_right"]],null,null,null,null,null)),(n()(),o.qb(9,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),o.Hb(10,null,["",""])),(n()(),o.qb(11,0,null,null,3,"div",[["class","slds-col slds-size_1-of-1 skill-info-panel"]],null,null,null,null,null)),(n()(),o.qb(12,0,null,null,2,"div",[["class","slds-truncate slds-p-left_medium slds-p-right_medium slds-size_3-of-4 slds-float_left"]],[[8,"title",0]],null,null,null,null)),(n()(),o.qb(13,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),o.Hb(14,null,[""," ",""]))],function(n,t){n(t,1,0,"slds-grid slds-wrap slds-p-top_x-small slds-p-bottom_x-small work-item-panel",t.component.panelColor)},function(n,t){var e=t.component;n(t,5,0,e.displayStatus),n(t,6,0,o.sb(2,"",e.workItemType," ",e.workItemId,"")),n(t,7,0,e.workItemType,e.workItemId),n(t,10,0,e.contactDuration),n(t,12,0,o.sb(2,"",e.skillName," ",e.skillId,"")),n(t,14,0,e.skillName,e.skillId)})}var te=function(){function n(n,t){this.localizationSvc=n,this.validationUtilSvc=t,this.objectKeys=Object.keys,this.disabled=!1,this.editable=!1,this.changeEvent=new o.m,this.textChangedEvent=new o.m,this.multiSelected={},this.selectedLabels="selectOption",this.dropDownOpen=!1,this.multipleTagsText=""}return n.prototype.ngOnChanges=function(){this.init()},n.prototype.init=function(){for(var n in this.options)this.options.hasOwnProperty(n)&&(this.options[n].icon="check",this.options[n].isSelected=!1,this.options[n].record=!!this.options[n].record&&this.options[n].record);if(this.validationUtilSvc.isNotNullOrEmpty(this.selectedOptions))if(this.isMultiSelect){var t="";for(t in this.selectedOptions)if(this.selectedOptions.hasOwnProperty(t))for(var n in this.options)this.options.hasOwnProperty(n)&&this.options[n].value===t&&(this.options[n].isSelected=!0,this.multiSelected[this.options[n].value]=this.options[n].label);this.onChangeMultiSelectedLabel()}else for(var n in t="",this.options)this.options.hasOwnProperty(n)&&this.options[n].value===this.selectedOptions&&(this.options[n].isSelected=!0,this.selectedValues=this.options[n].value,this.selectedLabels=this.options[n].label)},n.prototype.onChangeMultiSelectedLabel=function(){var n=this,t=Object.keys(this.multiSelected),e=t.length;0===e?this.selectedLabels="selectOption":1===e?this.selectedLabels=this.multiSelected[t[0]]:e>1&&(this.validationUtilSvc.isNullOrEmpty(this.multipleTagsText)?this.localizationSvc.getLocalizedValue("multipleTagsSelected").subscribe(function(t){n.multipleTagsText=t,n.selectedLabels=n.multipleTagsText+" ("+e+")"}):this.selectedLabels=this.multipleTagsText+" ("+e+")")},n.prototype.onChangeValue=function(n){if(this.isMultiSelect)n.isSelected?delete this.multiSelected[n.value]:this.multiSelected[n.value]=n.label,n.isSelected=!n.isSelected,this.changeEvent.emit(this.multiSelected),this.onChangeMultiSelectedLabel();else for(var t in this.options)this.options.hasOwnProperty(t)&&(this.options[t].isSelected=!1,n.value===this.options[t].value&&(n.isSelected=!0,this.selectedValues=n.value,this.selectedLabels=n.label,this.changeEvent.emit(this.options[t].record?this.options[t]:this.selectedValues)));this.dropDownOpen=!1},n.prototype.onTextChanged=function(){this.textChangedEvent.emit(this.selectedLabels)},n}(),ee=o.ob({encapsulation:0,styles:[[".full-height[_ngcontent-%COMP%], html[_ngcontent-%COMP%], html[_ngcontent-%COMP%]   body[_ngcontent-%COMP%]{height:100%}.no-strech[_ngcontent-%COMP%]{flex:0}.strech[_ngcontent-%COMP%]{flex:1;position:relative}.no-scroll[_ngcontent-%COMP%]{overflow:hidden}.full-height-flex[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;justify-content:center}.center-align[_ngcontent-%COMP%]{text-align:center}.cursor-pointer[_ngcontent-%COMP%]{cursor:pointer}.text-wrap[_ngcontent-%COMP%]{word-wrap:break-word}.text-bold[_ngcontent-%COMP%]{font-weight:700}.cdk-overlay-container[_ngcontent-%COMP%]   .slds-modal__container[_ngcontent-%COMP%]{margin:0;padding:0}.cdk-overlay-container[_ngcontent-%COMP%]   .slds-modal__content[_ngcontent-%COMP%]{height:100%}.cdk-global-scrollblock[_ngcontent-%COMP%]{overflow-y:auto!important}@media (min-width:48em){.slds-scope[_ngcontent-%COMP%]   .slds-modal--large[_ngcontent-%COMP%]   .slds-modal__container[_ngcontent-%COMP%], .slds-scope[_ngcontent-%COMP%]   .slds-modal_large[_ngcontent-%COMP%]   .slds-modal__container[_ngcontent-%COMP%]{width:100%;height:100%}}.pull-down[_ngcontent-%COMP%]{position:absolute;bottom:0;width:100%}.dialog-style[_ngcontent-%COMP%]{position:fixed;top:0;background-color:#fff;right:0;left:0;box-shadow:0 0 5px grey;z-index:1001}.schedule-container[_ngcontent-%COMP%]   .fc-widget-content[_ngcontent-%COMP%]{background-color:#fff}.schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%]{opacity:.75;text-indent:3px}.schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-event[_ngcontent-%COMP%]{border-radius:0;cursor:default;color:#01396a;min-height:2rem}.schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-event[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%]{font-weight:700}.schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%]:hover, .schedule-container[_ngcontent-%COMP%]   .fc-event[_ngcontent-%COMP%]:hover{text-decoration:none;color:#01396a}.schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%]   .fc-title[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-event[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-event[_ngcontent-%COMP%]   .fc-title[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-slats[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-slats[_ngcontent-%COMP%]   .fc-title[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-title[_ngcontent-%COMP%]{font-size:.8rem}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-content[_ngcontent-%COMP%]{display:flex}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-title[_ngcontent-%COMP%]{display:inline-block;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.schedule-container[_ngcontent-%COMP%]   .commitment-event[_ngcontent-%COMP%]{background-color:#d9d9d9;border-color:#d9d9d9}.schedule-container[_ngcontent-%COMP%]   .commitment-event[_ngcontent-%COMP%]:hover{cursor:pointer}.schedule-container[_ngcontent-%COMP%]   .fc-header-toolbar[_ngcontent-%COMP%]   .fc-left[_ngcontent-%COMP%]{margin-left:10px}.schedule-container[_ngcontent-%COMP%]   .fc-button-group[_ngcontent-%COMP%]{font-size:.6rem}.schedule-container[_ngcontent-%COMP%]   .fc-button-group[_ngcontent-%COMP%]   .fc-button-primary[_ngcontent-%COMP%]{background-color:#fff;border-color:grey;color:grey;box-shadow:none}.schedule-container[_ngcontent-%COMP%]   .fc-button-group[_ngcontent-%COMP%]   .fc-button-primary[_ngcontent-%COMP%]:not(:disabled):active{box-shadow:none}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]{min-height:1rem}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%]::before{display:none}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid[_ngcontent-%COMP%]   .fc-slats[_ngcontent-%COMP%]   .fc-minor[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-top:0}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-container[_ngcontent-%COMP%]{overflow:visible!important}.slds-scope[_ngcontent-%COMP%]   .slds-button[_ngcontent-%COMP%]:not([disabled]){color:#0672d4}.slds-scope[_ngcontent-%COMP%]   .slds-button.slds-button_brand[_ngcontent-%COMP%]{color:#fff}.slds-scope[_ngcontent-%COMP%]   .slds-button.decline-button[_ngcontent-%COMP%]:not([disabled]){color:#c13834;border-color:#c13834}.slds-scope[_ngcontent-%COMP%]   .slds-button.accept-button[_ngcontent-%COMP%]:not([disabled]){color:#fff}.slds-scope[_ngcontent-%COMP%]   .slds-slider__range[_ngcontent-%COMP%]{-webkit-appearance:none}.slds-scope[_ngcontent-%COMP%]   .slds-slider__range[_ngcontent-%COMP%]::-webkit-slider-thumb{-webkit-appearance:none;appearance:none}.initialize-softphone[_ngcontent-%COMP%]   .slds-spinner[_ngcontent-%COMP%]{margin-left:-6em}.slds-scope[_ngcontent-%COMP%]   .cdk-overlay-container[_ngcontent-%COMP%]{position:absolute}.unread-icon[_ngcontent-%COMP%]{height:.5rem;width:.5rem;border-radius:50%;display:inline-block;background-color:#1589ee}.unread-icon.visited[_ngcontent-%COMP%]{background:0 0}.dropDown[_ngcontent-%COMP%]{width:100%;z-index:unset}.dropDown[_ngcontent-%COMP%]   .combox-btn[_ngcontent-%COMP%]{color:#080707;width:100%;text-align:left}.dropDown[_ngcontent-%COMP%]   .combox-btn.slds-button[_ngcontent-%COMP%]:disabled, .dropDown[_ngcontent-%COMP%]   .combox-btn.slds-button[disabled][_ngcontent-%COMP%]{color:#dddbda}.dropDown[_ngcontent-%COMP%]   .combox-btn[_ngcontent-%COMP%]   .selected-value[_ngcontent-%COMP%]{width:95%}.dropDown[_ngcontent-%COMP%]   .combox-down-icon[_ngcontent-%COMP%]{position:absolute;right:3%;top:0}.dropDown[_ngcontent-%COMP%]   .slds-dropdown[_ngcontent-%COMP%]{width:100%;max-height:175px;overflow-y:auto}.dropDown[_ngcontent-%COMP%]   .slds-dropdown[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{justify-content:unset}.dropDown[_ngcontent-%COMP%]   .slds-dropdown[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]   .custom-checkbox[_ngcontent-%COMP%]{color:#0672d4}"]],data:{}});function le(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,9,"button",[["aria-haspopup","true"],["class","slds-button slds-button_neutral slds-p-left_x-small slds-p-right_x-small combox-btn"],["nglDropdownTrigger",""]],[[8,"title",0],[8,"disabled",0]],[[null,"click"],[null,"keydown.arrowdown"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==o.Ab(n,1).toggleOpen()&&l),"keydown.arrowdown"===t&&(l=!1!==o.Ab(n,1).onKeyDownOpen(e)&&l),l},null,null)),o.pb(1,147456,null,0,Et.Db,[o.k,Et.Bb],null,null),o.Bb(131072,d.i,[d.j,o.h]),(n()(),o.qb(3,0,null,null,2,"div",[["class","slds-truncate selected-value"]],null,null,null,null,null)),(n()(),o.Hb(4,null,["",""])),o.Bb(131072,d.i,[d.j,o.h]),(n()(),o.qb(6,0,null,null,3,"div",[["class","combox-down-icon slds-p-top_x-small"]],null,null,null,null,null)),(n()(),o.qb(7,0,null,null,2,"ngl-icon",[["iconName","down"],["size","x-small"],["variant","default"]],null,null,null,_t.x,_t.l)),o.Eb(512,null,Et.lc,Et.lc,[o.F]),o.pb(9,638976,null,0,Et.kc,[o.k,Et.lc],{iconName:[0,"iconName"],variant:[1,"variant"],size:[2,"size"]},null)],function(n,t){n(t,9,0,"down","default","x-small")},function(n,t){var e=t.component;n(t,0,0,o.sb(1,"",o.Ib(t,0,0,o.Ab(t,2).transform(e.selectedLabels)),""),e.disabled),n(t,4,0,o.Ib(t,4,0,o.Ab(t,5).transform(e.selectedLabels)))})}function oe(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,17,"div",[],[[8,"title",0]],null,null,null,null)),o.Bb(131072,d.i,[d.j,o.h]),(n()(),o.qb(2,0,null,null,11,"ngl-input",[["label",""]],[[2,"slds-form-element",null],[2,"slds-has-error",null]],null,null,_t.q,_t.e)),o.pb(3,1753088,null,1,Et.yb,[o.h],{label:[0,"label"]},null),o.Fb(335544320,2,{input:0}),(n()(),o.qb(5,0,null,0,8,"input",[["aria-haspopup","true"],["class","cursor-pointer"],["ngl",""],["nglDropdownTrigger",""],["type","text"]],[[8,"placeholder",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"slds-input",null],[1,"aria-describedby",0]],[[null,"ngModelChange"],[null,"change"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"click"],[null,"keydown.arrowdown"]],function(n,t,e){var l=!0,i=n.component;return"input"===t&&(l=!1!==o.Ab(n,6)._handleInput(e.target.value)&&l),"blur"===t&&(l=!1!==o.Ab(n,6).onTouched()&&l),"compositionstart"===t&&(l=!1!==o.Ab(n,6)._compositionStart()&&l),"compositionend"===t&&(l=!1!==o.Ab(n,6)._compositionEnd(e.target.value)&&l),"click"===t&&(l=!1!==o.Ab(n,12).toggleOpen()&&l),"keydown.arrowdown"===t&&(l=!1!==o.Ab(n,12).onKeyDownOpen(e)&&l),"ngModelChange"===t&&(l=!1!==(i.selectedLabels=e)&&l),"change"===t&&(l=!1!==i.onTextChanged()&&l),l},null,null)),o.pb(6,16384,null,0,Mt.b,[o.E,o.k,[2,Mt.a]],null,null),o.Eb(1024,null,Mt.f,function(n){return[n]},[Mt.b]),o.pb(8,671744,null,0,Mt.i,[[8,null],[8,null],[8,null],[6,Mt.f]],{isDisabled:[0,"isDisabled"],model:[1,"model"]},{update:"ngModelChange"}),o.Eb(2048,null,Mt.g,null,[Mt.i]),o.pb(10,16384,null,0,Mt.h,[[4,Mt.g]],null,null),o.pb(11,16384,[[2,4]],0,Et.zb,[o.k,o.E],null,null),o.pb(12,147456,null,0,Et.Db,[o.k,Et.Bb],null,null),o.Bb(131072,d.i,[d.j,o.h]),(n()(),o.qb(14,0,null,null,3,"div",[["class","combox-down-icon slds-p-top_x-small"]],null,null,null,null,null)),(n()(),o.qb(15,0,null,null,2,"ngl-icon",[["iconName","down"],["size","x-small"],["variant","default"]],null,null,null,_t.x,_t.l)),o.Eb(512,null,Et.lc,Et.lc,[o.F]),o.pb(17,638976,null,0,Et.kc,[o.k,Et.lc],{iconName:[0,"iconName"],variant:[1,"variant"],size:[2,"size"]},null)],function(n,t){var e=t.component;n(t,3,0,""),n(t,8,0,e.disabled,e.selectedLabels),n(t,17,0,"down","default","x-small")},function(n,t){var e=t.component;n(t,0,0,o.sb(1,"",o.Ib(t,0,0,o.Ab(t,1).transform(e.selectedLabels)),"")),n(t,2,0,!0,o.Ab(t,3).hasError),n(t,5,0,o.sb(1,"",o.Ib(t,5,0,o.Ab(t,13).transform(e.selectedLabels)),""),o.Ab(t,10).ngClassUntouched,o.Ab(t,10).ngClassTouched,o.Ab(t,10).ngClassPristine,o.Ab(t,10).ngClassDirty,o.Ab(t,10).ngClassValid,o.Ab(t,10).ngClassInvalid,o.Ab(t,10).ngClassPending,!0,o.Ab(t,11).describedBy)})}function ie(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,4,null,null,null,null,null,null,null)),(n()(),o.qb(1,0,null,null,3,"span",[["class","slds-current-color custom-checkbox"]],null,null,null,null,null)),(n()(),o.qb(2,0,null,null,2,"ngl-icon",[["size","x-small"],["variant","default"]],null,null,null,_t.x,_t.l)),o.Eb(512,null,Et.lc,Et.lc,[o.F]),o.pb(4,638976,null,0,Et.kc,[o.k,Et.lc],{iconName:[0,"iconName"],variant:[1,"variant"],size:[2,"size"]},null)],function(n,t){n(t,4,0,t.parent.context.$implicit.icon,"default","x-small")},null)}function se(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,6,"li",[["class","slds-dropdown__item"]],null,null,null,null,null)),(n()(),o.qb(1,0,null,null,5,"a",[["nglDropdownItem",""],["role","menuitem"],["tabindex","0"]],[[8,"title",0]],[[null,"click"],[null,"focus"],[null,"blur"]],function(n,t,e){var l=!0,i=n.component;return"focus"===t&&(l=!1!==o.Ab(n,2).onFocus()&&l),"blur"===t&&(l=!1!==o.Ab(n,2).onBlur()&&l),"click"===t&&(l=!1!==i.onChangeValue(n.context.$implicit)&&l),l},null,null)),o.pb(2,16384,[[1,4]],0,Et.Cb,[o.k],null,null),(n()(),o.hb(16777216,null,null,1,null,ie)),o.pb(4,16384,null,0,Pt.l,[o.P,o.M],{ngIf:[0,"ngIf"]},null),(n()(),o.qb(5,0,null,null,1,"p",[["class","slds-p-left_xx-small slds-truncate"]],null,null,null,null,null)),(n()(),o.Hb(6,null,["",""]))],function(n,t){n(t,4,0,t.context.$implicit.isSelected)},function(n,t){n(t,1,0,o.sb(1,"",t.context.$implicit.label,"")),n(t,6,0,t.context.$implicit.label)})}function ce(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,10,"span",[["class","dropDown"],["nglDropdown",""]],[[2,"slds-dropdown-trigger",null],[2,"slds-dropdown-trigger_click",null]],[[null,"openChange"],[null,"keydown.esc"],[null,"keydown.tab"],[null,"keydown.arrowdown"],[null,"keydown.arrowup"]],function(n,t,e){var l=!0,i=n.component;return"keydown.esc"===t&&(l=!1!==o.Ab(n,1).onKeydownClose("esc")&&l),"keydown.tab"===t&&(l=!1!==o.Ab(n,1).onKeydownClose("tab")&&l),"keydown.arrowdown"===t&&(l=!1!==o.Ab(n,1).onKeydownFocusNext(e,"next")&&l),"keydown.arrowup"===t&&(l=!1!==o.Ab(n,1).onKeydownFocusNext(e,"previous")&&l),"openChange"===t&&(l=!1!==(i.dropDownOpen=e)&&l),l},null,null)),o.pb(1,212992,null,1,Et.Bb,[o.k,o.E],{isOpen:[0,"isOpen"]},{isOpenChange:"openChange"}),o.Fb(603979776,1,{items:1}),(n()(),o.hb(16777216,null,null,1,null,le)),o.pb(4,16384,null,0,Pt.l,[o.P,o.M],{ngIf:[0,"ngIf"]},null),(n()(),o.hb(16777216,null,null,1,null,oe)),o.pb(6,16384,null,0,Pt.l,[o.P,o.M],{ngIf:[0,"ngIf"]},null),(n()(),o.qb(7,0,null,null,3,"div",[["class","slds-dropdown slds-dropdown_left"],["id","dropdown-menu"]],null,null,null,null,null)),(n()(),o.qb(8,0,null,null,2,"ul",[["class","dropdown__list"],["role","menu"]],null,null,null,null,null)),(n()(),o.hb(16777216,null,null,1,null,se)),o.pb(10,278528,null,0,Pt.k,[o.P,o.M,o.s],{ngForOf:[0,"ngForOf"]},null)],function(n,t){var e=t.component;n(t,1,0,e.dropDownOpen),n(t,4,0,!e.editable),n(t,6,0,e.editable),n(t,10,0,e.options)},function(n,t){n(t,0,0,!0,!0)})}var ae=function(){function n(n,t){this.containerSvc=n,this.contactsSvc=t,this.isWorkItemTransfer=!1,this.statusClassMap={Available:"available-state-color",Unavailable:"unavailable-state-color",InboundContact:"inbound-state-color",OutboundContact:"outbound-state-color",LoggedOut:"logout-state-color",InboundConsult:"inbound-state-color",OutboundConsult:"outbound-state-color"}}return n.prototype.ngOnInit=function(){this.isWorkItemTransfer=this.contactsSvc.transferWorkItem},n.prototype.makeConsultCall=function(n){var t=this;this.containerSvc.holdContact().then(function(){t.containerSvc.consultAgent(n)})},n.prototype.dialSelectedAgent=function(n){var t=this;this.containerSvc.holdContact().then(function(){t.containerSvc.dialAgent(n)})},n.prototype.conferenceAgent=function(n){var t=this;this.containerSvc.holdContact().then(function(){t.containerSvc.consultAgent(n)})},n.prototype.transferWorkItemToAgent=function(n){this.containerSvc.transferWorkItemAgent(n)},n}(),re=o.ob({encapsulation:0,styles:[[".full-height[_ngcontent-%COMP%], html[_ngcontent-%COMP%], html[_ngcontent-%COMP%]   body[_ngcontent-%COMP%]{height:100%}.no-strech[_ngcontent-%COMP%]{flex:0}.strech[_ngcontent-%COMP%]{flex:1;position:relative}.no-scroll[_ngcontent-%COMP%]{overflow:hidden}.full-height-flex[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;justify-content:center}.center-align[_ngcontent-%COMP%]{text-align:center}.cursor-pointer[_ngcontent-%COMP%]{cursor:pointer}.text-wrap[_ngcontent-%COMP%]{word-wrap:break-word}.text-bold[_ngcontent-%COMP%]{font-weight:700}.cdk-overlay-container[_ngcontent-%COMP%]   .slds-modal__container[_ngcontent-%COMP%]{margin:0;padding:0}.cdk-overlay-container[_ngcontent-%COMP%]   .slds-modal__content[_ngcontent-%COMP%]{height:100%}.cdk-global-scrollblock[_ngcontent-%COMP%]{overflow-y:auto!important}@media (min-width:48em){.slds-scope[_ngcontent-%COMP%]   .slds-modal--large[_ngcontent-%COMP%]   .slds-modal__container[_ngcontent-%COMP%], .slds-scope[_ngcontent-%COMP%]   .slds-modal_large[_ngcontent-%COMP%]   .slds-modal__container[_ngcontent-%COMP%]{width:100%;height:100%}}.pull-down[_ngcontent-%COMP%]{position:absolute;bottom:0;width:100%}.dialog-style[_ngcontent-%COMP%]{position:fixed;top:0;background-color:#fff;right:0;left:0;box-shadow:0 0 5px grey;z-index:1001}.schedule-container[_ngcontent-%COMP%]   .fc-widget-content[_ngcontent-%COMP%]{background-color:#fff}.schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%]{opacity:.75;text-indent:3px}.schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-event[_ngcontent-%COMP%]{border-radius:0;cursor:default;color:#01396a;min-height:2rem}.schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-event[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%]{font-weight:700}.schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%]:hover, .schedule-container[_ngcontent-%COMP%]   .fc-event[_ngcontent-%COMP%]:hover{text-decoration:none;color:#01396a}.schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%]   .fc-title[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-event[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-event[_ngcontent-%COMP%]   .fc-title[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-slats[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-slats[_ngcontent-%COMP%]   .fc-title[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-title[_ngcontent-%COMP%]{font-size:.8rem}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-content[_ngcontent-%COMP%]{display:flex}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-title[_ngcontent-%COMP%]{display:inline-block;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.schedule-container[_ngcontent-%COMP%]   .commitment-event[_ngcontent-%COMP%]{background-color:#d9d9d9;border-color:#d9d9d9}.schedule-container[_ngcontent-%COMP%]   .commitment-event[_ngcontent-%COMP%]:hover{cursor:pointer}.schedule-container[_ngcontent-%COMP%]   .fc-header-toolbar[_ngcontent-%COMP%]   .fc-left[_ngcontent-%COMP%]{margin-left:10px}.schedule-container[_ngcontent-%COMP%]   .fc-button-group[_ngcontent-%COMP%]{font-size:.6rem}.schedule-container[_ngcontent-%COMP%]   .fc-button-group[_ngcontent-%COMP%]   .fc-button-primary[_ngcontent-%COMP%]{background-color:#fff;border-color:grey;color:grey;box-shadow:none}.schedule-container[_ngcontent-%COMP%]   .fc-button-group[_ngcontent-%COMP%]   .fc-button-primary[_ngcontent-%COMP%]:not(:disabled):active{box-shadow:none}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]{min-height:1rem}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%]::before{display:none}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid[_ngcontent-%COMP%]   .fc-slats[_ngcontent-%COMP%]   .fc-minor[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-top:0}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-container[_ngcontent-%COMP%]{overflow:visible!important}.slds-scope[_ngcontent-%COMP%]   .slds-button[_ngcontent-%COMP%]:not([disabled]){color:#0672d4}.slds-scope[_ngcontent-%COMP%]   .slds-button.slds-button_brand[_ngcontent-%COMP%]{color:#fff}.slds-scope[_ngcontent-%COMP%]   .slds-button.decline-button[_ngcontent-%COMP%]:not([disabled]){color:#c13834;border-color:#c13834}.slds-scope[_ngcontent-%COMP%]   .slds-button.accept-button[_ngcontent-%COMP%]:not([disabled]){color:#fff}.slds-scope[_ngcontent-%COMP%]   .slds-slider__range[_ngcontent-%COMP%]{-webkit-appearance:none}.slds-scope[_ngcontent-%COMP%]   .slds-slider__range[_ngcontent-%COMP%]::-webkit-slider-thumb{-webkit-appearance:none;appearance:none}.initialize-softphone[_ngcontent-%COMP%]   .slds-spinner[_ngcontent-%COMP%]{margin-left:-6em}.slds-scope[_ngcontent-%COMP%]   .cdk-overlay-container[_ngcontent-%COMP%]{position:absolute}.unread-icon[_ngcontent-%COMP%]{height:.5rem;width:.5rem;border-radius:50%;display:inline-block;background-color:#1589ee}.unread-icon.visited[_ngcontent-%COMP%]{background:0 0}.agent-details[_ngcontent-%COMP%]   .agent-button-section[_ngcontent-%COMP%]{display:none;right:.6rem;top:.6rem}.agent-details[_ngcontent-%COMP%]   .agent-button-section[_ngcontent-%COMP%]   .slds-button[_ngcontent-%COMP%]{width:5rem;font-size:.75rem;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.agent-details[_ngcontent-%COMP%]   .agent-button-section[_ngcontent-%COMP%]   .transfer-button[_ngcontent-%COMP%]{width:4.5rem}.agent-details[_ngcontent-%COMP%]:hover{background-color:#e7f3fd}.agent-details[_ngcontent-%COMP%]:hover   .agent-button-section[_ngcontent-%COMP%]{display:block;background-color:#e7f3fd}.agent-state-icon[_ngcontent-%COMP%]{height:.7rem;width:.7rem;border-radius:50%;display:inline-block}.available-state-color[_ngcontent-%COMP%]{color:#4bca81;background-color:#4bca81;border-color:#4bca81}.unavailable-state-color[_ngcontent-%COMP%]{color:#c13834;background-color:#c13834;border-color:#c13834}.outbound-state-color[_ngcontent-%COMP%]{color:#ff9a3b;background-color:#ff9a3b;border-color:#ff9a3b}.inbound-state-color[_ngcontent-%COMP%]{color:purple;background-color:purple;border-color:purple}.logout-state-color[_ngcontent-%COMP%]{color:#d8dde6;background-color:#d8dde6;border-color:#d8dde6}p[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}"]],data:{}});function ue(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,3,"div",[],null,null,null,null,null)),(n()(),o.qb(1,0,null,null,2,"button",[["class","slds-button slds-button_neutral slds-p-horizontal_xx-small slds-m-right_xx-small transfer-button"]],null,[[null,"click"]],function(n,t,e){var l=!0,o=n.component;return"click"===t&&(l=!1!==o.transferWorkItemToAgent(o.agent)&&l),l},null,null)),(n()(),o.Hb(2,null,["",""])),o.Bb(131072,d.i,[d.j,o.h])],null,function(n,t){n(t,2,0,o.Ib(t,2,0,o.Ab(t,3).transform("transfer")))})}function de(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,3,"div",[],null,null,null,null,null)),(n()(),o.qb(1,0,null,null,2,"button",[["class","slds-button slds-button_brand slds-p-horizontal_xx-small"]],null,[[null,"click"]],function(n,t,e){var l=!0,o=n.component;return"click"===t&&(l=!1!==o.makeConsultCall(o.agent)&&l),l},null,null)),(n()(),o.Hb(2,null,["",""])),o.Bb(131072,d.i,[d.j,o.h])],null,function(n,t){n(t,2,0,o.Ib(t,2,0,o.Ab(t,3).transform("call")))})}function ge(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,6,"div",[],null,null,null,null,null)),(n()(),o.qb(1,0,null,null,2,"button",[["class","slds-button slds-button_neutral slds-p-horizontal_xx-small slds-m-right_xx-small transfer-button"]],null,[[null,"click"]],function(n,t,e){var l=!0,o=n.component;return"click"===t&&(l=!1!==o.dialSelectedAgent(o.agent)&&l),l},null,null)),(n()(),o.Hb(2,null,["",""])),o.Bb(131072,d.i,[d.j,o.h]),(n()(),o.qb(4,0,null,null,2,"button",[["class","slds-button slds-button_brand slds-p-horizontal_xx-small"]],null,[[null,"click"]],function(n,t,e){var l=!0,o=n.component;return"click"===t&&(l=!1!==o.conferenceAgent(o.agent)&&l),l},null,null)),(n()(),o.Hb(5,null,["",""])),o.Bb(131072,d.i,[d.j,o.h])],null,function(n,t){n(t,2,0,o.Ib(t,2,0,o.Ab(t,3).transform("transfer"))),n(t,5,0,o.Ib(t,5,0,o.Ab(t,6).transform("conference")))})}function he(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,4,"div",[],null,null,null,null,null)),(n()(),o.hb(16777216,null,null,1,null,de)),o.pb(2,16384,null,0,Pt.l,[o.P,o.M],{ngIf:[0,"ngIf"]},null),(n()(),o.hb(16777216,null,null,1,null,ge)),o.pb(4,16384,null,0,Pt.l,[o.P,o.M],{ngIf:[0,"ngIf"]},null)],function(n,t){var e=t.component;n(t,2,0,e.showCallButton&&!e.showTransferButton),n(t,4,0,e.showTransferButton)},null)}function pe(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,4,"div",[["class","agent-button-section slds-is-absolute slds-p-around_xx-small"]],null,null,null,null,null)),(n()(),o.hb(16777216,null,null,1,null,ue)),o.pb(2,16384,null,0,Pt.l,[o.P,o.M],{ngIf:[0,"ngIf"]},null),(n()(),o.hb(16777216,null,null,1,null,he)),o.pb(4,16384,null,0,Pt.l,[o.P,o.M],{ngIf:[0,"ngIf"]},null)],function(n,t){var e=t.component;n(t,2,0,e.isWorkItemTransfer),n(t,4,0,!e.isWorkItemTransfer)},null)}function fe(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,11,"div",[["class","agent-details slds-is-relative slds-p-vertical_x-small slds-p-horizontal_small slds-m-bottom_xx-small"]],null,null,null,null,null)),(n()(),o.qb(1,0,null,null,2,"div",[["class","slds-float_left slds-m-top_medium slds-m-right_medium "]],null,null,null,null,null)),(n()(),o.qb(2,0,null,null,1,"span",[["class","agent-state-icon"]],null,null,null,null,null)),o.pb(3,278528,null,0,Pt.j,[o.s,o.t,o.k,o.E],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(n()(),o.qb(4,0,null,null,5,"div",[],null,null,null,null,null)),(n()(),o.qb(5,0,null,null,1,"p",[["class","slds-m-bottom_xx-small"]],null,null,null,null,null)),(n()(),o.Hb(6,null,["",""])),(n()(),o.qb(7,0,null,null,2,"p",[],[[8,"title",0]],null,null,null,null)),(n()(),o.qb(8,0,null,null,1,"strong",[],null,null,null,null,null)),(n()(),o.Hb(9,null,["",""])),(n()(),o.hb(16777216,null,null,1,null,pe)),o.pb(11,16384,null,0,Pt.l,[o.P,o.M],{ngIf:[0,"ngIf"]},null)],function(n,t){var e=t.component;n(t,3,0,"agent-state-icon",e.statusClassMap[e.agent.agentStateName]),n(t,11,0,"Available"===e.agent.agentStateName||"Unavailable"===e.agent.agentStateName)},function(n,t){var e=t.component;n(t,6,0,e.agent.agentStateName),n(t,7,0,e.agent.agentName),n(t,9,0,e.agent.agentName)})}var be=e("E+Tu"),me=e("t58F"),Ce=e("qwwB"),ve=function(){function n(n,t,e,l,o,i,s){this.adminSvc=n,this.validationUtilSvc=t,this.localStorageSvc=e,this.containerSvc=l,this.agentSvc=o,this.changeDetector=i,this.logger=s,this.agentList=[],this.teamAgentList=[],this.pollingDuration=5e3,this.updatedSince="",this.teamList=[{label:Qn.ALL,value:Qn.ALL},{label:Qn.MY_TEAM,value:Qn.MY_TEAM}],this.showAgentList=!0,this.agentsLoaded=!1,this.selectedTeam=Qn.ALL,this.showSpinner=!1}return n.prototype.ngOnInit=function(){var t=this;this.logger.debug(n.className,"Initialize"),this.agentInfo=JSON.parse(this.localStorageSvc.get(g.AgentInfo)),this.agentId=M.toNumber(this.agentInfo.agentId),this.updatedSince=new Date(0).toISOString(),this.getAllAgents(!1),this.showSpinner=!0,this.pollingIntervalTimerId=setInterval(function(){t.getAllAgents(!0)},this.pollingDuration),this.showTransferButton=this.containerSvc.showTransferButton(),this.showCallButton=this.containerSvc.showCallButton(),this.contactUpdateEvent=this.agentSvc.contactUpdateEvent.subscribe(function(){t.showTransferButton=t.containerSvc.showTransferButton(),t.showCallButton=t.containerSvc.showCallButton()})},n.prototype.getAllAgents=function(n){var t=this;this.adminSvc.getAllAgents(this.updatedSince).then(function(e){if(t.updatedSince=e.updatedSince,n)t.updateAgentStatus(e.agentList);else if(t.showSpinner=!1,t.validationUtilSvc.isNotNullOrEmptyArray(e.agentList)){var l=e.agentList.filter(function(n){return M.toNumber(n.agentId)!==t.agentId});t.agentList=l,t.teamAgentList=l,t.populateTeamNames(),t.agentsLoaded=!0}else t.showAgentList=!1},function(e){n||(t.showAgentList=!1,t.showSpinner=!1)}).finally(function(){n||(t.showSpinner=!1)})},n.prototype.updateAgentStatus=function(n){var t=this;this.validationUtilSvc.isNotNullOrEmptyArray(n)&&n.forEach(function(n){t.agentList.forEach(function(t){t.agentId===n.agentId&&(t.agentStateName=n.agentStateName)}),t.teamAgentList.forEach(function(t){t.agentId===n.agentId&&(t.agentStateName=n.agentStateName)})})},n.prototype.populateTeamNames=function(){var n={},t=[];this.agentList.forEach(function(t){n[t.teamId]=t.teamName}),Object.keys(n).forEach(function(e){t.push({label:n[e],value:e})}),t.sort(function(n,t){var e=n.label.toLowerCase(),l=t.label.toLowerCase();return e>l?1:e<l?-1:0}),this.teamList=this.teamList.concat(t)},n.prototype.filterAgentsByTeam=function(n){var t=this;this.teamAgentList=[],this.changeDetector.detectChanges(),this.selectedTeam=n,this.teamAgentList=n===Qn.MY_TEAM?this.agentList.filter(function(n){return M.toNumber(n.teamId)===M.toNumber(t.agentInfo.teamId)}):n===Qn.ALL?this.agentList:this.agentList.filter(function(t){return t.teamId===n})},n.prototype.ngOnDestroy=function(){this.logger.debug(n.className,"Destroy"),this.pollingIntervalTimerId&&clearInterval(this.pollingIntervalTimerId),this.validationUtilSvc.isNotNullOrUndefined(this.contactUpdateEvent)&&this.contactUpdateEvent.unsubscribe()},n.className="AgentListComponent",n}(),_e=o.ob({encapsulation:0,styles:[[".full-height[_ngcontent-%COMP%], html[_ngcontent-%COMP%], html[_ngcontent-%COMP%]   body[_ngcontent-%COMP%]{height:100%}.no-strech[_ngcontent-%COMP%]{flex:0}.strech[_ngcontent-%COMP%]{flex:1;position:relative}.no-scroll[_ngcontent-%COMP%]{overflow:hidden}.full-height-flex[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;justify-content:center}.center-align[_ngcontent-%COMP%]{text-align:center}.cursor-pointer[_ngcontent-%COMP%]{cursor:pointer}.text-wrap[_ngcontent-%COMP%]{word-wrap:break-word}.text-bold[_ngcontent-%COMP%]{font-weight:700}.cdk-overlay-container[_ngcontent-%COMP%]   .slds-modal__container[_ngcontent-%COMP%]{margin:0;padding:0}.cdk-overlay-container[_ngcontent-%COMP%]   .slds-modal__content[_ngcontent-%COMP%]{height:100%}.cdk-global-scrollblock[_ngcontent-%COMP%]{overflow-y:auto!important}@media (min-width:48em){.slds-scope[_ngcontent-%COMP%]   .slds-modal--large[_ngcontent-%COMP%]   .slds-modal__container[_ngcontent-%COMP%], .slds-scope[_ngcontent-%COMP%]   .slds-modal_large[_ngcontent-%COMP%]   .slds-modal__container[_ngcontent-%COMP%]{width:100%;height:100%}}.pull-down[_ngcontent-%COMP%]{position:absolute;bottom:0;width:100%}.dialog-style[_ngcontent-%COMP%]{position:fixed;top:0;background-color:#fff;right:0;left:0;box-shadow:0 0 5px grey;z-index:1001}.schedule-container[_ngcontent-%COMP%]   .fc-widget-content[_ngcontent-%COMP%]{background-color:#fff}.schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%]{opacity:.75;text-indent:3px}.schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-event[_ngcontent-%COMP%]{border-radius:0;cursor:default;color:#01396a;min-height:2rem}.schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-event[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%]{font-weight:700}.schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%]:hover, .schedule-container[_ngcontent-%COMP%]   .fc-event[_ngcontent-%COMP%]:hover{text-decoration:none;color:#01396a}.schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%]   .fc-title[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-event[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-event[_ngcontent-%COMP%]   .fc-title[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-slats[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-slats[_ngcontent-%COMP%]   .fc-title[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-title[_ngcontent-%COMP%]{font-size:.8rem}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-content[_ngcontent-%COMP%]{display:flex}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-title[_ngcontent-%COMP%]{display:inline-block;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.schedule-container[_ngcontent-%COMP%]   .commitment-event[_ngcontent-%COMP%]{background-color:#d9d9d9;border-color:#d9d9d9}.schedule-container[_ngcontent-%COMP%]   .commitment-event[_ngcontent-%COMP%]:hover{cursor:pointer}.schedule-container[_ngcontent-%COMP%]   .fc-header-toolbar[_ngcontent-%COMP%]   .fc-left[_ngcontent-%COMP%]{margin-left:10px}.schedule-container[_ngcontent-%COMP%]   .fc-button-group[_ngcontent-%COMP%]{font-size:.6rem}.schedule-container[_ngcontent-%COMP%]   .fc-button-group[_ngcontent-%COMP%]   .fc-button-primary[_ngcontent-%COMP%]{background-color:#fff;border-color:grey;color:grey;box-shadow:none}.schedule-container[_ngcontent-%COMP%]   .fc-button-group[_ngcontent-%COMP%]   .fc-button-primary[_ngcontent-%COMP%]:not(:disabled):active{box-shadow:none}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]{min-height:1rem}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%]::before{display:none}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid[_ngcontent-%COMP%]   .fc-slats[_ngcontent-%COMP%]   .fc-minor[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-top:0}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-container[_ngcontent-%COMP%]{overflow:visible!important}.slds-scope[_ngcontent-%COMP%]   .slds-button[_ngcontent-%COMP%]:not([disabled]){color:#0672d4}.slds-scope[_ngcontent-%COMP%]   .slds-button.slds-button_brand[_ngcontent-%COMP%]{color:#fff}.slds-scope[_ngcontent-%COMP%]   .slds-button.decline-button[_ngcontent-%COMP%]:not([disabled]){color:#c13834;border-color:#c13834}.slds-scope[_ngcontent-%COMP%]   .slds-button.accept-button[_ngcontent-%COMP%]:not([disabled]){color:#fff}.slds-scope[_ngcontent-%COMP%]   .slds-slider__range[_ngcontent-%COMP%]{-webkit-appearance:none}.slds-scope[_ngcontent-%COMP%]   .slds-slider__range[_ngcontent-%COMP%]::-webkit-slider-thumb{-webkit-appearance:none;appearance:none}.initialize-softphone[_ngcontent-%COMP%]   .slds-spinner[_ngcontent-%COMP%]{margin-left:-6em}.slds-scope[_ngcontent-%COMP%]   .cdk-overlay-container[_ngcontent-%COMP%]{position:absolute}.unread-icon[_ngcontent-%COMP%]{height:.5rem;width:.5rem;border-radius:50%;display:inline-block;background-color:#1589ee}.unread-icon.visited[_ngcontent-%COMP%]{background:0 0}.agent-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%}.agent-list[_ngcontent-%COMP%]   .agent-list-container[_ngcontent-%COMP%]{flex:1}.agent-list[_ngcontent-%COMP%]   .cdk-virtual-scroll-viewport[_ngcontent-%COMP%]{height:100%;display:flex}.agent-list[_ngcontent-%COMP%]   .cdk-virtual-scroll-viewport[_ngcontent-%COMP%]     .cdk-virtual-scroll-content-wrapper{max-width:100%}.agent-list[_ngcontent-%COMP%]   .no-agents-error[_ngcontent-%COMP%]{height:100%}"]],data:{}});function Oe(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,1,"app-loading-spinner",[],null,null,null,Kt,Qt)),o.pb(1,49152,null,0,Xt,[],null,null)],null,null)}function Me(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,2,"div",[["class","slds-p-horizontal_small slds-p-bottom_small"]],null,null,null,null,null)),(n()(),o.qb(1,0,null,null,1,"app-combo-box",[],null,[[null,"changeEvent"]],function(n,t,e){var l=!0;return"changeEvent"===t&&(l=!1!==n.component.filterAgentsByTeam(e)&&l),l},ce,ee)),o.pb(2,573440,null,0,te,[S,f],{options:[0,"options"],isMultiSelect:[1,"isMultiSelect"],selectedOptions:[2,"selectedOptions"]},{changeEvent:"changeEvent"})],function(n,t){var e=t.component;n(t,2,0,e.teamList,!1,e.selectedTeam)},null)}function Pe(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,2,"div",[],null,null,null,null,null)),(n()(),o.qb(1,0,null,null,1,"app-agent-details",[],null,null,null,fe,re)),o.pb(2,114688,null,0,ae,[ot,Yn],{agent:[0,"agent"],showCallButton:[1,"showCallButton"],showTransferButton:[2,"showTransferButton"]},null)],function(n,t){var e=t.component;n(t,2,0,t.context.$implicit,e.showCallButton,e.showTransferButton)},null)}function Se(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,7,"div",[["class","agent-list-container"]],null,null,null,null,null)),(n()(),o.qb(1,0,null,null,6,"cdk-virtual-scroll-viewport",[["class","cdk-virtual-scroll-viewport"]],[[2,"cdk-virtual-scroll-orientation-horizontal",null],[2,"cdk-virtual-scroll-orientation-vertical",null]],null,null,be.b,be.a)),o.Eb(6144,null,me.b,null,[me.d]),o.pb(3,540672,null,0,me.a,[],{itemSize:[0,"itemSize"]},null),o.Eb(1024,null,me.i,me.k,[me.a]),o.pb(5,245760,null,0,me.d,[o.k,o.h,o.z,[2,me.i],[2,Ce.b],me.f],null,null),(n()(),o.hb(16777216,null,0,1,null,Pe)),o.pb(7,409600,null,0,me.c,[o.P,o.M,o.s,[1,me.d],o.z],{cdkVirtualForOf:[0,"cdkVirtualForOf"]},null)],function(n,t){var e=t.component;n(t,3,0,60),n(t,5,0),n(t,7,0,e.teamAgentList)},function(n,t){n(t,1,0,"horizontal"===o.Ab(t,5).orientation,"horizontal"!==o.Ab(t,5).orientation)})}function ye(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,3,"div",[["class","no-agents-error slds-align_absolute-center"]],null,null,null,null,null)),(n()(),o.qb(1,0,null,null,2,"p",[["class","slds-p-left_small"]],null,null,null,null,null)),(n()(),o.Hb(2,null,["",""])),o.Bb(131072,d.i,[d.j,o.h])],null,function(n,t){n(t,2,0,o.Ib(t,2,0,o.Ab(t,3).transform("noAgentFound")))})}function ke(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,8,"div",[["class","agent-list"]],null,null,null,null,null)),(n()(),o.hb(16777216,null,null,1,null,Oe)),o.pb(2,16384,null,0,Pt.l,[o.P,o.M],{ngIf:[0,"ngIf"]},null),(n()(),o.hb(16777216,null,null,1,null,Me)),o.pb(4,16384,null,0,Pt.l,[o.P,o.M],{ngIf:[0,"ngIf"]},null),(n()(),o.hb(16777216,null,null,1,null,Se)),o.pb(6,16384,null,0,Pt.l,[o.P,o.M],{ngIf:[0,"ngIf"]},null),(n()(),o.hb(16777216,null,null,1,null,ye)),o.pb(8,16384,null,0,Pt.l,[o.P,o.M],{ngIf:[0,"ngIf"]},null)],function(n,t){var e=t.component;n(t,2,0,e.showSpinner),n(t,4,0,e.agentsLoaded),n(t,6,0,e.showAgentList),n(t,8,0,!e.showAgentList)},null)}var we=function(){function n(n,t){this.containerSvc=n,this.contactsSvc=t,this.isWorkItemTransfer=!1}return n.prototype.ngOnInit=function(){this.isWorkItemTransfer=this.contactsSvc.transferWorkItem},n.prototype.dialSelectedSkill=function(n){var t=this;this.containerSvc.holdContact().then(function(){t.containerSvc.dialSkill(n)})},n.prototype.transferWorkItemToSkill=function(n){this.containerSvc.transferWorkItemSkill(n)},n}(),Ie=o.ob({encapsulation:0,styles:[[".full-height[_ngcontent-%COMP%], html[_ngcontent-%COMP%], html[_ngcontent-%COMP%]   body[_ngcontent-%COMP%]{height:100%}.no-strech[_ngcontent-%COMP%]{flex:0}.strech[_ngcontent-%COMP%]{flex:1;position:relative}.no-scroll[_ngcontent-%COMP%]{overflow:hidden}.full-height-flex[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;justify-content:center}.center-align[_ngcontent-%COMP%]{text-align:center}.cursor-pointer[_ngcontent-%COMP%]{cursor:pointer}.text-wrap[_ngcontent-%COMP%]{word-wrap:break-word}.text-bold[_ngcontent-%COMP%]{font-weight:700}.cdk-overlay-container[_ngcontent-%COMP%]   .slds-modal__container[_ngcontent-%COMP%]{margin:0;padding:0}.cdk-overlay-container[_ngcontent-%COMP%]   .slds-modal__content[_ngcontent-%COMP%]{height:100%}.cdk-global-scrollblock[_ngcontent-%COMP%]{overflow-y:auto!important}@media (min-width:48em){.slds-scope[_ngcontent-%COMP%]   .slds-modal--large[_ngcontent-%COMP%]   .slds-modal__container[_ngcontent-%COMP%], .slds-scope[_ngcontent-%COMP%]   .slds-modal_large[_ngcontent-%COMP%]   .slds-modal__container[_ngcontent-%COMP%]{width:100%;height:100%}}.pull-down[_ngcontent-%COMP%]{position:absolute;bottom:0;width:100%}.dialog-style[_ngcontent-%COMP%]{position:fixed;top:0;background-color:#fff;right:0;left:0;box-shadow:0 0 5px grey;z-index:1001}.schedule-container[_ngcontent-%COMP%]   .fc-widget-content[_ngcontent-%COMP%]{background-color:#fff}.schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%]{opacity:.75;text-indent:3px}.schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-event[_ngcontent-%COMP%]{border-radius:0;cursor:default;color:#01396a;min-height:2rem}.schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-event[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%]{font-weight:700}.schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%]:hover, .schedule-container[_ngcontent-%COMP%]   .fc-event[_ngcontent-%COMP%]:hover{text-decoration:none;color:#01396a}.schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%]   .fc-title[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-event[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-event[_ngcontent-%COMP%]   .fc-title[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-slats[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-slats[_ngcontent-%COMP%]   .fc-title[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-title[_ngcontent-%COMP%]{font-size:.8rem}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-content[_ngcontent-%COMP%]{display:flex}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-title[_ngcontent-%COMP%]{display:inline-block;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.schedule-container[_ngcontent-%COMP%]   .commitment-event[_ngcontent-%COMP%]{background-color:#d9d9d9;border-color:#d9d9d9}.schedule-container[_ngcontent-%COMP%]   .commitment-event[_ngcontent-%COMP%]:hover{cursor:pointer}.schedule-container[_ngcontent-%COMP%]   .fc-header-toolbar[_ngcontent-%COMP%]   .fc-left[_ngcontent-%COMP%]{margin-left:10px}.schedule-container[_ngcontent-%COMP%]   .fc-button-group[_ngcontent-%COMP%]{font-size:.6rem}.schedule-container[_ngcontent-%COMP%]   .fc-button-group[_ngcontent-%COMP%]   .fc-button-primary[_ngcontent-%COMP%]{background-color:#fff;border-color:grey;color:grey;box-shadow:none}.schedule-container[_ngcontent-%COMP%]   .fc-button-group[_ngcontent-%COMP%]   .fc-button-primary[_ngcontent-%COMP%]:not(:disabled):active{box-shadow:none}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]{min-height:1rem}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%]::before{display:none}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid[_ngcontent-%COMP%]   .fc-slats[_ngcontent-%COMP%]   .fc-minor[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-top:0}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-container[_ngcontent-%COMP%]{overflow:visible!important}.slds-scope[_ngcontent-%COMP%]   .slds-button[_ngcontent-%COMP%]:not([disabled]){color:#0672d4}.slds-scope[_ngcontent-%COMP%]   .slds-button.slds-button_brand[_ngcontent-%COMP%]{color:#fff}.slds-scope[_ngcontent-%COMP%]   .slds-button.decline-button[_ngcontent-%COMP%]:not([disabled]){color:#c13834;border-color:#c13834}.slds-scope[_ngcontent-%COMP%]   .slds-button.accept-button[_ngcontent-%COMP%]:not([disabled]){color:#fff}.slds-scope[_ngcontent-%COMP%]   .slds-slider__range[_ngcontent-%COMP%]{-webkit-appearance:none}.slds-scope[_ngcontent-%COMP%]   .slds-slider__range[_ngcontent-%COMP%]::-webkit-slider-thumb{-webkit-appearance:none;appearance:none}.initialize-softphone[_ngcontent-%COMP%]   .slds-spinner[_ngcontent-%COMP%]{margin-left:-6em}.slds-scope[_ngcontent-%COMP%]   .cdk-overlay-container[_ngcontent-%COMP%]{position:absolute}.unread-icon[_ngcontent-%COMP%]{height:.5rem;width:.5rem;border-radius:50%;display:inline-block;background-color:#1589ee}.unread-icon.visited[_ngcontent-%COMP%]{background:0 0}.skill-detail[_ngcontent-%COMP%]{cursor:pointer;position:relative}.skill-detail[_ngcontent-%COMP%]   .is-outbound[_ngcontent-%COMP%], .skill-detail[_ngcontent-%COMP%]   .wait-time[_ngcontent-%COMP%]{font-size:.95em}.skill-detail[_ngcontent-%COMP%]   .is-outbound[_ngcontent-%COMP%], .skill-detail[_ngcontent-%COMP%]   .skill-name[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.skill-detail[_ngcontent-%COMP%]   .skill-button-section[_ngcontent-%COMP%]{display:none}.skill-detail[_ngcontent-%COMP%]   .skill-button-section[_ngcontent-%COMP%]   .slds-button[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.skill-detail[_ngcontent-%COMP%]   .skill-button-section[_ngcontent-%COMP%]   .call-button[_ngcontent-%COMP%]{width:5rem}.skill-detail[_ngcontent-%COMP%]:hover{background-color:#e7f3fd}.skill-detail[_ngcontent-%COMP%]:hover   .skill-button-section[_ngcontent-%COMP%]{display:block;right:.6rem;background-color:#e7f3fd}"]],data:{}});function Ne(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,3,"div",[["class","skill-button-section slds-is-absolute slds-p-around_xx-small"]],null,null,null,null,null)),(n()(),o.qb(1,0,null,null,2,"button",[["class","slds-button call-button slds-button_brand"]],null,[[null,"click"]],function(n,t,e){var l=!0,o=n.component;return"click"===t&&(l=!1!==o.dialSelectedSkill(o.skill)&&l),l},null,null)),(n()(),o.Hb(2,null,[" "," "])),o.Bb(131072,d.i,[d.j,o.h])],null,function(n,t){n(t,2,0,o.Ib(t,2,0,o.Ab(t,3).transform("call")))})}function xe(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,3,"div",[["class","skill-button-section slds-is-absolute slds-p-around_xx-small"]],null,null,null,null,null)),(n()(),o.qb(1,0,null,null,2,"button",[["class","slds-button slds-button_brand"]],null,[[null,"click"]],function(n,t,e){var l=!0,o=n.component;return"click"===t&&(l=!1!==o.transferWorkItemToSkill(o.skill)&&l),l},null,null)),(n()(),o.Hb(2,null,[" "," "])),o.Bb(131072,d.i,[d.j,o.h])],null,function(n,t){n(t,2,0,o.Ib(t,2,0,o.Ab(t,3).transform("transfer")))})}function Ae(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,19,"div",[["class","skill-detail slds-grid slds-p-vertical_x-small slds-p-horizontal_small slds-m-bottom_xx-small"]],null,null,null,null,null)),(n()(),o.qb(1,0,null,null,6,"div",[["class","slds-col slds-size_7-of-12"]],null,null,null,null,null)),(n()(),o.qb(2,0,null,null,2,"div",[["class","is-outbound"]],null,null,null,null,null)),(n()(),o.Hb(3,null,["",""])),o.Bb(131072,d.i,[d.j,o.h]),(n()(),o.qb(5,0,null,null,2,"div",[["class","slds-m-top_xxx-small skill-name"]],[[8,"title",0]],null,null,null,null)),(n()(),o.qb(6,0,null,null,1,"strong",[],null,null,null,null,null)),(n()(),o.Hb(7,null,["",""])),(n()(),o.qb(8,0,null,null,7,"div",[["class","slds-col slds-text-align_right slds-size_5-of-12"]],null,null,null,null,null)),(n()(),o.qb(9,0,null,null,2,"div",[["class","wait-time"]],null,null,null,null,null)),(n()(),o.Hb(10,null,["",": ",""])),o.Bb(131072,d.i,[d.j,o.h]),(n()(),o.qb(12,0,null,null,3,"div",[["class","slds-m-top_xxx-small"]],null,null,null,null,null)),(n()(),o.qb(13,0,null,null,2,"strong",[],null,null,null,null,null)),(n()(),o.Hb(14,null,["",": ",""])),o.Bb(131072,d.i,[d.j,o.h]),(n()(),o.hb(16777216,null,null,1,null,Ne)),o.pb(17,16384,null,0,Pt.l,[o.P,o.M],{ngIf:[0,"ngIf"]},null),(n()(),o.hb(16777216,null,null,1,null,xe)),o.pb(19,16384,null,0,Pt.l,[o.P,o.M],{ngIf:[0,"ngIf"]},null)],function(n,t){var e=t.component;n(t,17,0,e.showCallButton&&!e.isWorkItemTransfer),n(t,19,0,e.isWorkItemTransfer)},function(n,t){var e=t.component;n(t,3,0,o.Ib(t,3,0,o.Ab(t,4).transform(e.skill.isOutbound?"outbound":"inbound"))),n(t,5,0,e.skill.skillName),n(t,7,0,e.skill.skillName),n(t,10,0,o.Ib(t,10,0,o.Ab(t,11).transform("wait")),e.skill.waitTime),n(t,14,0,o.Ib(t,14,0,o.Ab(t,15).transform("queue")),e.skill.queue)})}var Te=e("qfCs"),Ee=function(){function n(n,t,e,l,o,i,s,c,a){this.adminService=n,this.agentService=t,this.logger=e,this.validationUtilSvc=l,this.containerSvc=o,this.localStorageSvc=i,this.scrollDispatcher=s,this.dateTimeUtilSvc=c,this.contactsSvc=a,this.allSkillList=[],this.displaySkillList=[],this.showAlert=!1,this.recordsToLoad=1e3,this.startIndex=0,this.loadMoreRecordsFlag=!1,this.canShowSpinner=!1,this.pollingDuration=5e3}return n.prototype.ngOnInit=function(){var t=this;this.logger.debug(n.className,"Initialize");var e=this.localStorageSvc.get(g.SkillMediaType);this.mediaType=this.contactsSvc.transferWorkItem?6:e?M.toNumber(e):4,this.getSkillsList(),this.updatedSince=new Date(0).toISOString(),this.getCacheSkillQueue(),this.showCallButton=this.containerSvc.showCallButton(),this.contactUpdateEvent=this.agentService.contactUpdateEvent.subscribe(function(){t.showCallButton=t.containerSvc.showCallButton()})},n.prototype.ngAfterViewInit=function(){var t=this;this.scrollDispatcher.scrolled().pipe(Object(Te.a)(function(n){if(t.validationUtilSvc.isNotNullOrEmpty(t.virtualScroll))return t.virtualScroll.getRenderedRange().end===t.virtualScroll.getDataLength()})).subscribe(function(e){t.loadMoreRecordsFlag||(t.startIndex=t.startIndex+t.recordsToLoad,t.startIndex<=t.totalRecords&&(t.logger.debug(n.className,"Load more skills"),t.loadMoreRecordsFlag=!0,t.getSkillsList()))})},n.prototype.getSkillsList=function(){var t=this;this.canShowSpinner=!0,this.adminService.getSkillsList(this.mediaType,this.startIndex,this.recordsToLoad,"").then(function(e){t.logger.debug(n.className,"Getting Skill List - SUCCESS "),t.canShowSpinner=!1,t.displaySkillList=t.displaySkillList.concat(e.skillList),t.totalRecords=e.totalRecords,t.loadMoreRecordsFlag=!1,0===t.startIndex&&0===e.totalRecords&&(t.showAlert=!0)},function(e){t.canShowSpinner=!1,t.startIndex>0?t.startIndex=t.startIndex-t.recordsToLoad:t.showAlert=!0,t.loadMoreRecordsFlag=!1,t.logger.error(n.className,"Getting Skill List - ERROR "+e.message)})},n.prototype.getCacheSkillQueue=function(){var t=this;this.agentService.getCacheSkillQueue(this.updatedSince).then(function(e){t.logger.debug(n.className,"Getting Cache Skill Queue - SUCCESS "),t.updatedSince=e.LastPollTime,t.displaySkillList.forEach(function(n){n.queue="0",n.waitTime="00",t.validationUtilSvc.isNotNullOrEmptyArray(e.Queues)&&e.Queues.forEach(function(e){M.toNumber(e.SkillId)===n.skillId&&(n.queue=e.QueueCount,n.waitTime=t.dateTimeUtilSvc.toDisplayTime(M.toNumber(e.LongestQueueTimeInSeconds)))})}),t.updateSkillQueueCache()},function(e){t.logger.error(n.className,"Getting Cache Skill Queue - ERROR "),t.updateSkillQueueCache()})},n.prototype.updateSkillQueueCache=function(){var n=this;this.pollingIntervalTimerId=setTimeout(function(){n.getCacheSkillQueue()},Qn.SKILL_QUEUE_POLLING_DURATION)},n.prototype.ngOnDestroy=function(){this.logger.debug(n.className,"Destroy"),this.pollingIntervalTimerId&&clearTimeout(this.pollingIntervalTimerId),this.validationUtilSvc.isNotNullOrUndefined(this.contactUpdateEvent)&&this.contactUpdateEvent.unsubscribe()},n.className="SkillListComponent",n}(),De=o.ob({encapsulation:0,styles:[[".skill-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%}.skill-list[_ngcontent-%COMP%]   .skill-list-container[_ngcontent-%COMP%]{flex:1}.skill-list[_ngcontent-%COMP%]   .cdk-virtual-scroll-viewport[_ngcontent-%COMP%]{height:100%}.skill-list[_ngcontent-%COMP%]   .cdk-virtual-scroll-viewport[_ngcontent-%COMP%]     .cdk-virtual-scroll-content-wrapper{max-width:100%}.skill-list[_ngcontent-%COMP%]   .skill-error-message[_ngcontent-%COMP%]{height:100%}"]],data:{}});function Ue(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,4,"div",[["class","slds-spinner_container"]],null,null,null,null,null)),(n()(),o.qb(1,0,null,null,3,"div",[["class","slds-align_absolute-center"]],null,null,null,null,null)),(n()(),o.qb(2,0,null,null,2,"div",[["class","slds-spinner slds-spinner_medium slds-spinner_brand"],["role","status"]],null,null,null,null,null)),(n()(),o.qb(3,0,null,null,0,"div",[["class","slds-spinner__dot-a"]],null,null,null,null,null)),(n()(),o.qb(4,0,null,null,0,"div",[["class","slds-spinner__dot-b"]],null,null,null,null,null))],null,null)}function qe(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,3,"div",[["class","slds-m-around_medium slds-align_absolute-center skill-error-message"]],null,null,null,null,null)),(n()(),o.qb(1,0,null,null,2,"div",[["class","slds-p-left_small"]],null,null,null,null,null)),(n()(),o.Hb(2,null,["",""])),o.Bb(131072,d.i,[d.j,o.h])],null,function(n,t){n(t,2,0,o.Ib(t,2,0,o.Ab(t,3).transform("skillListErrorMsg")))})}function Le(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,2,"div",[],null,null,null,null,null)),(n()(),o.qb(1,0,null,null,1,"app-skill-details",[],null,null,null,Ae,Ie)),o.pb(2,114688,null,0,we,[ot,Yn],{skill:[0,"skill"],showCallButton:[1,"showCallButton"]},null)],function(n,t){n(t,2,0,t.context.$implicit,t.component.showCallButton)},null)}function Be(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,7,"div",[["class","skill-list-container"]],null,null,null,null,null)),(n()(),o.qb(1,0,null,null,6,"cdk-virtual-scroll-viewport",[["class","cdk-virtual-scroll-viewport"]],[[2,"cdk-virtual-scroll-orientation-horizontal",null],[2,"cdk-virtual-scroll-orientation-vertical",null]],null,null,be.b,be.a)),o.Eb(6144,null,me.b,null,[me.d]),o.pb(3,540672,null,0,me.a,[],{itemSize:[0,"itemSize"]},null),o.Eb(1024,null,me.i,me.k,[me.a]),o.pb(5,245760,[[1,4]],0,me.d,[o.k,o.h,o.z,[2,me.i],[2,Ce.b],me.f],null,null),(n()(),o.hb(16777216,null,0,1,null,Le)),o.pb(7,409600,null,0,me.c,[o.P,o.M,o.s,[1,me.d],o.z],{cdkVirtualForOf:[0,"cdkVirtualForOf"]},null)],function(n,t){var e=t.component;n(t,3,0,60),n(t,5,0),n(t,7,0,e.displaySkillList)},function(n,t){n(t,1,0,"horizontal"===o.Ab(t,5).orientation,"horizontal"!==o.Ab(t,5).orientation)})}function Re(n){return o.Jb(0,[o.Fb(671088640,1,{virtualScroll:0}),(n()(),o.qb(1,0,null,null,6,"div",[["class","skill-list"]],null,null,null,null,null)),(n()(),o.hb(16777216,null,null,1,null,Ue)),o.pb(3,16384,null,0,Pt.l,[o.P,o.M],{ngIf:[0,"ngIf"]},null),(n()(),o.hb(16777216,null,null,1,null,qe)),o.pb(5,16384,null,0,Pt.l,[o.P,o.M],{ngIf:[0,"ngIf"]},null),(n()(),o.hb(16777216,null,null,1,null,Be)),o.pb(7,16384,null,0,Pt.l,[o.P,o.M],{ngIf:[0,"ngIf"]},null)],function(n,t){var e=t.component;n(t,3,0,e.canShowSpinner),n(t,5,0,e.showAlert),n(t,7,0,!e.showAlert)},null)}var je=function(){function n(n){this.containerSvc=n}return n.prototype.onMakeCall=function(n,t){var e=this,l={phoneNumber:n,skillId:t};this.containerSvc.holdContact().then(function(){e.containerSvc.dialPhone(l)})},n.prototype.callByDefaultSkill=function(n){this.obPhoneSkills&&1===this.obPhoneSkills.length&&this.onMakeCall(n,this.obPhoneSkills[0].skillId)},n}(),Je=o.ob({encapsulation:0,styles:[[".full-height[_ngcontent-%COMP%], html[_ngcontent-%COMP%], html[_ngcontent-%COMP%]   body[_ngcontent-%COMP%]{height:100%}.no-strech[_ngcontent-%COMP%]{flex:0}.strech[_ngcontent-%COMP%]{flex:1;position:relative}.no-scroll[_ngcontent-%COMP%]{overflow:hidden}.full-height-flex[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;justify-content:center}.center-align[_ngcontent-%COMP%]{text-align:center}.cursor-pointer[_ngcontent-%COMP%]{cursor:pointer}.text-wrap[_ngcontent-%COMP%]{word-wrap:break-word}.text-bold[_ngcontent-%COMP%]{font-weight:700}.cdk-overlay-container[_ngcontent-%COMP%]   .slds-modal__container[_ngcontent-%COMP%]{margin:0;padding:0}.cdk-overlay-container[_ngcontent-%COMP%]   .slds-modal__content[_ngcontent-%COMP%]{height:100%}.cdk-global-scrollblock[_ngcontent-%COMP%]{overflow-y:auto!important}@media (min-width:48em){.slds-scope[_ngcontent-%COMP%]   .slds-modal--large[_ngcontent-%COMP%]   .slds-modal__container[_ngcontent-%COMP%], .slds-scope[_ngcontent-%COMP%]   .slds-modal_large[_ngcontent-%COMP%]   .slds-modal__container[_ngcontent-%COMP%]{width:100%;height:100%}}.pull-down[_ngcontent-%COMP%]{position:absolute;bottom:0;width:100%}.dialog-style[_ngcontent-%COMP%]{position:fixed;top:0;background-color:#fff;right:0;left:0;box-shadow:0 0 5px grey;z-index:1001}.schedule-container[_ngcontent-%COMP%]   .fc-widget-content[_ngcontent-%COMP%]{background-color:#fff}.schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%]{opacity:.75;text-indent:3px}.schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-event[_ngcontent-%COMP%]{border-radius:0;cursor:default;color:#01396a;min-height:2rem}.schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-event[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%]{font-weight:700}.schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%]:hover, .schedule-container[_ngcontent-%COMP%]   .fc-event[_ngcontent-%COMP%]:hover{text-decoration:none;color:#01396a}.schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%]   .fc-title[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-event[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-event[_ngcontent-%COMP%]   .fc-title[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-slats[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-slats[_ngcontent-%COMP%]   .fc-title[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-title[_ngcontent-%COMP%]{font-size:.8rem}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-content[_ngcontent-%COMP%]{display:flex}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-title[_ngcontent-%COMP%]{display:inline-block;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.schedule-container[_ngcontent-%COMP%]   .commitment-event[_ngcontent-%COMP%]{background-color:#d9d9d9;border-color:#d9d9d9}.schedule-container[_ngcontent-%COMP%]   .commitment-event[_ngcontent-%COMP%]:hover{cursor:pointer}.schedule-container[_ngcontent-%COMP%]   .fc-header-toolbar[_ngcontent-%COMP%]   .fc-left[_ngcontent-%COMP%]{margin-left:10px}.schedule-container[_ngcontent-%COMP%]   .fc-button-group[_ngcontent-%COMP%]{font-size:.6rem}.schedule-container[_ngcontent-%COMP%]   .fc-button-group[_ngcontent-%COMP%]   .fc-button-primary[_ngcontent-%COMP%]{background-color:#fff;border-color:grey;color:grey;box-shadow:none}.schedule-container[_ngcontent-%COMP%]   .fc-button-group[_ngcontent-%COMP%]   .fc-button-primary[_ngcontent-%COMP%]:not(:disabled):active{box-shadow:none}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]{min-height:1rem}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%]::before{display:none}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid[_ngcontent-%COMP%]   .fc-slats[_ngcontent-%COMP%]   .fc-minor[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-top:0}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-container[_ngcontent-%COMP%]{overflow:visible!important}.slds-scope[_ngcontent-%COMP%]   .slds-button[_ngcontent-%COMP%]:not([disabled]){color:#0672d4}.slds-scope[_ngcontent-%COMP%]   .slds-button.slds-button_brand[_ngcontent-%COMP%]{color:#fff}.slds-scope[_ngcontent-%COMP%]   .slds-button.decline-button[_ngcontent-%COMP%]:not([disabled]){color:#c13834;border-color:#c13834}.slds-scope[_ngcontent-%COMP%]   .slds-button.accept-button[_ngcontent-%COMP%]:not([disabled]){color:#fff}.slds-scope[_ngcontent-%COMP%]   .slds-slider__range[_ngcontent-%COMP%]{-webkit-appearance:none}.slds-scope[_ngcontent-%COMP%]   .slds-slider__range[_ngcontent-%COMP%]::-webkit-slider-thumb{-webkit-appearance:none;appearance:none}.initialize-softphone[_ngcontent-%COMP%]   .slds-spinner[_ngcontent-%COMP%]{margin-left:-6em}.slds-scope[_ngcontent-%COMP%]   .cdk-overlay-container[_ngcontent-%COMP%]{position:absolute}.unread-icon[_ngcontent-%COMP%]{height:.5rem;width:.5rem;border-radius:50%;display:inline-block;background-color:#1589ee}.unread-icon.visited[_ngcontent-%COMP%]{background:0 0}.address-book-details[_ngcontent-%COMP%]   .address-book-name[_ngcontent-%COMP%]{font-size:.9rem}.address-book-details[_ngcontent-%COMP%]   .dial-phone-btn[_ngcontent-%COMP%]{display:none;text-align:right}.address-book-details[_ngcontent-%COMP%]   .address-details[_ngcontent-%COMP%]{position:relative}.address-book-details[_ngcontent-%COMP%]   .address-details[_ngcontent-%COMP%]:hover{background-color:#e7f3fd;padding-top:.25rem}.address-book-details[_ngcontent-%COMP%]   .address-details[_ngcontent-%COMP%]:hover   .dial-phone-btn[_ngcontent-%COMP%]{display:block;position:absolute;right:0}.address-book-details[_ngcontent-%COMP%]   .address-details[_ngcontent-%COMP%]:hover   p[_ngcontent-%COMP%]{padding-top:.4rem}.address-book-details[_ngcontent-%COMP%]   .slds-button_brand[_ngcontent-%COMP%]{line-height:1.5rem}"]],data:{}});function Fe(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,4,"li",[["class","slds-dropdown__item"]],null,[[null,"click"]],function(n,t,e){var l=!0,o=n.component;return"click"===t&&(l=!1!==o.onMakeCall(o.addressBook.phone,n.context.$implicit.skillId)&&l),l},null,null)),(n()(),o.qb(1,0,null,null,3,"a",[["nglDropdownItem",""],["tabindex","0"]],null,[[null,"click"],[null,"focus"],[null,"blur"]],function(n,t,e){var l=!0,i=n.component;return"focus"===t&&(l=!1!==o.Ab(n,2).onFocus()&&l),"blur"===t&&(l=!1!==o.Ab(n,2).onBlur()&&l),"click"===t&&(l=0!=(i.showOBSkillsMenu=!1)&&l),l},null,null)),o.pb(2,16384,[[1,4]],0,Et.Cb,[o.k],null,null),(n()(),o.qb(3,0,null,null,1,"div",[["class","slds-truncate"]],[[8,"title",0]],null,null,null,null)),(n()(),o.Hb(4,null,["",""]))],null,function(n,t){n(t,3,0,t.context.$implicit.skillName),n(t,4,0,t.context.$implicit.skillName)})}function ze(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,3,"div",[["class","slds-dropdown slds-dropdown_right"]],null,null,null,null,null)),(n()(),o.qb(1,0,null,null,2,"ul",[["class","dropdown__list"]],null,null,null,null,null)),(n()(),o.hb(16777216,null,null,1,null,Fe)),o.pb(3,278528,null,0,Pt.k,[o.P,o.M,o.s],{ngForOf:[0,"ngForOf"]},null)],function(n,t){n(t,3,0,t.component.obPhoneSkills)},null)}function He(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,10,"div",[],null,null,null,null,null)),(n()(),o.qb(1,0,null,null,9,"span",[["nglDropdown",""]],[[2,"slds-dropdown-trigger",null],[2,"slds-dropdown-trigger_click",null]],[[null,"openChange"],[null,"keydown.esc"],[null,"keydown.tab"],[null,"keydown.arrowdown"],[null,"keydown.arrowup"]],function(n,t,e){var l=!0,i=n.component;return"keydown.esc"===t&&(l=!1!==o.Ab(n,2).onKeydownClose("esc")&&l),"keydown.tab"===t&&(l=!1!==o.Ab(n,2).onKeydownClose("tab")&&l),"keydown.arrowdown"===t&&(l=!1!==o.Ab(n,2).onKeydownFocusNext(e,"next")&&l),"keydown.arrowup"===t&&(l=!1!==o.Ab(n,2).onKeydownFocusNext(e,"previous")&&l),"openChange"===t&&(l=!1!==(i.showOBSkillsMenu=e)&&l),l},null,null)),o.pb(2,212992,null,1,Et.Bb,[o.k,o.E],{isOpen:[0,"isOpen"]},{isOpenChange:"openChange"}),o.Fb(603979776,1,{items:1}),(n()(),o.qb(4,0,null,null,4,"button",[["aria-haspopup","true"],["class","slds-button slds-button_brand"],["nglDropdownTrigger",""]],[[8,"disabled",0]],[[null,"click"],[null,"keydown.arrowdown"]],function(n,t,e){var l=!0,i=n.component;return"click"===t&&(l=!1!==o.Ab(n,5).toggleOpen()&&l),"keydown.arrowdown"===t&&(l=!1!==o.Ab(n,5).onKeyDownOpen(e)&&l),"click"===t&&(l=!1!==i.callByDefaultSkill(i.addressBook.phone)&&l),l},null,null)),o.pb(5,147456,null,0,Et.Db,[o.k,Et.Bb],null,null),(n()(),o.qb(6,0,null,null,2,"span",[["class","slds-truncate"]],null,null,null,null,null)),(n()(),o.Hb(7,null,["",""])),o.Bb(131072,d.i,[d.j,o.h]),(n()(),o.hb(16777216,null,null,1,null,ze)),o.pb(10,16384,null,0,Pt.l,[o.P,o.M],{ngIf:[0,"ngIf"]},null)],function(n,t){var e=t.component;n(t,2,0,e.showOBSkillsMenu),n(t,10,0,e.obPhoneSkills&&e.obPhoneSkills.length>1)},function(n,t){var e=t.component;n(t,1,0,!0,!0),n(t,4,0,e.obPhoneSkills&&0===e.obPhoneSkills.length),n(t,7,0,o.Ib(t,7,0,o.Ab(t,8).transform("call")))})}function We(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,8,"div",[["class","address-details slds-p-left_small slds-p-bottom_xx-small"]],null,[[null,"mouseleave"]],function(n,t,e){var l=!0;return"mouseleave"===t&&(l=0!=(n.component.showOBSkillsMenu=!1)&&l),l},null,null)),(n()(),o.qb(1,0,null,null,7,"div",[["class","slds-grid slds-wrap"]],null,null,null,null,null)),(n()(),o.qb(2,0,null,null,3,"div",[["class","slds-col slds-size_1-of-1"]],null,null,null,null,null)),(n()(),o.qb(3,0,null,null,2,"p",[["class","slds-truncate phone-number"]],[[8,"title",0]],null,null,null,null)),(n()(),o.qb(4,0,null,null,1,"strong",[],null,null,null,null,null)),(n()(),o.Hb(5,null,["",""])),(n()(),o.qb(6,0,null,null,2,"div",[["class","dial-phone-btn slds-p-right_small"]],null,null,null,null,null)),(n()(),o.hb(16777216,null,null,1,null,He)),o.pb(8,16384,null,0,Pt.l,[o.P,o.M],{ngIf:[0,"ngIf"]},null)],function(n,t){n(t,8,0,t.component.showCallButton)},function(n,t){var e=t.component;n(t,3,0,e.addressBook.phone),n(t,5,0,e.addressBook.phone)})}function Ve(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,4,"li",[["class","slds-dropdown__item"]],null,[[null,"click"]],function(n,t,e){var l=!0,o=n.component;return"click"===t&&(l=!1!==o.onMakeCall(o.addressBook.mobile,n.context.$implicit.skillId)&&l),l},null,null)),(n()(),o.qb(1,0,null,null,3,"a",[["nglDropdownItem",""],["role","menuitem"],["tabindex","0"]],null,[[null,"click"],[null,"focus"],[null,"blur"]],function(n,t,e){var l=!0,i=n.component;return"focus"===t&&(l=!1!==o.Ab(n,2).onFocus()&&l),"blur"===t&&(l=!1!==o.Ab(n,2).onBlur()&&l),"click"===t&&(l=0!=(i.showOBSkillsMenu=!1)&&l),l},null,null)),o.pb(2,16384,[[2,4]],0,Et.Cb,[o.k],null,null),(n()(),o.qb(3,0,null,null,1,"div",[["class","slds-truncate"]],[[8,"title",0]],null,null,null,null)),(n()(),o.Hb(4,null,["",""]))],null,function(n,t){n(t,3,0,t.context.$implicit.skillName),n(t,4,0,t.context.$implicit.skillName)})}function Ge(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,3,"div",[["class","slds-dropdown slds-dropdown_right"]],null,null,null,null,null)),(n()(),o.qb(1,0,null,null,2,"ul",[["class","dropdown__list"],["role","menu"]],null,null,null,null,null)),(n()(),o.hb(16777216,null,null,1,null,Ve)),o.pb(3,278528,null,0,Pt.k,[o.P,o.M,o.s],{ngForOf:[0,"ngForOf"]},null)],function(n,t){n(t,3,0,t.component.obPhoneSkills)},null)}function Xe(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,10,"div",[],null,null,null,null,null)),(n()(),o.qb(1,0,null,null,9,"span",[["nglDropdown",""]],[[2,"slds-dropdown-trigger",null],[2,"slds-dropdown-trigger_click",null]],[[null,"openChange"],[null,"keydown.esc"],[null,"keydown.tab"],[null,"keydown.arrowdown"],[null,"keydown.arrowup"]],function(n,t,e){var l=!0,i=n.component;return"keydown.esc"===t&&(l=!1!==o.Ab(n,2).onKeydownClose("esc")&&l),"keydown.tab"===t&&(l=!1!==o.Ab(n,2).onKeydownClose("tab")&&l),"keydown.arrowdown"===t&&(l=!1!==o.Ab(n,2).onKeydownFocusNext(e,"next")&&l),"keydown.arrowup"===t&&(l=!1!==o.Ab(n,2).onKeydownFocusNext(e,"previous")&&l),"openChange"===t&&(l=!1!==(i.showOBSkillsMenu=e)&&l),l},null,null)),o.pb(2,212992,null,1,Et.Bb,[o.k,o.E],{isOpen:[0,"isOpen"]},{isOpenChange:"openChange"}),o.Fb(603979776,2,{items:1}),(n()(),o.qb(4,0,null,null,4,"button",[["aria-haspopup","true"],["class","slds-button slds-button_brand"],["nglDropdownTrigger",""]],[[8,"disabled",0]],[[null,"click"],[null,"keydown.arrowdown"]],function(n,t,e){var l=!0,i=n.component;return"click"===t&&(l=!1!==o.Ab(n,5).toggleOpen()&&l),"keydown.arrowdown"===t&&(l=!1!==o.Ab(n,5).onKeyDownOpen(e)&&l),"click"===t&&(l=!1!==i.callByDefaultSkill(i.addressBook.mobile)&&l),l},null,null)),o.pb(5,147456,null,0,Et.Db,[o.k,Et.Bb],null,null),(n()(),o.qb(6,0,null,null,2,"span",[["class","slds-truncate"]],null,null,null,null,null)),(n()(),o.Hb(7,null,["",""])),o.Bb(131072,d.i,[d.j,o.h]),(n()(),o.hb(16777216,null,null,1,null,Ge)),o.pb(10,16384,null,0,Pt.l,[o.P,o.M],{ngIf:[0,"ngIf"]},null)],function(n,t){var e=t.component;n(t,2,0,e.showOBSkillsMenu),n(t,10,0,e.obPhoneSkills&&e.obPhoneSkills.length>1)},function(n,t){var e=t.component;n(t,1,0,!0,!0),n(t,4,0,e.obPhoneSkills&&0===e.obPhoneSkills.length),n(t,7,0,o.Ib(t,7,0,o.Ab(t,8).transform("call")))})}function Qe(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,8,"div",[["class","address-details slds-p-left_small slds-p-bottom_xx-small"]],null,[[null,"mouseleave"]],function(n,t,e){var l=!0;return"mouseleave"===t&&(l=0!=(n.component.showOBSkillsMenu=!1)&&l),l},null,null)),(n()(),o.qb(1,0,null,null,7,"div",[["class","slds-grid slds-wrap"]],null,null,null,null,null)),(n()(),o.qb(2,0,null,null,3,"div",[["class","slds-col slds-size_1-of-1"]],null,null,null,null,null)),(n()(),o.qb(3,0,null,null,2,"p",[["class","slds-truncate phone-number"]],[[8,"title",0]],null,null,null,null)),(n()(),o.qb(4,0,null,null,1,"strong",[],null,null,null,null,null)),(n()(),o.Hb(5,null,["",""])),(n()(),o.qb(6,0,null,null,2,"div",[["class","dial-phone-btn slds-p-right_small"]],null,null,null,null,null)),(n()(),o.hb(16777216,null,null,1,null,Xe)),o.pb(8,16384,null,0,Pt.l,[o.P,o.M],{ngIf:[0,"ngIf"]},null)],function(n,t){n(t,8,0,t.component.showCallButton)},function(n,t){var e=t.component;n(t,3,0,e.addressBook.mobile),n(t,5,0,e.addressBook.mobile)})}function $e(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,9,"div",[["class","address-book-details slds-p-vertical_x-small"]],null,null,null,null,null)),(n()(),o.qb(1,0,null,null,1,"p",[["class","slds-p-left_small slds-p-bottom_x-small address-book-name slds-truncate"]],[[8,"title",0]],null,null,null,null)),(n()(),o.Hb(2,null,[" "," "])),(n()(),o.hb(16777216,null,null,1,null,We)),o.pb(4,16384,null,0,Pt.l,[o.P,o.M],{ngIf:[0,"ngIf"]},null),(n()(),o.hb(16777216,null,null,1,null,Qe)),o.pb(6,16384,null,0,Pt.l,[o.P,o.M],{ngIf:[0,"ngIf"]},null),(n()(),o.qb(7,0,null,null,2,"p",[["class","slds-p-left_small slds-p-bottom_xx-small slds-truncate"]],[[8,"title",0]],null,null,null,null)),(n()(),o.qb(8,0,null,null,1,"strong",[],null,null,null,null,null)),(n()(),o.Hb(9,null,["",""]))],function(n,t){var e=t.component;n(t,4,0,e.addressBook.phone),n(t,6,0,e.addressBook.mobile)},function(n,t){var e=t.component;n(t,1,0,e.addressBook.addressBookName),n(t,2,0,e.addressBook.addressBookName),n(t,7,0,e.addressBook.email),n(t,9,0,e.addressBook.email)})}var Ke=function(){function n(n,t,e,l,o,i,s){this.adminSvc=n,this.validationUtilSvc=t,this.scrollDispatcher=e,this.agentSvc=l,this.containerSvc=o,this.changeDetector=i,this.logger=s,this.addressBookList=[],this.addressBookEntriesList=[],this.addressBooks=[],this.recordsToLoad=50,this.startIndex=0,this.loadMoreRecordsFlag=!1,this.showNoDataFound=!1,this.showNoAddressBookDataFound=!1,this.showSpinner=!1}return n.prototype.ngOnInit=function(){var t=this;this.logger.debug(n.className,"Initialize"),this.getAllAddressBook(),this.showCallButton=this.containerSvc.showCallButton(),this.contactUpdateEvent=this.agentSvc.contactUpdateEvent.subscribe(function(){t.showCallButton=t.containerSvc.showCallButton()}),this.obPhoneSkills=this.containerSvc.getAgentOutBoundSkills(),this.skillUpdateEvent=this.containerSvc.updateAgentSkillsChanges.subscribe(function(){t.obPhoneSkills=t.containerSvc.getAgentOutBoundSkills()})},n.prototype.sortAddressBookList=function(){this.addressBookList.sort(function(n,t){var e=n.addressBookName.toLowerCase(),l=t.addressBookName.toLowerCase();return e>l?1:e<l?-1:0})},n.prototype.getAllAddressBook=function(){var n=this;this.adminSvc.getAllAddressBooks().then(function(t){if(n.validationUtilSvc.isNotNullOrEmpty(t)&&n.validationUtilSvc.isNotNullOrEmptyArray(t)){n.addressBookList=t,n.sortAddressBookList(),n.selectedAddressBookId=n.addressBookList[0].addressBookId,n.addressBooks=[];for(var e=0;e<n.addressBookList.length;e++)n.addressBooks.push({label:n.addressBookList[e].addressBookName,value:n.addressBookList[e].addressBookId,record:n.addressBookList[e]});n.getAddressBookList(n.addressBookList[0])}else n.showNoAddressBookDataFound=!0})},n.prototype.ngAfterViewInit=function(){var n=this;this.scrollDispatcher.scrolled().pipe(Object(Te.a)(function(t){if(n.validationUtilSvc.isNotNullOrEmpty(n.virtualScroll))return n.virtualScroll.getRenderedRange().end===n.virtualScroll.getDataLength()})).subscribe(function(t){n.loadMoreRecordsFlag||(n.startIndex=n.startIndex+n.recordsToLoad,n.startIndex<=n.totalRecords&&(n.loadMoreRecordsFlag=!0,n.checkAddressBookEntriesType(n.selectedAddressBookDetails)))})},n.prototype.checkAddressBookEntriesType=function(n){this.showSpinner=!0,"Standard"===n.addressBookType?this.getStandardEntries(n):"Dynamic"===n.addressBookType&&this.getDynamicEntries(n)},n.prototype.selectAddressBook=function(n){this.selectedAddressBookId=n.value,this.getAddressBookList(n.record)},n.prototype.getAddressBookList=function(n){this.addressBookEntriesList=[],this.showNoDataFound=!1,this.loadMoreRecordsFlag=!0,this.recordsToLoad=50,this.startIndex=0,this.selectedAddressBookDetails=n,this.changeDetector.detectChanges(),this.checkAddressBookEntriesType(n)},n.prototype.getStandardEntries=function(n){var t=this;this.adminSvc.getStandardEntries(n.addressBookId,this.startIndex,this.recordsToLoad,"").then(function(n){t.showSpinner=!1,t.validationUtilSvc.isNotNullOrEmpty(n)&&(t.addressBookEntriesList=t.addressBookEntriesList.concat(n.addressBooksEntries),t.totalRecords=n.totalRecords,t.loadMoreRecordsFlag=!1,0===t.startIndex&&0===n.totalRecords&&(t.showNoDataFound=!0))},function(n){t.startIndex>0?t.startIndex=t.startIndex-t.recordsToLoad:t.showNoDataFound=!0,t.loadMoreRecordsFlag=!1}).finally(function(){t.showSpinner=!1})},n.prototype.getDynamicEntries=function(n){var t=this;this.adminSvc.getDynamicEntries(n.addressBookId,this.startIndex,this.recordsToLoad,"").then(function(n){t.showSpinner=!1,t.validationUtilSvc.isNotNullOrEmpty(n)&&(t.addressBookEntriesList=n.addressBooksEntries,t.totalRecords=n.totalRecords,t.loadMoreRecordsFlag=!1,0===t.startIndex&&0===n.totalRecords&&(t.showNoDataFound=!0))},function(n){t.startIndex>0?t.startIndex=t.startIndex-t.recordsToLoad:t.showNoDataFound=!0,t.loadMoreRecordsFlag=!1}).finally(function(){t.showSpinner=!1})},n.prototype.ngOnDestroy=function(){this.logger.debug(n.className,"Destroy"),this.validationUtilSvc.isNotNullOrEmpty(this.contactUpdateEvent)&&this.contactUpdateEvent.unsubscribe(),this.validationUtilSvc.isNotNullOrEmpty(this.skillUpdateEvent)&&this.skillUpdateEvent.unsubscribe()},n.className="AddressBooksComponent",n}(),Ye=o.ob({encapsulation:0,styles:[[".address-books[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%}.address-books[_ngcontent-%COMP%]   .address-book[_ngcontent-%COMP%]{flex:1}.address-books[_ngcontent-%COMP%]   .cdk-virtual-scroll-viewport[_ngcontent-%COMP%]{height:100%}.address-books[_ngcontent-%COMP%]   .cdk-virtual-scroll-viewport[_ngcontent-%COMP%]     .cdk-virtual-scroll-content-wrapper{max-width:100%;contain:none}"]],data:{}});function Ze(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,2,"div",[["class","slds-p-left_small slds-p-right_small slds-p-bottom_small"]],null,null,null,null,null)),(n()(),o.qb(1,0,null,null,1,"app-combo-box",[],null,[[null,"changeEvent"]],function(n,t,e){var l=!0;return"changeEvent"===t&&(l=!1!==n.component.selectAddressBook(e)&&l),l},ce,ee)),o.pb(2,573440,null,0,te,[S,f],{options:[0,"options"],isMultiSelect:[1,"isMultiSelect"],selectedOptions:[2,"selectedOptions"]},{changeEvent:"changeEvent"})],function(n,t){var e=t.component;n(t,2,0,e.addressBooks,!1,e.selectedAddressBookId)},null)}function nl(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,3,"div",[["class","full-height slds-align_absolute-center address-book-error-message"]],null,null,null,null,null)),(n()(),o.qb(1,0,null,null,2,"div",[["class","slds-p-left_small"]],null,null,null,null,null)),(n()(),o.Hb(2,null,["",""])),o.Bb(131072,d.i,[d.j,o.h])],null,function(n,t){n(t,2,0,o.Ib(t,2,0,o.Ab(t,3).transform("noItemsToDisplay")))})}function tl(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,2,"div",[],null,null,null,null,null)),(n()(),o.qb(1,0,null,null,1,"app-address-book-details",[],null,null,null,$e,Je)),o.pb(2,49152,null,0,je,[ot],{addressBook:[0,"addressBook"],obPhoneSkills:[1,"obPhoneSkills"],showCallButton:[2,"showCallButton"]},null)],function(n,t){var e=t.component;n(t,2,0,t.context.$implicit,e.obPhoneSkills,e.showCallButton)},null)}function el(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,7,"div",[["class","address-book"]],null,null,null,null,null)),(n()(),o.qb(1,0,null,null,6,"cdk-virtual-scroll-viewport",[["class","cdk-virtual-scroll-viewport"]],[[2,"cdk-virtual-scroll-orientation-horizontal",null],[2,"cdk-virtual-scroll-orientation-vertical",null]],null,null,be.b,be.a)),o.Eb(6144,null,me.b,null,[me.d]),o.pb(3,540672,null,0,me.a,[],{itemSize:[0,"itemSize"]},null),o.Eb(1024,null,me.i,me.k,[me.a]),o.pb(5,245760,[[1,4]],0,me.d,[o.k,o.h,o.z,[2,me.i],[2,Ce.b],me.f],null,null),(n()(),o.hb(16777216,null,0,1,null,tl)),o.pb(7,409600,null,0,me.c,[o.P,o.M,o.s,[1,me.d],o.z],{cdkVirtualForOf:[0,"cdkVirtualForOf"]},null)],function(n,t){var e=t.component;n(t,3,0,60),n(t,5,0),n(t,7,0,e.addressBookEntriesList)},function(n,t){n(t,1,0,"horizontal"===o.Ab(t,5).orientation,"horizontal"!==o.Ab(t,5).orientation)})}function ll(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,6,"div",[["class","address-books"]],null,null,null,null,null)),(n()(),o.hb(16777216,null,null,1,null,Ze)),o.pb(2,16384,null,0,Pt.l,[o.P,o.M],{ngIf:[0,"ngIf"]},null),(n()(),o.hb(16777216,null,null,1,null,nl)),o.pb(4,16384,null,0,Pt.l,[o.P,o.M],{ngIf:[0,"ngIf"]},null),(n()(),o.hb(16777216,null,null,1,null,el)),o.pb(6,16384,null,0,Pt.l,[o.P,o.M],{ngIf:[0,"ngIf"]},null)],function(n,t){var e=t.component;n(t,2,0,e.addressBooks&&e.addressBooks.length),n(t,4,0,e.showNoDataFound),n(t,6,0,!e.showNoDataFound)},null)}function ol(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,3,"div",[["class","full-height slds-align_absolute-center address-book-error-message"]],null,null,null,null,null)),(n()(),o.qb(1,0,null,null,2,"div",[["class","slds-p-left_small"]],null,null,null,null,null)),(n()(),o.Hb(2,null,["",""])),o.Bb(131072,d.i,[d.j,o.h])],null,function(n,t){n(t,2,0,o.Ib(t,2,0,o.Ab(t,3).transform("noItemsToDisplay")))})}function il(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,1,"app-loading-spinner",[],null,null,null,Kt,Qt)),o.pb(1,49152,null,0,Xt,[],null,null)],null,null)}function sl(n){return o.Jb(0,[o.Fb(671088640,1,{virtualScroll:0}),(n()(),o.hb(16777216,null,null,1,null,ll)),o.pb(2,16384,null,0,Pt.l,[o.P,o.M],{ngIf:[0,"ngIf"]},null),(n()(),o.hb(16777216,null,null,1,null,ol)),o.pb(4,16384,null,0,Pt.l,[o.P,o.M],{ngIf:[0,"ngIf"]},null),(n()(),o.hb(16777216,null,null,1,null,il)),o.pb(6,16384,null,0,Pt.l,[o.P,o.M],{ngIf:[0,"ngIf"]},null)],function(n,t){var e=t.component;n(t,2,0,!e.showNoAddressBookDataFound),n(t,4,0,e.showNoAddressBookDataFound),n(t,6,0,e.showSpinner)},null)}var cl=function(){function n(n,t){this.containerSvc=n,this.dateTimeUtilSvc=t,this.mediaType={1:"Email",3:"Chat",4:"Phone",5:"VoiceMail",6:"WorkItem"}}return n.prototype.ngOnInit=function(){this.isValidNumber=/^(\+[0-9])?([0-9\*#]{0,28})$/.test(this.contact.phoneNumber),this.duration=this.dateTimeUtilSvc.getTimeDuration(this.contact.startTime,this.contact.endTime)},n.prototype.onMakeCall=function(n){var t=this,e={phoneNumber:this.contact.phoneNumber,skillId:n};this.containerSvc.holdContact().then(function(){t.containerSvc.dialPhone(e)})},n.prototype.callByDefaultSkill=function(){this.obPhoneSkills&&1===this.obPhoneSkills.length&&this.onMakeCall(this.obPhoneSkills[0].skillId)},n}(),al=o.ob({encapsulation:0,styles:[[".full-height[_ngcontent-%COMP%], html[_ngcontent-%COMP%], html[_ngcontent-%COMP%]   body[_ngcontent-%COMP%]{height:100%}.no-strech[_ngcontent-%COMP%]{flex:0}.strech[_ngcontent-%COMP%]{flex:1;position:relative}.no-scroll[_ngcontent-%COMP%]{overflow:hidden}.full-height-flex[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;justify-content:center}.center-align[_ngcontent-%COMP%]{text-align:center}.cursor-pointer[_ngcontent-%COMP%]{cursor:pointer}.text-wrap[_ngcontent-%COMP%]{word-wrap:break-word}.text-bold[_ngcontent-%COMP%]{font-weight:700}.cdk-overlay-container[_ngcontent-%COMP%]   .slds-modal__container[_ngcontent-%COMP%]{margin:0;padding:0}.cdk-overlay-container[_ngcontent-%COMP%]   .slds-modal__content[_ngcontent-%COMP%]{height:100%}.cdk-global-scrollblock[_ngcontent-%COMP%]{overflow-y:auto!important}@media (min-width:48em){.slds-scope[_ngcontent-%COMP%]   .slds-modal--large[_ngcontent-%COMP%]   .slds-modal__container[_ngcontent-%COMP%], .slds-scope[_ngcontent-%COMP%]   .slds-modal_large[_ngcontent-%COMP%]   .slds-modal__container[_ngcontent-%COMP%]{width:100%;height:100%}}.pull-down[_ngcontent-%COMP%]{position:absolute;bottom:0;width:100%}.dialog-style[_ngcontent-%COMP%]{position:fixed;top:0;background-color:#fff;right:0;left:0;box-shadow:0 0 5px grey;z-index:1001}.schedule-container[_ngcontent-%COMP%]   .fc-widget-content[_ngcontent-%COMP%]{background-color:#fff}.schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%]{opacity:.75;text-indent:3px}.schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-event[_ngcontent-%COMP%]{border-radius:0;cursor:default;color:#01396a;min-height:2rem}.schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-event[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%]{font-weight:700}.schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%]:hover, .schedule-container[_ngcontent-%COMP%]   .fc-event[_ngcontent-%COMP%]:hover{text-decoration:none;color:#01396a}.schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%]   .fc-title[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-event[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-event[_ngcontent-%COMP%]   .fc-title[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-slats[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-slats[_ngcontent-%COMP%]   .fc-title[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-title[_ngcontent-%COMP%]{font-size:.8rem}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-content[_ngcontent-%COMP%]{display:flex}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-title[_ngcontent-%COMP%]{display:inline-block;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.schedule-container[_ngcontent-%COMP%]   .commitment-event[_ngcontent-%COMP%]{background-color:#d9d9d9;border-color:#d9d9d9}.schedule-container[_ngcontent-%COMP%]   .commitment-event[_ngcontent-%COMP%]:hover{cursor:pointer}.schedule-container[_ngcontent-%COMP%]   .fc-header-toolbar[_ngcontent-%COMP%]   .fc-left[_ngcontent-%COMP%]{margin-left:10px}.schedule-container[_ngcontent-%COMP%]   .fc-button-group[_ngcontent-%COMP%]{font-size:.6rem}.schedule-container[_ngcontent-%COMP%]   .fc-button-group[_ngcontent-%COMP%]   .fc-button-primary[_ngcontent-%COMP%]{background-color:#fff;border-color:grey;color:grey;box-shadow:none}.schedule-container[_ngcontent-%COMP%]   .fc-button-group[_ngcontent-%COMP%]   .fc-button-primary[_ngcontent-%COMP%]:not(:disabled):active{box-shadow:none}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]{min-height:1rem}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%]::before{display:none}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid[_ngcontent-%COMP%]   .fc-slats[_ngcontent-%COMP%]   .fc-minor[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-top:0}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-container[_ngcontent-%COMP%]{overflow:visible!important}.slds-scope[_ngcontent-%COMP%]   .slds-button[_ngcontent-%COMP%]:not([disabled]){color:#0672d4}.slds-scope[_ngcontent-%COMP%]   .slds-button.slds-button_brand[_ngcontent-%COMP%]{color:#fff}.slds-scope[_ngcontent-%COMP%]   .slds-button.decline-button[_ngcontent-%COMP%]:not([disabled]){color:#c13834;border-color:#c13834}.slds-scope[_ngcontent-%COMP%]   .slds-button.accept-button[_ngcontent-%COMP%]:not([disabled]){color:#fff}.slds-scope[_ngcontent-%COMP%]   .slds-slider__range[_ngcontent-%COMP%]{-webkit-appearance:none}.slds-scope[_ngcontent-%COMP%]   .slds-slider__range[_ngcontent-%COMP%]::-webkit-slider-thumb{-webkit-appearance:none;appearance:none}.initialize-softphone[_ngcontent-%COMP%]   .slds-spinner[_ngcontent-%COMP%]{margin-left:-6em}.slds-scope[_ngcontent-%COMP%]   .cdk-overlay-container[_ngcontent-%COMP%]{position:absolute}.unread-icon[_ngcontent-%COMP%]{height:.5rem;width:.5rem;border-radius:50%;display:inline-block;background-color:#1589ee}.unread-icon.visited[_ngcontent-%COMP%]{background:0 0}.contact[_ngcontent-%COMP%]{cursor:pointer;position:relative}.contact[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.contact[_ngcontent-%COMP%]   .skill-name[_ngcontent-%COMP%]{font-weight:700}.contact[_ngcontent-%COMP%]   .duration[_ngcontent-%COMP%]{float:right}.contact[_ngcontent-%COMP%]   .skill-button-section[_ngcontent-%COMP%]{display:none}.contact[_ngcontent-%COMP%]   .skill-button-section[_ngcontent-%COMP%]   .slds-button[_ngcontent-%COMP%]{width:5rem;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.contact[_ngcontent-%COMP%]:hover{background-color:#e7f3fd}.contact[_ngcontent-%COMP%]:hover   .skill-button-section[_ngcontent-%COMP%]{display:block;right:.6rem;background-color:#e7f3fd}"]],data:{}});function rl(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,4,"li",[["class","slds-dropdown__item"]],null,[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.onMakeCall(n.context.$implicit.skillId)&&l),l},null,null)),(n()(),o.qb(1,0,null,null,3,"a",[["nglDropdownItem",""],["tabindex","0"]],null,[[null,"click"],[null,"focus"],[null,"blur"]],function(n,t,e){var l=!0,i=n.component;return"focus"===t&&(l=!1!==o.Ab(n,2).onFocus()&&l),"blur"===t&&(l=!1!==o.Ab(n,2).onBlur()&&l),"click"===t&&(l=0!=(i.showOBSkillsMenu=!1)&&l),l},null,null)),o.pb(2,16384,[[1,4]],0,Et.Cb,[o.k],null,null),(n()(),o.qb(3,0,null,null,1,"div",[["class","slds-truncate"]],[[8,"title",0]],null,null,null,null)),(n()(),o.Hb(4,null,["",""]))],null,function(n,t){n(t,3,0,t.context.$implicit.skillName),n(t,4,0,t.context.$implicit.skillName)})}function ul(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,3,"div",[["class","slds-dropdown slds-dropdown_right"]],null,null,null,null,null)),(n()(),o.qb(1,0,null,null,2,"ul",[["class","dropdown__list"]],null,null,null,null,null)),(n()(),o.hb(16777216,null,null,1,null,rl)),o.pb(3,278528,null,0,Pt.k,[o.P,o.M,o.s],{ngForOf:[0,"ngForOf"]},null)],function(n,t){n(t,3,0,t.component.obPhoneSkills)},null)}function dl(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,10,"div",[["class","skill-button-section slds-is-absolute slds-p-top_small"]],null,null,null,null,null)),(n()(),o.qb(1,0,null,null,9,"span",[["nglDropdown",""]],[[2,"slds-dropdown-trigger",null],[2,"slds-dropdown-trigger_click",null]],[[null,"openChange"],[null,"keydown.esc"],[null,"keydown.tab"],[null,"keydown.arrowdown"],[null,"keydown.arrowup"]],function(n,t,e){var l=!0,i=n.component;return"keydown.esc"===t&&(l=!1!==o.Ab(n,2).onKeydownClose("esc")&&l),"keydown.tab"===t&&(l=!1!==o.Ab(n,2).onKeydownClose("tab")&&l),"keydown.arrowdown"===t&&(l=!1!==o.Ab(n,2).onKeydownFocusNext(e,"next")&&l),"keydown.arrowup"===t&&(l=!1!==o.Ab(n,2).onKeydownFocusNext(e,"previous")&&l),"openChange"===t&&(l=!1!==(i.showOBSkillsMenu=e)&&l),l},null,null)),o.pb(2,212992,null,1,Et.Bb,[o.k,o.E],{isOpen:[0,"isOpen"]},{isOpenChange:"openChange"}),o.Fb(603979776,1,{items:1}),(n()(),o.qb(4,0,null,null,4,"button",[["aria-haspopup","true"],["class","slds-button slds-button_brand"],["nglDropdownTrigger",""]],[[8,"disabled",0]],[[null,"click"],[null,"keydown.arrowdown"]],function(n,t,e){var l=!0,i=n.component;return"click"===t&&(l=!1!==o.Ab(n,5).toggleOpen()&&l),"keydown.arrowdown"===t&&(l=!1!==o.Ab(n,5).onKeyDownOpen(e)&&l),"click"===t&&(l=!1!==i.callByDefaultSkill()&&l),l},null,null)),o.pb(5,147456,null,0,Et.Db,[o.k,Et.Bb],null,null),(n()(),o.qb(6,0,null,null,2,"span",[["class","slds-truncate"]],null,null,null,null,null)),(n()(),o.Hb(7,null,["",""])),o.Bb(131072,d.i,[d.j,o.h]),(n()(),o.hb(16777216,null,null,1,null,ul)),o.pb(10,16384,null,0,Pt.l,[o.P,o.M],{ngIf:[0,"ngIf"]},null)],function(n,t){var e=t.component;n(t,2,0,e.showOBSkillsMenu),n(t,10,0,e.obPhoneSkills&&e.obPhoneSkills.length>1)},function(n,t){var e=t.component;n(t,1,0,!0,!0),n(t,4,0,e.obPhoneSkills&&0===e.obPhoneSkills.length||!e.isValidNumber),n(t,7,0,o.Ib(t,7,0,o.Ab(t,8).transform("call")))})}function gl(n){return o.Jb(0,[o.Bb(0,Pt.d,[o.u]),(n()(),o.qb(1,0,null,null,15,"div",[["class"," contact slds-grid slds-p-vertical_x-small slds-p-horizontal_small slds-m-bottom_xx-small"]],null,[[null,"mouseleave"]],function(n,t,e){var l=!0;return"mouseleave"===t&&(l=0!=(n.component.showOBSkillsMenu=!1)&&l),l},null,null)),(n()(),o.qb(2,0,null,null,9,"div",[["class","slds-col slds-size_3-of-4"]],null,null,null,null,null)),(n()(),o.qb(3,0,null,null,2,"div",[["class","container"]],null,null,null,null,null)),(n()(),o.Hb(4,null,[" "," "])),o.Db(5,2),(n()(),o.qb(6,0,null,null,1,"div",[["class","container"]],null,null,null,null,null)),(n()(),o.Hb(7,null,[" "," "])),(n()(),o.qb(8,0,null,null,1,"div",[["class","container"]],null,null,null,null,null)),(n()(),o.Hb(9,null,[" "," "," "])),(n()(),o.qb(10,0,null,null,1,"div",[["class","skill-name container"]],[[8,"title",0]],null,null,null,null)),(n()(),o.Hb(11,null,[" ",""])),(n()(),o.qb(12,0,null,null,2,"div",[["class","slds-col slds-size_1-of-4"]],null,null,null,null,null)),(n()(),o.qb(13,0,null,null,1,"div",[["class","duration slds-m-top_small"]],null,null,null,null,null)),(n()(),o.Hb(14,null,[" "," "])),(n()(),o.hb(16777216,null,null,1,null,dl)),o.pb(16,16384,null,0,Pt.l,[o.P,o.M],{ngIf:[0,"ngIf"]},null)],function(n,t){var e=t.component;n(t,16,0,e.showCallButton&&4===e.contact.mediaTypeId)},function(n,t){var e=t.component,l=o.Ib(t,4,0,n(t,5,0,o.Ab(t,0),e.contact.startTime,"MM/dd/yyyy hh:mm a"));n(t,4,0,l),n(t,7,0,e.contact.phoneNumber),n(t,9,0,e.contact.type,e.mediaType[e.contact.mediaTypeId]),n(t,10,0,e.contact.skillName),n(t,11,0,e.contact.skillName),n(t,14,0,e.duration)})}var hl=function(){function n(n,t,e,l){this.agentSvc=n,this.containerSvc=t,this.validationUtilSvc=e,this.logger=l,this.contactHistory=[],this.canShowSpinner=!0}return n.prototype.ngOnInit=function(){var t=this;this.logger.debug(n.className,"Initialize"),this.getContactHistory(),this.showCallButton=this.containerSvc.showCallButton(),this.contactUpdateEvent=this.agentSvc.contactUpdateEvent.subscribe(function(n){t.showCallButton=t.containerSvc.showCallButton()}),this.obPhoneSkills=this.containerSvc.getAgentOutBoundSkills(),this.skillUpdateEvent=this.containerSvc.updateAgentSkillsChanges.subscribe(function(){t.obPhoneSkills=t.containerSvc.getAgentOutBoundSkills()})},n.prototype.getContactHistory=function(){var n=this,t=new Date,e=new Date;t.setDate(t.getDate()-7),t.setHours(0,0,0,0),e.setHours(23,59,59,0);var l={startDate:t.toISOString(),endDate:e.toISOString()};this.agentSvc.getContactHistory(l).then(function(t){n.canShowSpinner=!1,0===t.length?n.showNoDataFound=!0:(n.showNoDataFound=!1,n.contactHistory=t.reverse())})},n.prototype.ngOnDestroy=function(){this.logger.debug(n.className,"Destroy"),this.validationUtilSvc.isNotNullOrUndefined(this.contactUpdateEvent)&&this.contactUpdateEvent.unsubscribe(),this.validationUtilSvc.isNotNullOrEmpty(this.skillUpdateEvent)&&this.skillUpdateEvent.unsubscribe()},n.className="ContactHistoryComponent",n}(),pl=o.ob({encapsulation:0,styles:[[".contact-history[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%}.contact-history[_ngcontent-%COMP%]   .contact-container[_ngcontent-%COMP%]{flex:1}.contact-history[_ngcontent-%COMP%]   .contact-container[_ngcontent-%COMP%]   .cdk-virtual-scroll-viewport[_ngcontent-%COMP%]{height:100%}.contact-history[_ngcontent-%COMP%]   .contact-container[_ngcontent-%COMP%]   .cdk-virtual-scroll-viewport[_ngcontent-%COMP%]     .cdk-virtual-scroll-content-wrapper{max-width:100%;contain:none}"]],data:{}});function fl(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,1,"app-loading-spinner",[],null,null,null,Kt,Qt)),o.pb(1,49152,null,0,Xt,[],null,null)],null,null)}function bl(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,3,"div",[["class","full-height slds-align_absolute-center address-book-error-message"]],null,null,null,null,null)),(n()(),o.qb(1,0,null,null,2,"div",[["class","slds-p-left_small"]],null,null,null,null,null)),(n()(),o.Hb(2,null,["",""])),o.Bb(131072,d.i,[d.j,o.h])],null,function(n,t){n(t,2,0,o.Ib(t,2,0,o.Ab(t,3).transform("noItemsToDisplay")))})}function ml(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,2,"div",[],null,null,null,null,null)),(n()(),o.qb(1,0,null,null,1,"app-contact-history-details",[],null,null,null,gl,al)),o.pb(2,114688,null,0,cl,[ot,P],{contact:[0,"contact"],showCallButton:[1,"showCallButton"],obPhoneSkills:[2,"obPhoneSkills"]},null)],function(n,t){var e=t.component;n(t,2,0,t.context.$implicit,e.showCallButton,e.obPhoneSkills)},null)}function Cl(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,7,"div",[["class","contact-container"]],null,null,null,null,null)),(n()(),o.qb(1,0,null,null,6,"cdk-virtual-scroll-viewport",[["class","cdk-virtual-scroll-viewport"]],[[2,"cdk-virtual-scroll-orientation-horizontal",null],[2,"cdk-virtual-scroll-orientation-vertical",null]],null,null,be.b,be.a)),o.Eb(6144,null,me.b,null,[me.d]),o.pb(3,540672,null,0,me.a,[],{itemSize:[0,"itemSize"]},null),o.Eb(1024,null,me.i,me.k,[me.a]),o.pb(5,245760,null,0,me.d,[o.k,o.h,o.z,[2,me.i],[2,Ce.b],me.f],null,null),(n()(),o.hb(16777216,null,0,1,null,ml)),o.pb(7,409600,null,0,me.c,[o.P,o.M,o.s,[1,me.d],o.z],{cdkVirtualForOf:[0,"cdkVirtualForOf"]},null)],function(n,t){var e=t.component;n(t,3,0,60),n(t,5,0),n(t,7,0,e.contactHistory)},function(n,t){n(t,1,0,"horizontal"===o.Ab(t,5).orientation,"horizontal"!==o.Ab(t,5).orientation)})}function vl(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,6,"div",[["class","contact-history"]],null,null,null,null,null)),(n()(),o.hb(16777216,null,null,1,null,fl)),o.pb(2,16384,null,0,Pt.l,[o.P,o.M],{ngIf:[0,"ngIf"]},null),(n()(),o.hb(16777216,null,null,1,null,bl)),o.pb(4,16384,null,0,Pt.l,[o.P,o.M],{ngIf:[0,"ngIf"]},null),(n()(),o.hb(16777216,null,null,1,null,Cl)),o.pb(6,16384,null,0,Pt.l,[o.P,o.M],{ngIf:[0,"ngIf"]},null)],function(n,t){var e=t.component;n(t,2,0,e.canShowSpinner),n(t,4,0,e.showNoDataFound),n(t,6,0,!e.showNoDataFound)},null)}var _l=function(){function n(n,t,e,l,i){this.adminSvc=n,this.logger=t,this.validationUtilSvc=e,this.containerSvc=l,this.agentSvc=i,this.addressBooksList=[],this.minRecordsToLoad=2,this.maxRecordsToLoad=50,this.showAddressBook=!1,this.obPhoneSkills=[],this.hasData=new o.m,this.initialSearchCompleted=!1}return n.prototype.ngOnInit=function(){var n=this;this.obPhoneSkills=this.containerSvc.getAgentOutBoundSkills(),this.skillUpdateEvent=this.containerSvc.updateAgentSkillsChanges.subscribe(function(){n.obPhoneSkills=n.containerSvc.getAgentOutBoundSkills()}),this.showCallButton=this.containerSvc.showCallButton(),this.contactUpdateEvent=this.agentSvc.contactUpdateEvent.subscribe(function(){n.showCallButton=n.containerSvc.showCallButton()})},n.prototype.ngOnChanges=function(n){n.searchText.currentValue!==n.searchText.previousValue&&(this.resetSearchParams(),this.getAllAddressBook())},n.prototype.resetSearchParams=function(){this.addressBooksList=[],this.showAddressBook=!1,this.initialSearchCompleted=!1},n.prototype.sortAddressBookList=function(){this.addressBooksList.sort(function(n,t){var e=n.addressBookName.toLowerCase(),l=t.addressBookName.toLowerCase();return e>l?1:e<l?-1:0})},n.prototype.getAllAddressBook=function(){var t=this;this.adminSvc.getAllAddressBooks().then(function(e){t.logger.debug(n.className,"Getting Address Books SUCCESS "),t.validationUtilSvc.isNotNullOrEmptyArray(e)&&(t.addressBooksList=e,t.sortAddressBookList(),t.addressBooksList.forEach(function(n){t.loadMoreABEntries(n)}))})},n.prototype.loadMoreABEntries=function(n){var t,e=this;n.recordsToLoad=0===n.displayAddressBookEntries.length?this.minRecordsToLoad:this.maxRecordsToLoad,"Standard"===n.addressBookType?t=this.adminSvc.getStandardEntries(n.addressBookId,n.startIndex,n.recordsToLoad,this.searchText):"Dynamic"===n.addressBookType&&(t=this.adminSvc.getDynamicEntries(n.addressBookId,n.startIndex,n.recordsToLoad,this.searchText)),n.canShowSpinner=!0,t.then(function(n){if(e.validationUtilSvc.isNotNullOrEmpty(n)&&n.hasOwnProperty("addressBookId")){var t=e.addressBooksList.find(function(t){return t.addressBookId===n.addressBookId});t.addressBookEntries=t.addressBookEntries.concat(n.addressBooksEntries),t.startIndex=t.addressBookEntries.length,t.totalRecords=n.totalRecords,t.totalRecords>0&&(e.showAddressBook=!0),t.startIndex===t.totalRecords&&(t.showLoadMore=!1),t.canShowSpinner=!1,e.setDisplayAddressBookEntries(t),!e.initialSearchCompleted&&n.totalRecords>0&&(e.initialSearchCompleted=!0,e.hasData.emit(!0))}})},n.prototype.setDisplayAddressBookEntries=function(n){var t=n.displayAddressBookEntries.length;if(0===t)n.addressBookEntries.length>=this.minRecordsToLoad?n.displayAddressBookEntries=n.addressBookEntries.slice(0,this.minRecordsToLoad):n.startIndex===n.totalRecords?n.displayAddressBookEntries=n.displayAddressBookEntries.concat(n.addressBookEntries):this.loadMoreABEntries(n);else{var e=n.addressBookEntries.slice(t,t+n.recordsToLoad);n.displayAddressBookEntries=n.displayAddressBookEntries.concat(e)}},n.prototype.ngOnDestroy=function(){this.validationUtilSvc.isNotNullOrEmpty(this.contactUpdateEvent)&&this.contactUpdateEvent.unsubscribe(),this.validationUtilSvc.isNotNullOrEmpty(this.skillUpdateEvent)&&this.skillUpdateEvent.unsubscribe()},n.className="AddressBookSearchComponent",n}(),Ol=o.ob({encapsulation:0,styles:[[""]],data:{}});function Ml(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,4,"div",[["class","slds-spinner_container"]],null,null,null,null,null)),(n()(),o.qb(1,0,null,null,3,"div",[["class","slds-align_absolute-center"]],null,null,null,null,null)),(n()(),o.qb(2,0,null,null,2,"div",[["class","slds-spinner slds-spinner_medium slds-spinner_brand"],["role","status"]],null,null,null,null,null)),(n()(),o.qb(3,0,null,null,0,"div",[["class","slds-spinner__dot-a"]],null,null,null,null,null)),(n()(),o.qb(4,0,null,null,0,"div",[["class","slds-spinner__dot-b"]],null,null,null,null,null))],null,null)}function Pl(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,2,"div",[],null,null,null,null,null)),(n()(),o.qb(1,0,null,null,1,"app-address-book-details",[],null,null,null,$e,Je)),o.pb(2,49152,null,0,je,[ot],{addressBook:[0,"addressBook"],obPhoneSkills:[1,"obPhoneSkills"],showCallButton:[2,"showCallButton"]},null)],function(n,t){var e=t.component;n(t,2,0,t.context.$implicit,e.obPhoneSkills,e.showCallButton)},null)}function Sl(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,3,"div",[],null,null,null,null,null)),(n()(),o.qb(1,0,null,null,2,"button",[["class","slds-button slds-p-left_x-small slds-p-vertical_xx-small load-more"]],null,[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.loadMoreABEntries(n.parent.parent.context.$implicit)&&l),l},null,null)),(n()(),o.Hb(2,null,["",""])),o.Bb(131072,d.i,[d.j,o.h])],null,function(n,t){n(t,2,0,o.Ib(t,2,0,o.Ab(t,3).transform("loadMore")))})}function yl(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,9,"div",[],null,null,null,null,null)),(n()(),o.hb(16777216,null,null,1,null,Ml)),o.pb(2,16384,null,0,Pt.l,[o.P,o.M],{ngIf:[0,"ngIf"]},null),(n()(),o.qb(3,0,null,null,6,"div",[],null,null,null,null,null)),(n()(),o.qb(4,0,null,null,1,"label",[["class","slds-p-left_x-small slds-p-vertical_small search-title"]],null,null,null,null,null)),(n()(),o.Hb(5,null,["",""])),(n()(),o.hb(16777216,null,null,1,null,Pl)),o.pb(7,278528,null,0,Pt.k,[o.P,o.M,o.s],{ngForOf:[0,"ngForOf"]},null),(n()(),o.hb(16777216,null,null,1,null,Sl)),o.pb(9,16384,null,0,Pt.l,[o.P,o.M],{ngIf:[0,"ngIf"]},null)],function(n,t){n(t,2,0,t.parent.context.$implicit.canShowSpinner),n(t,7,0,t.parent.context.$implicit.displayAddressBookEntries),n(t,9,0,t.parent.context.$implicit.showLoadMore)},function(n,t){n(t,5,0,t.parent.context.$implicit.addressBookName)})}function kl(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,2,"div",[],null,null,null,null,null)),(n()(),o.hb(16777216,null,null,1,null,yl)),o.pb(2,16384,null,0,Pt.l,[o.P,o.M],{ngIf:[0,"ngIf"]},null)],function(n,t){n(t,2,0,t.context.$implicit.displayAddressBookEntries.length>0)},null)}function wl(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,5,"div",[["class","slds-m-top_small"]],null,null,null,null,null)),(n()(),o.qb(1,0,null,null,2,"div",[["class","slds-p-left_x-small slds-p-vertical_small search-title"]],null,null,null,null,null)),(n()(),o.Hb(2,null,["",""])),o.Bb(131072,d.i,[d.j,o.h]),(n()(),o.hb(16777216,null,null,1,null,kl)),o.pb(5,278528,null,0,Pt.k,[o.P,o.M,o.s],{ngForOf:[0,"ngForOf"]},null)],function(n,t){n(t,5,0,t.component.addressBooksList)},function(n,t){n(t,2,0,o.Ib(t,2,0,o.Ab(t,3).transform("addressBook")))})}function Il(n){return o.Jb(0,[(n()(),o.hb(16777216,null,null,1,null,wl)),o.pb(1,16384,null,0,Pt.l,[o.P,o.M],{ngIf:[0,"ngIf"]},null)],function(n,t){n(t,1,0,t.component.showAddressBook)},null)}var Nl=function(){function n(n,t,e){this.agentSvc=n,this.containerSvc=t,this.validationUtilSvc=e,this.contactHistoryList=[],this.filteredContactHistoryList=[],this.recordsToLoad=0,this.minRecordsToLoad=2,this.maxRecordsToLoad=50,this.displayContactHistoryList=[],this.showLoadMore=!1,this.hasData=new o.m}return n.prototype.ngOnInit=function(){var n=this;this.getContactHistory(),this.showCallButton=this.containerSvc.showCallButton(),this.contactUpdateEvent=this.agentSvc.contactUpdateEvent.subscribe(function(t){n.showCallButton=n.containerSvc.showCallButton()}),this.obPhoneSkills=this.containerSvc.getAgentOutBoundSkills(),this.skillUpdateEvent=this.containerSvc.updateAgentSkillsChanges.subscribe(function(){n.obPhoneSkills=n.containerSvc.getAgentOutBoundSkills()})},n.prototype.ngOnChanges=function(n){n.searchText.firstChange||n.searchText.currentValue===n.searchText.previousValue||(this.resetSearchParams(),this.searchContactHistory())},n.prototype.searchContactHistory=function(){this.filterContacts(),this.loadMoreContactHistory(),this.hasData.emit(this.displayContactHistoryList.length>0)},n.prototype.getContactHistory=function(){var n=this,t=new Date,e=new Date;t.setDate(t.getDate()-7),t.setHours(0,0,0,0),e.setHours(23,59,59,0);var l={startDate:t.toISOString(),endDate:e.toISOString()};this.agentSvc.getContactHistory(l).then(function(t){n.contactHistoryList=t.reverse(),n.searchContactHistory()})},n.prototype.filterContacts=function(){var n=this;this.filteredContactHistoryList=this.contactHistoryList.filter(function(t){return t.phoneNumber.toString().indexOf(n.searchText)>-1})},n.prototype.resetSearchParams=function(){this.displayContactHistoryList=[],this.filteredContactHistoryList=[],this.recordsToLoad=0,this.showLoadMore=!1},n.prototype.loadMoreContactHistory=function(){var n,t=this.displayContactHistoryList.length;this.recordsToLoad=0===t?this.minRecordsToLoad:this.maxRecordsToLoad,n=this.filteredContactHistoryList.slice(t,t+this.recordsToLoad),this.displayContactHistoryList=this.displayContactHistoryList.concat(n),this.canShowLoadMore()},n.prototype.canShowLoadMore=function(){this.showLoadMore=this.displayContactHistoryList.length!==this.filteredContactHistoryList.length},n.prototype.ngOnDestroy=function(){this.validationUtilSvc.isNotNullOrEmpty(this.contactUpdateEvent)&&this.contactUpdateEvent.unsubscribe(),this.validationUtilSvc.isNotNullOrEmpty(this.skillUpdateEvent)&&this.skillUpdateEvent.unsubscribe()},n}(),xl=o.ob({encapsulation:0,styles:[[""]],data:{}});function Al(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,2,"div",[],null,null,null,null,null)),(n()(),o.qb(1,0,null,null,1,"app-contact-history-details",[],null,null,null,gl,al)),o.pb(2,114688,null,0,cl,[ot,P],{contact:[0,"contact"],showCallButton:[1,"showCallButton"],obPhoneSkills:[2,"obPhoneSkills"]},null)],function(n,t){var e=t.component;n(t,2,0,t.context.$implicit,e.showCallButton,e.obPhoneSkills)},null)}function Tl(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,3,"div",[],null,null,null,null,null)),(n()(),o.qb(1,0,null,null,2,"button",[["class","slds-button slds-p-left_x-small slds-p-vertical_xx-small load-more"]],null,[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.loadMoreContactHistory()&&l),l},null,null)),(n()(),o.Hb(2,null,["",""])),o.Bb(131072,d.i,[d.j,o.h])],null,function(n,t){n(t,2,0,o.Ib(t,2,0,o.Ab(t,3).transform("loadMore")))})}function El(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,7,"div",[["class","slds-m-top_small"]],null,null,null,null,null)),(n()(),o.qb(1,0,null,null,2,"label",[["class","slds-p-left_x-small slds-p-vertical_small search-title"]],null,null,null,null,null)),(n()(),o.Hb(2,null,["",""])),o.Bb(131072,d.i,[d.j,o.h]),(n()(),o.hb(16777216,null,null,1,null,Al)),o.pb(5,278528,null,0,Pt.k,[o.P,o.M,o.s],{ngForOf:[0,"ngForOf"]},null),(n()(),o.hb(16777216,null,null,1,null,Tl)),o.pb(7,16384,null,0,Pt.l,[o.P,o.M],{ngIf:[0,"ngIf"]},null)],function(n,t){var e=t.component;n(t,5,0,e.displayContactHistoryList),n(t,7,0,e.showLoadMore)},function(n,t){n(t,2,0,o.Ib(t,2,0,o.Ab(t,3).transform("history")))})}function Dl(n){return o.Jb(0,[(n()(),o.hb(16777216,null,null,1,null,El)),o.pb(1,16384,null,0,Pt.l,[o.P,o.M],{ngIf:[0,"ngIf"]},null)],function(n,t){n(t,1,0,0!==t.component.displayContactHistoryList.length)},null)}var Ul=function(){function n(n,t,e,l,i,s){this.adminSvc=n,this.containerSvc=t,this.localStorageSvc=e,this.agentSvc=l,this.logger=i,this.validationUtilSvc=s,this.agentsList=[],this.filteredAgentsList=[],this.minRecordsToLoad=2,this.maxRecordsToLoad=50,this.recordsToLoad=0,this.updatedSince=new Date(0).toISOString(),this.displayAgentsList=[],this.showLoadMore=!1,this.hasData=new o.m}return n.prototype.ngOnInit=function(){var n=this;this.agentInfo=JSON.parse(this.localStorageSvc.get(g.AgentInfo)),this.agentId=M.toNumber(this.agentInfo.agentId),this.getAllAgents(!1),this.showTransferButton=this.containerSvc.showTransferButton(),this.showCallButton=this.containerSvc.showCallButton(),this.contactUpdateEvent=this.agentSvc.contactUpdateEvent.subscribe(function(){n.showTransferButton=n.containerSvc.showTransferButton(),n.showCallButton=n.containerSvc.showCallButton()}),this.agentsTimer=setInterval(function(){n.getAllAgents(!0)},5e3)},n.prototype.ngOnChanges=function(n){n.searchText.firstChange||n.searchText.currentValue===n.searchText.previousValue||(this.resetSearchParams(),this.searchAgents())},n.prototype.resetSearchParams=function(){this.displayAgentsList=[],this.filteredAgentsList=[],this.recordsToLoad=0,this.showLoadMore=!1,this.updatedSince=new Date(0).toISOString()},n.prototype.searchAgents=function(){this.filterAgents(),this.sortFilteredAgents(),this.loadMoreAgents(),this.hasData.emit(this.displayAgentsList.length>0)},n.prototype.getAllAgents=function(t){var e=this;void 0===t&&(t=!1),this.adminSvc.getAllAgents(this.updatedSince).then(function(l){e.logger.debug(n.className,"Getting Agent Details SUCCESS "),e.updatedSince=l.updatedSince,t?e.updateAgentStatus(l.agentList):(e.agentsList=l.agentList.filter(function(n){return M.toNumber(n.agentId)!==e.agentId}),e.validationUtilSvc.isNotNullOrEmptyArray(e.agentsList)&&e.searchAgents())})},n.prototype.updateAgentStatus=function(n){var t=this;this.validationUtilSvc.isNotNullOrEmptyArray(n)&&n.forEach(function(n){t.displayAgentsList.forEach(function(t){t.agentId===n.agentId&&(t.agentStateName=n.agentStateName)}),t.agentsList.forEach(function(t){t.agentId===n.agentId&&(t.agentStateName=n.agentStateName)})})},n.prototype.filterAgents=function(){var n=this;this.filteredAgentsList=this.agentsList.filter(function(t){return(t.firstName+" "+t.lastName).toLowerCase().indexOf(n.searchText.toLowerCase())>-1})},n.prototype.sortFilteredAgents=function(){this.filteredAgentsList.sort(function(n,t){var e=n.firstName.toLowerCase(),l=t.firstName.toLowerCase();return e>l?1:e<l?-1:0})},n.prototype.loadMoreAgents=function(){var n=this.displayAgentsList.length;this.recordsToLoad=0===n?this.minRecordsToLoad:this.maxRecordsToLoad;var t=this.filteredAgentsList.slice(n,n+this.recordsToLoad);this.displayAgentsList=this.displayAgentsList.concat(t),this.showLoadMore=this.displayAgentsList.length!==this.filteredAgentsList.length},n.prototype.ngOnDestroy=function(){this.agentsTimer&&clearInterval(this.agentsTimer),this.validationUtilSvc.isNotNullOrEmpty(this.contactUpdateEvent)&&this.contactUpdateEvent.unsubscribe()},n.className="AgentsSearchComponent",n}(),ql=o.ob({encapsulation:0,styles:[[""]],data:{}});function Ll(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,2,"div",[],null,null,null,null,null)),(n()(),o.qb(1,0,null,null,1,"app-agent-details",[],null,null,null,fe,re)),o.pb(2,114688,null,0,ae,[ot,Yn],{agent:[0,"agent"],showCallButton:[1,"showCallButton"],showTransferButton:[2,"showTransferButton"]},null)],function(n,t){var e=t.component;n(t,2,0,t.context.$implicit,e.showCallButton,e.showTransferButton)},null)}function Bl(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,3,"div",[],null,null,null,null,null)),(n()(),o.qb(1,0,null,null,2,"button",[["class","slds-button slds-p-left_x-small slds-p-vertical_xx-small load-more"]],null,[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.loadMoreAgents()&&l),l},null,null)),(n()(),o.Hb(2,null,["",""])),o.Bb(131072,d.i,[d.j,o.h])],null,function(n,t){n(t,2,0,o.Ib(t,2,0,o.Ab(t,3).transform("loadMore")))})}function Rl(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,7,"div",[["class","slds-m-top_small"]],null,null,null,null,null)),(n()(),o.qb(1,0,null,null,2,"label",[["class","slds-p-left_x-small slds-p-vertical_small search-title"]],null,null,null,null,null)),(n()(),o.Hb(2,null,["",""])),o.Bb(131072,d.i,[d.j,o.h]),(n()(),o.hb(16777216,null,null,1,null,Ll)),o.pb(5,278528,null,0,Pt.k,[o.P,o.M,o.s],{ngForOf:[0,"ngForOf"]},null),(n()(),o.hb(16777216,null,null,1,null,Bl)),o.pb(7,16384,null,0,Pt.l,[o.P,o.M],{ngIf:[0,"ngIf"]},null)],function(n,t){var e=t.component;n(t,5,0,e.displayAgentsList),n(t,7,0,e.showLoadMore)},function(n,t){n(t,2,0,o.Ib(t,2,0,o.Ab(t,3).transform("agent")))})}function jl(n){return o.Jb(0,[(n()(),o.hb(16777216,null,null,1,null,Rl)),o.pb(1,16384,null,0,Pt.l,[o.P,o.M],{ngIf:[0,"ngIf"]},null)],function(n,t){n(t,1,0,0!==t.component.displayAgentsList.length)},null)}var Jl=function(){function n(n,t,e,l,i,s,c){this.adminService=n,this.agentService=t,this.logger=e,this.dateTimeUtilSvc=l,this.containerSvc=i,this.validationUtilSvc=s,this.contactsSvc=c,this.skillsList=[],this.maxRecordsToLoad=50,this.minRecordsToLoad=2,this.recordsToLoad=0,this.startIndex=0,this.mediaType=4,this.totalRecords=0,this.totalRecordsReceived=0,this.updatedSince=new Date(0).toISOString(),this.canShowSpinner=!1,this.showLoadMore=!1,this.displaySkillsList=[],this.hasData=new o.m,this.initialSearchCompleted=!1}return n.prototype.ngOnInit=function(){var n=this;this.getCacheSkillQueue(),this.showCallButton=this.containerSvc.showCallButton(),this.contactUpdateEvent=this.agentService.contactUpdateEvent.subscribe(function(){n.showCallButton=n.containerSvc.showCallButton()})},n.prototype.ngOnChanges=function(n){this.contactsSvc.transferWorkItem&&(this.mediaType=6),n.searchText.currentValue!==n.searchText.previousValue&&(this.resetSearchParams(),this.loadMoreSkills())},n.prototype.resetSearchParams=function(){this.skillsList=[],this.displaySkillsList=[],this.recordsToLoad=0,this.startIndex=0,this.showLoadMore=!1,this.totalRecords=0,this.totalRecordsReceived=0,this.initialSearchCompleted=!1},n.prototype.canShowLoadMore=function(){this.showLoadMore=this.totalRecordsReceived!==this.totalRecords},n.prototype.setSearchParams=function(){this.canShowSpinner=!0,this.startIndex+=this.recordsToLoad,this.recordsToLoad=0===this.displaySkillsList.length?this.minRecordsToLoad:this.maxRecordsToLoad},n.prototype.setDisplaySkills=function(){var n=this.displaySkillsList.length;if(0===n)this.skillsList.length>=this.minRecordsToLoad?this.displaySkillsList=this.skillsList.slice(0,this.minRecordsToLoad):this.totalRecordsReceived===this.totalRecords?this.displaySkillsList=this.displaySkillsList.concat(this.skillsList):this.loadMoreSkills();else{var t=this.skillsList.slice(n,n+this.recordsToLoad);this.displaySkillsList=this.displaySkillsList.concat(t)}},n.prototype.loadMoreSkills=function(){var t=this;this.setSearchParams(),this.adminService.getSkillsList(this.mediaType,this.startIndex,this.recordsToLoad,this.searchText).then(function(e){t.logger.debug(n.className,"Getting Skill List - SUCCESS "),t.canShowSpinner=!1,t.totalRecords=e.totalRecords,t.totalRecordsReceived+=e.totalRecordsReceived,t.skillsList=t.skillsList.concat(e.skillList),t.setDisplaySkills(),t.canShowLoadMore(),t.initialSearchCompleted||t.checkForDataAvailability()})},n.prototype.checkForDataAvailability=function(){this.displaySkillsList.length>0?(this.initialSearchCompleted=!0,this.hasData.emit(!0)):this.totalRecordsReceived===this.totalRecords&&(this.initialSearchCompleted=!0,this.hasData.emit(!1))},n.prototype.getCacheSkillQueue=function(){var t=this;this.agentService.getCacheSkillQueue(this.updatedSince).then(function(e){t.logger.debug(n.className,"Getting Cache Skill Queue - SUCCESS "),t.updatedSince=e.LastPollTime,t.displaySkillsList.forEach(function(n){n.queue="0",n.waitTime="00",e.Queues.forEach(function(e){M.toNumber(e.SkillId)===n.skillId&&(n.queue=e.QueueCount,n.waitTime=t.dateTimeUtilSvc.toDisplayTime(M.toNumber(e.LongestQueueTimeInSeconds)))})}),t.updateSkillQueueCache()},function(n){t.updateSkillQueueCache()})},n.prototype.updateSkillQueueCache=function(){var n=this;this.skillQueueTimer=setTimeout(function(){n.getCacheSkillQueue()},Qn.SKILL_QUEUE_POLLING_DURATION)},n.prototype.ngOnDestroy=function(){this.skillQueueTimer&&clearTimeout(this.skillQueueTimer),this.validationUtilSvc.isNotNullOrEmpty(this.contactUpdateEvent)&&this.contactUpdateEvent.unsubscribe()},n.className="SkillsSearchComponent",n}(),Fl=o.ob({encapsulation:0,styles:[[""]],data:{}});function zl(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,4,"div",[["class","slds-spinner_container"]],null,null,null,null,null)),(n()(),o.qb(1,0,null,null,3,"div",[["class","slds-align_absolute-center"]],null,null,null,null,null)),(n()(),o.qb(2,0,null,null,2,"div",[["class","slds-spinner slds-spinner_medium slds-spinner_brand"],["role","status"]],null,null,null,null,null)),(n()(),o.qb(3,0,null,null,0,"div",[["class","slds-spinner__dot-a"]],null,null,null,null,null)),(n()(),o.qb(4,0,null,null,0,"div",[["class","slds-spinner__dot-b"]],null,null,null,null,null))],null,null)}function Hl(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,2,"div",[],null,null,null,null,null)),(n()(),o.qb(1,0,null,null,1,"app-skill-details",[],null,null,null,Ae,Ie)),o.pb(2,114688,null,0,we,[ot,Yn],{skill:[0,"skill"],showCallButton:[1,"showCallButton"]},null)],function(n,t){n(t,2,0,t.context.$implicit,t.component.showCallButton)},null)}function Wl(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,3,"div",[],null,null,null,null,null)),(n()(),o.qb(1,0,null,null,2,"button",[["class","slds-button slds-p-left_x-small slds-p-vertical_xx-small load-more"]],null,[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.loadMoreSkills()&&l),l},null,null)),(n()(),o.Hb(2,null,["",""])),o.Bb(131072,d.i,[d.j,o.h])],null,function(n,t){n(t,2,0,o.Ib(t,2,0,o.Ab(t,3).transform("loadMore")))})}function Vl(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,10,"div",[["class","slds-m-top_small"]],null,null,null,null,null)),(n()(),o.hb(16777216,null,null,1,null,zl)),o.pb(2,16384,null,0,Pt.l,[o.P,o.M],{ngIf:[0,"ngIf"]},null),(n()(),o.qb(3,0,null,null,7,"div",[],null,null,null,null,null)),(n()(),o.qb(4,0,null,null,2,"label",[["class","slds-p-left_x-small slds-p-vertical_small search-title"]],null,null,null,null,null)),(n()(),o.Hb(5,null,["",""])),o.Bb(131072,d.i,[d.j,o.h]),(n()(),o.hb(16777216,null,null,1,null,Hl)),o.pb(8,278528,null,0,Pt.k,[o.P,o.M,o.s],{ngForOf:[0,"ngForOf"]},null),(n()(),o.hb(16777216,null,null,1,null,Wl)),o.pb(10,16384,null,0,Pt.l,[o.P,o.M],{ngIf:[0,"ngIf"]},null)],function(n,t){var e=t.component;n(t,2,0,e.canShowSpinner),n(t,8,0,e.displaySkillsList),n(t,10,0,e.showLoadMore)},function(n,t){n(t,5,0,o.Ib(t,5,0,o.Ab(t,6).transform("skills")))})}function Gl(n){return o.Jb(0,[(n()(),o.hb(16777216,null,null,1,null,Vl)),o.pb(1,16384,null,0,Pt.l,[o.P,o.M],{ngIf:[0,"ngIf"]},null)],function(n,t){n(t,1,0,0!==t.component.displaySkillsList.length)},null)}var Xl=function(){function n(n,t,e,l,i,s,c,a){this.agentSvc=n,this.containerSvc=t,this.localStorageSvc=e,this.validationUtilSvc=l,this.navigationUtilSvc=i,this.modalSvc=s,this.contactsSvc=c,this.logger=a,this.showMoreTabs=!1,this.activeTab="agent",this.searchText="",this.lastSearchText="",this.searchTimeout=3e3,this.transferCall=new o.m,this.agentSearchCompleted=!1,this.skillSearchCompleted=!1,this.contactHistorySearchCompleted=!1,this.hasAgentData=!1,this.hasSkillsData=!1,this.hasContactHistoryData=!1,this.hasAddressBookData=!1,this.showCallBar=!1}return n.prototype.ngOnInit=function(){var t=this;this.logger.debug(n.className,"Initialize"),this.workItemTransfer=this.contactsSvc.transferWorkItem,this.setContactHistorySearchCompleted(),this.validationUtilSvc.isNotNullOrEmptyArray(this.agentSvc.contacts)&&this.showContactBar(this.agentSvc.contacts),this.agentSvc.contactUpdateEvent.subscribe(function(n){t.showContactBar(n)})},n.prototype.setContactHistorySearchCompleted=function(){this.contactHistorySearchCompleted=!!this.workItemTransfer},n.prototype.showContactBar=function(n){this.contacts=n,this.showCallBar=!0,1===this.contacts.length?(this.lastUpdatedContact=this.contacts[0],this.validationUtilSvc.isNotNullOrEmpty(this.lastUpdatedContact)&&(this.contactSfResult=this.containerSvc.getSfResult(this.lastUpdatedContact.id))):this.showBarLabel=this.containerSvc.isConference()?"conferenceCall":"multipleContacts"},n.prototype.switchTab=function(n){this.activeTab=n,this.showMoreTabs=!1},n.prototype.onClear=function(n){n.value="",this.resetSearchParams(""),this.searchTimer&&clearTimeout(this.searchTimer)},n.prototype.resetSearchParams=function(n){this.searchText!==n&&(this.searchText=n,this.agentSearchCompleted=!1,this.skillSearchCompleted=!1,this.hasAgentData=!1,this.hasSkillsData=!1,this.hasContactHistoryData=!1,this.hasAddressBookData=!1,this.setContactHistorySearchCompleted())},n.prototype.onAgentSearchComplete=function(n){this.agentSearchCompleted=!0,this.hasAgentData=n},n.prototype.onSkillSearchComplete=function(n){this.skillSearchCompleted=!0,this.hasSkillsData=n},n.prototype.onAddressBookSearchComplete=function(n){this.hasAddressBookData=n},n.prototype.onContactHistorySearchComplete=function(n){this.contactHistorySearchCompleted=!0,this.hasContactHistoryData=n},n.prototype.isSearchCompleted=function(){return this.agentSearchCompleted&&this.skillSearchCompleted&&this.contactHistorySearchCompleted},n.prototype.isDataAvailable=function(){return this.hasAgentData||this.hasSkillsData||this.hasContactHistoryData||this.hasAddressBookData},n.prototype.onSearch=function(n){var t=this;this.lastSearchText=n.currentTarget.value,this.searchTimer&&clearTimeout(this.searchTimer),13===n.keyCode?this.resetSearchParams(this.lastSearchText):this.searchTimer=setTimeout(function(){t.resetSearchParams(t.lastSearchText)},this.searchTimeout)},n.prototype.switchToContacts=function(){var n=this.localStorageSvc.get(g.RouterUrl);this.contactsSvc.transferWorkItem=!1,this.modalSvc.closeModalDialog(!1),this.validationUtilSvc.isNotNullOrEmpty(n)&&"/contacts"!==n?this.navigationUtilSvc.navigate(["/contacts",{isLoaded:!0}]):this.containerSvc.toggleAgentTransfer.next(!1)},n.prototype.ngOnDestroy=function(){this.logger.debug(n.className,"Destroy")},n.className="AgentTransferComponent",n}(),Ql=o.ob({encapsulation:0,styles:[[".full-height[_ngcontent-%COMP%], html[_ngcontent-%COMP%], html[_ngcontent-%COMP%]   body[_ngcontent-%COMP%]{height:100%}.no-strech[_ngcontent-%COMP%]{flex:0}.strech[_ngcontent-%COMP%]{flex:1;position:relative}.no-scroll[_ngcontent-%COMP%]{overflow:hidden}.full-height-flex[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;justify-content:center}.center-align[_ngcontent-%COMP%]{text-align:center}.cursor-pointer[_ngcontent-%COMP%]{cursor:pointer}.text-wrap[_ngcontent-%COMP%]{word-wrap:break-word}.text-bold[_ngcontent-%COMP%]{font-weight:700}.cdk-overlay-container[_ngcontent-%COMP%]   .slds-modal__container[_ngcontent-%COMP%]{margin:0;padding:0}.cdk-overlay-container[_ngcontent-%COMP%]   .slds-modal__content[_ngcontent-%COMP%]{height:100%}.cdk-global-scrollblock[_ngcontent-%COMP%]{overflow-y:auto!important}@media (min-width:48em){.slds-scope[_ngcontent-%COMP%]   .slds-modal--large[_ngcontent-%COMP%]   .slds-modal__container[_ngcontent-%COMP%], .slds-scope[_ngcontent-%COMP%]   .slds-modal_large[_ngcontent-%COMP%]   .slds-modal__container[_ngcontent-%COMP%]{width:100%;height:100%}}.pull-down[_ngcontent-%COMP%]{position:absolute;bottom:0;width:100%}.dialog-style[_ngcontent-%COMP%]{position:fixed;top:0;background-color:#fff;right:0;left:0;box-shadow:0 0 5px grey;z-index:1001}.schedule-container[_ngcontent-%COMP%]   .fc-widget-content[_ngcontent-%COMP%]{background-color:#fff}.schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%]{opacity:.75;text-indent:3px}.schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-event[_ngcontent-%COMP%]{border-radius:0;cursor:default;color:#01396a;min-height:2rem}.schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-event[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%]{font-weight:700}.schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%]:hover, .schedule-container[_ngcontent-%COMP%]   .fc-event[_ngcontent-%COMP%]:hover{text-decoration:none;color:#01396a}.schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%]   .fc-title[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-event[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-event[_ngcontent-%COMP%]   .fc-title[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-slats[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-slats[_ngcontent-%COMP%]   .fc-title[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-title[_ngcontent-%COMP%]{font-size:.8rem}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-content[_ngcontent-%COMP%]{display:flex}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-title[_ngcontent-%COMP%]{display:inline-block;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.schedule-container[_ngcontent-%COMP%]   .commitment-event[_ngcontent-%COMP%]{background-color:#d9d9d9;border-color:#d9d9d9}.schedule-container[_ngcontent-%COMP%]   .commitment-event[_ngcontent-%COMP%]:hover{cursor:pointer}.schedule-container[_ngcontent-%COMP%]   .fc-header-toolbar[_ngcontent-%COMP%]   .fc-left[_ngcontent-%COMP%]{margin-left:10px}.schedule-container[_ngcontent-%COMP%]   .fc-button-group[_ngcontent-%COMP%]{font-size:.6rem}.schedule-container[_ngcontent-%COMP%]   .fc-button-group[_ngcontent-%COMP%]   .fc-button-primary[_ngcontent-%COMP%]{background-color:#fff;border-color:grey;color:grey;box-shadow:none}.schedule-container[_ngcontent-%COMP%]   .fc-button-group[_ngcontent-%COMP%]   .fc-button-primary[_ngcontent-%COMP%]:not(:disabled):active{box-shadow:none}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]{min-height:1rem}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%]::before{display:none}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid[_ngcontent-%COMP%]   .fc-slats[_ngcontent-%COMP%]   .fc-minor[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-top:0}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-container[_ngcontent-%COMP%]{overflow:visible!important}.slds-scope[_ngcontent-%COMP%]   .slds-button[_ngcontent-%COMP%]:not([disabled]){color:#0672d4}.slds-scope[_ngcontent-%COMP%]   .slds-button.slds-button_brand[_ngcontent-%COMP%]{color:#fff}.slds-scope[_ngcontent-%COMP%]   .slds-button.decline-button[_ngcontent-%COMP%]:not([disabled]){color:#c13834;border-color:#c13834}.slds-scope[_ngcontent-%COMP%]   .slds-button.accept-button[_ngcontent-%COMP%]:not([disabled]){color:#fff}.slds-scope[_ngcontent-%COMP%]   .slds-slider__range[_ngcontent-%COMP%]{-webkit-appearance:none}.slds-scope[_ngcontent-%COMP%]   .slds-slider__range[_ngcontent-%COMP%]::-webkit-slider-thumb{-webkit-appearance:none;appearance:none}.initialize-softphone[_ngcontent-%COMP%]   .slds-spinner[_ngcontent-%COMP%]{margin-left:-6em}.slds-scope[_ngcontent-%COMP%]   .cdk-overlay-container[_ngcontent-%COMP%]{position:absolute}.unread-icon[_ngcontent-%COMP%]{height:.5rem;width:.5rem;border-radius:50%;display:inline-block;background-color:#1589ee}.unread-icon.visited[_ngcontent-%COMP%]{background:0 0}.agent-transfer[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%}.agent-transfer[_ngcontent-%COMP%]   .agent-transfer-menu[_ngcontent-%COMP%]{flex:1}.agent-transfer[_ngcontent-%COMP%]   .slds-tabs_default__content[_ngcontent-%COMP%]{height:100%;padding-bottom:.2rem}.agent-transfer[_ngcontent-%COMP%]   .transfer-search[_ngcontent-%COMP%]{height:100%;width:100%;overflow-y:auto}.agent-transfer[_ngcontent-%COMP%]   .transfer-search-container[_ngcontent-%COMP%]{height:100%}.agent-transfer[_ngcontent-%COMP%]   .tabs-section[_ngcontent-%COMP%]{flex:1 1 auto;text-align:center}.agent-transfer[_ngcontent-%COMP%]   .tabs-section.agents-tab[_ngcontent-%COMP%], .agent-transfer[_ngcontent-%COMP%]   .tabs-section.history-tab[_ngcontent-%COMP%]{width:4.5rem}.agent-transfer[_ngcontent-%COMP%]   .tabs-section.skills-tab[_ngcontent-%COMP%]{width:4rem}.agent-transfer[_ngcontent-%COMP%]   .tabs-section.address-book-tab[_ngcontent-%COMP%]{width:8rem}[_nghost-%COMP%]     .search-title{color:grey}[_nghost-%COMP%]     .slds-button.load-more:not([disabled]){color:#080707}[_nghost-%COMP%]     .slds-button.load-more:not([disabled]):focus, [_nghost-%COMP%]     .slds-button.load-more:not([disabled]):hover{color:#080707;box-shadow:none}.multiple-call-panel[_ngcontent-%COMP%]{width:100%;color:#fff;margin-bottom:1px;padding-left:1rem;background-color:#4bca81;cursor:pointer}"]],data:{}});function $l(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,2,"div",[],null,null,null,null,null)),(n()(),o.qb(1,0,null,null,1,"app-call-contact-bar",[],null,[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.switchToContacts()&&l),l},Gt,Jt)),o.pb(2,704512,null,0,jt,[qn,P,f,S,Un,ot,p],{callContact:[0,"callContact"],contactSfResult:[1,"contactSfResult"]},null)],function(n,t){var e=t.component;n(t,2,0,e.lastUpdatedContact,e.contactSfResult)},null)}function Kl(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,2,"div",[],null,null,null,null,null)),(n()(),o.qb(1,0,null,null,1,"app-work-item-contact-bar",[],null,[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.switchToContacts()&&l),l},ne,Zt)),o.pb(2,704512,null,0,Yt,[qn,P,f,S,ot],{workItemContact:[0,"workItemContact"],contactSfResult:[1,"contactSfResult"]},null)],function(n,t){var e=t.component;n(t,2,0,e.lastUpdatedContact,e.contactSfResult)},null)}function Yl(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,3,"div",[],null,null,null,null,null)),(n()(),o.qb(1,0,null,null,2,"div",[["class","slds-grid slds-wrap slds-p-around_x-small multiple-call-panel"]],null,[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.switchToContacts()&&l),l},null,null)),(n()(),o.Hb(2,null,[" "," "])),o.Bb(131072,d.i,[d.j,o.h])],null,function(n,t){var e=t.component;n(t,2,0,o.Ib(t,2,0,o.Ab(t,3).transform(e.showBarLabel)))})}function Zl(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,6,"li",[["class","slds-tabs_default__item slds-p-horizontal_x-small tabs-section address-book-tab"]],[[8,"title",0]],[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.switchTab("addressbook")&&l),l},null,null)),o.pb(1,278528,null,0,Pt.j,[o.s,o.t,o.k,o.E],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),o.Cb(2,{"slds-is-active":0}),o.Bb(131072,d.i,[d.j,o.h]),(n()(),o.qb(4,0,null,null,2,"a",[["class","slds-tabs_default__link"]],null,null,null,null,null)),(n()(),o.Hb(5,null,["",""])),o.Bb(131072,d.i,[d.j,o.h])],function(n,t){var e=n(t,2,0,"addressbook"===t.component.activeTab);n(t,1,0,"slds-tabs_default__item slds-p-horizontal_x-small tabs-section address-book-tab",e)},function(n,t){n(t,0,0,o.Ib(t,0,0,o.Ab(t,3).transform("addressBook"))),n(t,5,0,o.Ib(t,5,0,o.Ab(t,6).transform("addressBook")))})}function no(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,6,"li",[["class","slds-tabs_default__item slds-p-horizontal_x-small tabs-section history-tab"]],[[8,"title",0]],[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.switchTab("history")&&l),l},null,null)),o.pb(1,278528,null,0,Pt.j,[o.s,o.t,o.k,o.E],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),o.Cb(2,{"slds-is-active":0}),o.Bb(131072,d.i,[d.j,o.h]),(n()(),o.qb(4,0,null,null,2,"a",[["class","slds-tabs_default__link"]],null,null,null,null,null)),(n()(),o.Hb(5,null,["",""])),o.Bb(131072,d.i,[d.j,o.h])],function(n,t){var e=n(t,2,0,"history"===t.component.activeTab);n(t,1,0,"slds-tabs_default__item slds-p-horizontal_x-small tabs-section history-tab",e)},function(n,t){n(t,0,0,o.Ib(t,0,0,o.Ab(t,3).transform("history"))),n(t,5,0,o.Ib(t,5,0,o.Ab(t,6).transform("history")))})}function to(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,19,"div",[["class","slds-tabs_default"]],null,null,null,null,null)),(n()(),o.qb(1,0,null,null,18,"ul",[["class","slds-tabs_default__nav"],["role","tablist"]],null,null,null,null,null)),(n()(),o.qb(2,0,null,null,6,"li",[["class","slds-tabs_default__item slds-p-horizontal_x-small tabs-section agents-tab"]],[[8,"title",0]],[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.switchTab("agent")&&l),l},null,null)),o.pb(3,278528,null,0,Pt.j,[o.s,o.t,o.k,o.E],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),o.Cb(4,{"slds-is-active":0}),o.Bb(131072,d.i,[d.j,o.h]),(n()(),o.qb(6,0,null,null,2,"a",[["class","slds-tabs_default__link"]],null,null,null,null,null)),(n()(),o.Hb(7,null,["",""])),o.Bb(131072,d.i,[d.j,o.h]),(n()(),o.qb(9,0,null,null,6,"li",[["class","slds-tabs_default__item slds-p-horizontal_x-small tabs-section skills-tab"]],[[8,"title",0]],[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.switchTab("skill")&&l),l},null,null)),o.pb(10,278528,null,0,Pt.j,[o.s,o.t,o.k,o.E],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),o.Cb(11,{"slds-is-active":0}),o.Bb(131072,d.i,[d.j,o.h]),(n()(),o.qb(13,0,null,null,2,"a",[["class","slds-tabs_default__link"]],null,null,null,null,null)),(n()(),o.Hb(14,null,["",""])),o.Bb(131072,d.i,[d.j,o.h]),(n()(),o.hb(16777216,null,null,1,null,Zl)),o.pb(17,16384,null,0,Pt.l,[o.P,o.M],{ngIf:[0,"ngIf"]},null),(n()(),o.hb(16777216,null,null,1,null,no)),o.pb(19,16384,null,0,Pt.l,[o.P,o.M],{ngIf:[0,"ngIf"]},null)],function(n,t){var e=t.component,l=n(t,4,0,"agent"===e.activeTab);n(t,3,0,"slds-tabs_default__item slds-p-horizontal_x-small tabs-section agents-tab",l);var o=n(t,11,0,"skill"===e.activeTab);n(t,10,0,"slds-tabs_default__item slds-p-horizontal_x-small tabs-section skills-tab",o),n(t,17,0,!e.workItemTransfer),n(t,19,0,!e.workItemTransfer)},function(n,t){n(t,2,0,o.Ib(t,2,0,o.Ab(t,5).transform("agent"))),n(t,7,0,o.Ib(t,7,0,o.Ab(t,8).transform("agent"))),n(t,9,0,o.Ib(t,9,0,o.Ab(t,12).transform("skills"))),n(t,14,0,o.Ib(t,14,0,o.Ab(t,15).transform("skills")))})}function eo(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,2,"div",[["class","slds-tabs_default__content"],["id","agent"]],null,null,null,null,null)),(n()(),o.qb(1,0,null,null,1,"app-agent-list",[],null,null,null,ke,_e)),o.pb(2,245760,null,0,ve,[qn,f,p,ot,Un,o.h,_],null,null)],function(n,t){n(t,2,0)},null)}function lo(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,2,"div",[["class","slds-tabs_default__content"],["id","skill"]],null,null,null,null,null)),(n()(),o.qb(1,0,null,null,1,"app-skill-list",[],null,null,null,Re,De)),o.pb(2,4440064,null,0,Ee,[qn,Un,_,f,ot,p,me.f,P,Yn],null,null)],function(n,t){n(t,2,0)},null)}function oo(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,2,"div",[["class","slds-tabs_default__content"],["id","addressBook"]],null,null,null,null,null)),(n()(),o.qb(1,0,null,null,1,"app-address-books",[],null,null,null,sl,Ye)),o.pb(2,4440064,null,0,Ke,[qn,f,me.f,Un,ot,o.h,_],null,null)],function(n,t){n(t,2,0)},null)}function io(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,2,"div",[["class","slds-tabs_default__content"],["id","history"]],null,null,null,null,null)),(n()(),o.qb(1,0,null,null,1,"app-contact-history",[],null,null,null,vl,pl)),o.pb(2,245760,null,0,hl,[Un,ot,f,_],null,null)],function(n,t){n(t,2,0)},null)}function so(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,8,"div",[["class","agent-transfer-menu"]],null,null,null,null,null)),(n()(),o.hb(16777216,null,null,1,null,eo)),o.pb(2,16384,null,0,Pt.l,[o.P,o.M],{ngIf:[0,"ngIf"]},null),(n()(),o.hb(16777216,null,null,1,null,lo)),o.pb(4,16384,null,0,Pt.l,[o.P,o.M],{ngIf:[0,"ngIf"]},null),(n()(),o.hb(16777216,null,null,1,null,oo)),o.pb(6,16384,null,0,Pt.l,[o.P,o.M],{ngIf:[0,"ngIf"]},null),(n()(),o.hb(16777216,null,null,1,null,io)),o.pb(8,16384,null,0,Pt.l,[o.P,o.M],{ngIf:[0,"ngIf"]},null)],function(n,t){var e=t.component;n(t,2,0,"agent"===e.activeTab),n(t,4,0,"skill"===e.activeTab),n(t,6,0,"addressbook"===e.activeTab),n(t,8,0,"history"===e.activeTab)},null)}function co(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,1,"app-address-book-search",[],null,[[null,"hasData"]],function(n,t,e){var l=!0;return"hasData"===t&&(l=!1!==n.component.onAddressBookSearchComplete(e)&&l),l},Il,Ol)),o.pb(1,770048,null,0,_l,[qn,_,f,ot,Un],{searchText:[0,"searchText"]},{hasData:"hasData"})],function(n,t){n(t,1,0,t.component.searchText)},null)}function ao(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,1,"app-contact-history-search",[],null,[[null,"hasData"]],function(n,t,e){var l=!0;return"hasData"===t&&(l=!1!==n.component.onContactHistorySearchComplete(e)&&l),l},Dl,xl)),o.pb(1,770048,null,0,Nl,[Un,ot,f],{searchText:[0,"searchText"]},{hasData:"hasData"})],function(n,t){n(t,1,0,t.component.searchText)},null)}function ro(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,2,"div",[["class","center-align full-height-flex"]],null,null,null,null,null)),(n()(),o.Hb(1,null,["",""])),o.Bb(131072,d.i,[d.j,o.h])],null,function(n,t){n(t,1,0,o.Ib(t,1,0,o.Ab(t,2).transform("noItemsToDisplay")))})}function uo(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,4,"div",[["class","slds-spinner_container"]],null,null,null,null,null)),(n()(),o.qb(1,0,null,null,3,"div",[["class","slds-align_absolute-center"]],null,null,null,null,null)),(n()(),o.qb(2,0,null,null,2,"div",[["class","slds-spinner slds-spinner_medium slds-spinner_brand"],["role","status"]],null,null,null,null,null)),(n()(),o.qb(3,0,null,null,0,"div",[["class","slds-spinner__dot-a"]],null,null,null,null,null)),(n()(),o.qb(4,0,null,null,0,"div",[["class","slds-spinner__dot-b"]],null,null,null,null,null))],null,null)}function go(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,13,"div",[["class","transfer-search-container slds-is-relative"]],null,null,null,null,null)),(n()(),o.qb(1,0,null,null,12,"div",[["class","transfer-search slds-is-absolute"]],null,null,null,null,null)),(n()(),o.qb(2,0,null,null,1,"app-agents-search",[],null,[[null,"hasData"]],function(n,t,e){var l=!0;return"hasData"===t&&(l=!1!==n.component.onAgentSearchComplete(e)&&l),l},jl,ql)),o.pb(3,770048,null,0,Ul,[qn,ot,p,Un,_,f],{searchText:[0,"searchText"]},{hasData:"hasData"}),(n()(),o.qb(4,0,null,null,1,"app-skills-search",[],null,[[null,"hasData"]],function(n,t,e){var l=!0;return"hasData"===t&&(l=!1!==n.component.onSkillSearchComplete(e)&&l),l},Gl,Fl)),o.pb(5,770048,null,0,Jl,[qn,Un,_,P,ot,f,Yn],{searchText:[0,"searchText"]},{hasData:"hasData"}),(n()(),o.hb(16777216,null,null,1,null,co)),o.pb(7,16384,null,0,Pt.l,[o.P,o.M],{ngIf:[0,"ngIf"]},null),(n()(),o.hb(16777216,null,null,1,null,ao)),o.pb(9,16384,null,0,Pt.l,[o.P,o.M],{ngIf:[0,"ngIf"]},null),(n()(),o.hb(16777216,null,null,1,null,ro)),o.pb(11,16384,null,0,Pt.l,[o.P,o.M],{ngIf:[0,"ngIf"]},null),(n()(),o.hb(16777216,null,null,1,null,uo)),o.pb(13,16384,null,0,Pt.l,[o.P,o.M],{ngIf:[0,"ngIf"]},null)],function(n,t){var e=t.component;n(t,3,0,e.searchText),n(t,5,0,e.searchText),n(t,7,0,!e.workItemTransfer),n(t,9,0,!e.workItemTransfer),n(t,11,0,e.isSearchCompleted()&&!e.isDataAvailable()),n(t,13,0,!e.isSearchCompleted())},null)}function ho(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,28,"div",[["class","agent-transfer"]],null,null,null,null,null)),(n()(),o.hb(16777216,null,null,1,null,$l)),o.pb(2,16384,null,0,Pt.l,[o.P,o.M],{ngIf:[0,"ngIf"]},null),(n()(),o.hb(16777216,null,null,1,null,Kl)),o.pb(4,16384,null,0,Pt.l,[o.P,o.M],{ngIf:[0,"ngIf"]},null),(n()(),o.hb(16777216,null,null,1,null,Yl)),o.pb(6,16384,null,0,Pt.l,[o.P,o.M],{ngIf:[0,"ngIf"]},null),(n()(),o.qb(7,0,null,null,15,"div",[["class","slds-m-horizontal_medium slds-m-bottom_xx-small slds-m-top_x-small"]],null,null,null,null,null)),(n()(),o.qb(8,0,null,null,14,"div",[["class","slds-form-element"]],null,null,null,null,null)),(n()(),o.qb(9,0,null,null,13,"div",[["class","slds-form-element__control slds-input-has-icon slds-input-has-icon_left-right"]],null,null,null,null,null)),(n()(),o.qb(10,0,null,null,1,":svg:svg",[["aria-hidden","true"],["class","slds-icon slds-input__icon slds-input__icon_left slds-icon-text-default"]],null,null,null,null,null)),(n()(),o.qb(11,0,null,null,0,":svg:use",[[":xlink:href","/_slds/icons/utility-sprite/svg/symbols.svg#search"]],null,null,null,null,null)),(n()(),o.qb(12,0,[["searchTextInput",1]],null,6,"input",[["class","slds-input"],["id","searchTextInput"],["type","text"]],[[8,"placeholder",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"keyup"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,t,e){var l=!0,i=n.component;return"input"===t&&(l=!1!==o.Ab(n,13)._handleInput(e.target.value)&&l),"blur"===t&&(l=!1!==o.Ab(n,13).onTouched()&&l),"compositionstart"===t&&(l=!1!==o.Ab(n,13)._compositionStart()&&l),"compositionend"===t&&(l=!1!==o.Ab(n,13)._compositionEnd(e.target.value)&&l),"keyup"===t&&(l=!1!==i.onSearch(e)&&l),l},null,null)),o.pb(13,16384,null,0,Mt.b,[o.E,o.k,[2,Mt.a]],null,null),o.Eb(1024,null,Mt.f,function(n){return[n]},[Mt.b]),o.pb(15,671744,null,0,Mt.i,[[8,null],[8,null],[8,null],[6,Mt.f]],{model:[0,"model"]},null),o.Eb(2048,null,Mt.g,null,[Mt.i]),o.pb(17,16384,null,0,Mt.h,[[4,Mt.g]],null,null),o.Bb(131072,d.i,[d.j,o.h]),(n()(),o.qb(19,0,null,null,3,"button",[["class","slds-button slds-button_icon slds-input__icon slds-input__icon_right icons-right"]],[[8,"title",0]],[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.onClear(o.Ab(n,12))&&l),l},null,null)),o.Bb(131072,d.i,[d.j,o.h]),(n()(),o.qb(21,0,null,null,1,":svg:svg",[["aria-hidden","true"],["class","slds-button__icon slds-icon-text-light"]],null,null,null,null,null)),(n()(),o.qb(22,0,null,null,0,":svg:use",[[":xlink:href","/_slds/icons/utility-sprite/svg/symbols.svg#clear"]],null,null,null,null,null)),(n()(),o.hb(16777216,null,null,1,null,to)),o.pb(24,16384,null,0,Pt.l,[o.P,o.M],{ngIf:[0,"ngIf"]},null),(n()(),o.hb(16777216,null,null,1,null,so)),o.pb(26,16384,null,0,Pt.l,[o.P,o.M],{ngIf:[0,"ngIf"]},null),(n()(),o.hb(16777216,null,null,1,null,go)),o.pb(28,16384,null,0,Pt.l,[o.P,o.M],{ngIf:[0,"ngIf"]},null)],function(n,t){var e=t.component;n(t,2,0,e.lastUpdatedContact&&"CallContactEvent"===e.lastUpdatedContact.contactType),n(t,4,0,e.lastUpdatedContact&&"WorkItemContactEvent"===e.lastUpdatedContact.contactType),n(t,6,0,e.contacts&&e.contacts.length>1),n(t,15,0,e.searchText),n(t,24,0,0===e.searchText.length),n(t,26,0,0===e.searchText.length),n(t,28,0,0!==e.searchText.length)},function(n,t){n(t,12,0,o.sb(1,"",o.Ib(t,12,0,o.Ab(t,18).transform("search")),""),o.Ab(t,17).ngClassUntouched,o.Ab(t,17).ngClassTouched,o.Ab(t,17).ngClassPristine,o.Ab(t,17).ngClassDirty,o.Ab(t,17).ngClassValid,o.Ab(t,17).ngClassInvalid,o.Ab(t,17).ngClassPending),n(t,19,0,o.sb(1,"",o.Ib(t,19,0,o.Ab(t,20).transform("clear")),""))})}var po=e("TyLU"),fo=function(){function n(){this.actionSelected=new o.m}return n.prototype.onAccept=function(){this.actionSelected.emit(!0)},n.prototype.onDecline=function(){this.actionSelected.emit(!1)},n}(),bo=o.ob({encapsulation:0,styles:[[".message[_ngcontent-%COMP%]{font-weight:700}"]],data:{}});function mo(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,10,"div",[["class","dialog-style slds-grid slds-grid_align-spread slds-p-around_x-small"]],null,null,null,null,null)),(n()(),o.qb(1,0,null,null,2,"div",[["class","slds-col message"]],null,null,null,null,null)),(n()(),o.Hb(2,null,["",""])),o.Bb(131072,d.i,[d.j,o.h]),(n()(),o.qb(4,0,null,null,6,"div",[["class","slds-col"]],null,null,null,null,null)),(n()(),o.qb(5,0,null,null,2,"button",[["class","slds-button slds-button_outline-brand decline-button"]],null,[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.onDecline()&&l),l},null,null)),(n()(),o.Hb(6,null,["",""])),o.Bb(131072,d.i,[d.j,o.h]),(n()(),o.qb(8,0,null,null,2,"button",[["class","slds-button slds-button_success accept-button"]],null,[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.onAccept()&&l),l},null,null)),(n()(),o.Hb(9,null,["",""])),o.Bb(131072,d.i,[d.j,o.h])],null,function(n,t){var e=t.component;n(t,2,0,o.Ib(t,2,0,o.Ab(t,3).transform(e.message))),n(t,6,0,o.Ib(t,6,0,o.Ab(t,7).transform("decline"))),n(t,9,0,o.Ib(t,9,0,o.Ab(t,10).transform("accept")))})}var Co=function(){function n(n,t,e,l,o,i){this.agentSvc=n,this.localStorageSvc=t,this.validationUtilSvc=e,this.webRTCSvc=l,this.logger=o,this.navigationUtilSvc=i,this.showAcceptDecline=!1,this.agentLeg=new z,this.initParam=y.init(),this.agentLeg.agentLegState=Tn.Disconnected,this.svgFilePath=this.initParam.resourceBase+"/assets/icons/svg/symbols_connected.svg#link",this.cssClass="slds-icon-text-light",this.agentLegToolTipText="agentLegDisconnected"}return n.prototype.ngOnInit=function(){var n=this;this.agentSvc.isWebRTC&&this.webRTCSvc.showAcceptDeclineEvent.subscribe(function(t){n.showAcceptDecline=t}),this.agentSvc.agentLegEvent.subscribe(function(t){return n.setAgentLegSvgColorValue(t)})},n.prototype.setAgentLegSvgColorValue=function(n){if(!this.validationUtilSvc.isNullOrEmpty(n))switch(this.agentLeg=n,this.svgFilePath=this.initParam.resourceBase+"/assets/icons/svg/symbols_connected.svg#link",this.cssClass="slds-icon-text-light",this.agentLeg.agentLegState){case"Dialing":this.cssClass="agent-leg-color",this.agentLegToolTipText="agentLegDialing";break;case"Active":this.cssClass="agent-leg-connected-color",this.agentLegToolTipText="agentLegConnected";break;case"Disconnected":this.cssClass="slds-icon-text-light",this.agentLegToolTipText="agentLegDisconnected"}},n.prototype.changeAgentLegIconToDisconnect=function(){this.svgFilePath=this.initParam.resourceBase+"/assets/icons/svg/symbols_disconnected.svg#unlink",this.cssClass="agent-leg-disconnected-color",this.agentLegToolTipText="agentLegDisconnected"},n.prototype.agentLegClick=function(){var t=this;this.validationUtilSvc.isNotNullOrUndefined(this.agentLeg.agentLegState)&&(this.logger.debug(n.className,"OnClick AgentLegState : "+this.agentLeg.agentLegState),this.agentLeg.agentLegState===Tn.Disconnected?this.agentSvc.connectAgentLeg().then(function(){t.logger.debug(n.className,"connectAgentLeg success")},function(e){t.logger.error(n.className,e.message),t.changeAgentLegIconToDisconnect()}):(this.agentLeg.agentLegState===Tn.Dialing||this.agentLeg.agentLegState===Tn.Active&&this.canDisconnectAgentLeg())&&this.disconnectAgentLeg())},n.prototype.disconnectAgentLeg=function(){var t=this;this.agentSvc.disconnectAgentLeg().then(function(){t.logger.debug(n.className,"disconnectAgentLeg success")},function(e){t.logger.error(n.className,e.message),t.changeAgentLegIconToDisconnect()})},n.prototype.canDisconnectAgentLeg=function(){var n=JSON.parse(this.localStorageSvc.get(g.Contacts)),t=!0;return this.validationUtilSvc.isNotNullOrEmptyArray(n)&&n.forEach(function(n){"CallContactEvent"!==n.contactType&&"VoiceMailContactEvent"!==n.contactType||(t=!1)}),t},n.prototype.onActionSelected=function(n){n?(this.webRTCSvc.connectAgentLeg(this.agentLeg.agentLegId),this.navigationUtilSvc.navigate(["/contacts"])):this.disconnectAgentLeg(),this.showAcceptDecline=!1},n.className="AgentLegComponent",n}(),vo=o.ob({encapsulation:0,styles:[[".full-height[_ngcontent-%COMP%], html[_ngcontent-%COMP%], html[_ngcontent-%COMP%]   body[_ngcontent-%COMP%]{height:100%}.no-strech[_ngcontent-%COMP%]{flex:0}.strech[_ngcontent-%COMP%]{flex:1;position:relative}.no-scroll[_ngcontent-%COMP%]{overflow:hidden}.full-height-flex[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;justify-content:center}.center-align[_ngcontent-%COMP%]{text-align:center}.cursor-pointer[_ngcontent-%COMP%]{cursor:pointer}.text-wrap[_ngcontent-%COMP%]{word-wrap:break-word}.text-bold[_ngcontent-%COMP%]{font-weight:700}.cdk-overlay-container[_ngcontent-%COMP%]   .slds-modal__container[_ngcontent-%COMP%]{margin:0;padding:0}.cdk-overlay-container[_ngcontent-%COMP%]   .slds-modal__content[_ngcontent-%COMP%]{height:100%}.cdk-global-scrollblock[_ngcontent-%COMP%]{overflow-y:auto!important}@media (min-width:48em){.slds-scope[_ngcontent-%COMP%]   .slds-modal--large[_ngcontent-%COMP%]   .slds-modal__container[_ngcontent-%COMP%], .slds-scope[_ngcontent-%COMP%]   .slds-modal_large[_ngcontent-%COMP%]   .slds-modal__container[_ngcontent-%COMP%]{width:100%;height:100%}}.pull-down[_ngcontent-%COMP%]{position:absolute;bottom:0;width:100%}.dialog-style[_ngcontent-%COMP%]{position:fixed;top:0;background-color:#fff;right:0;left:0;box-shadow:0 0 5px grey;z-index:1001}.schedule-container[_ngcontent-%COMP%]   .fc-widget-content[_ngcontent-%COMP%]{background-color:#fff}.schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%]{opacity:.75;text-indent:3px}.schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-event[_ngcontent-%COMP%]{border-radius:0;cursor:default;color:#01396a;min-height:2rem}.schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-event[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%]{font-weight:700}.schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%]:hover, .schedule-container[_ngcontent-%COMP%]   .fc-event[_ngcontent-%COMP%]:hover{text-decoration:none;color:#01396a}.schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%]   .fc-title[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-event[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-event[_ngcontent-%COMP%]   .fc-title[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-slats[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-slats[_ngcontent-%COMP%]   .fc-title[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-title[_ngcontent-%COMP%]{font-size:.8rem}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-content[_ngcontent-%COMP%]{display:flex}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-title[_ngcontent-%COMP%]{display:inline-block;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.schedule-container[_ngcontent-%COMP%]   .commitment-event[_ngcontent-%COMP%]{background-color:#d9d9d9;border-color:#d9d9d9}.schedule-container[_ngcontent-%COMP%]   .commitment-event[_ngcontent-%COMP%]:hover{cursor:pointer}.schedule-container[_ngcontent-%COMP%]   .fc-header-toolbar[_ngcontent-%COMP%]   .fc-left[_ngcontent-%COMP%]{margin-left:10px}.schedule-container[_ngcontent-%COMP%]   .fc-button-group[_ngcontent-%COMP%]{font-size:.6rem}.schedule-container[_ngcontent-%COMP%]   .fc-button-group[_ngcontent-%COMP%]   .fc-button-primary[_ngcontent-%COMP%]{background-color:#fff;border-color:grey;color:grey;box-shadow:none}.schedule-container[_ngcontent-%COMP%]   .fc-button-group[_ngcontent-%COMP%]   .fc-button-primary[_ngcontent-%COMP%]:not(:disabled):active{box-shadow:none}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]{min-height:1rem}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%]::before{display:none}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid[_ngcontent-%COMP%]   .fc-slats[_ngcontent-%COMP%]   .fc-minor[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-top:0}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-container[_ngcontent-%COMP%]{overflow:visible!important}.slds-scope[_ngcontent-%COMP%]   .slds-button[_ngcontent-%COMP%]:not([disabled]){color:#0672d4}.slds-scope[_ngcontent-%COMP%]   .slds-button.slds-button_brand[_ngcontent-%COMP%]{color:#fff}.slds-scope[_ngcontent-%COMP%]   .slds-button.decline-button[_ngcontent-%COMP%]:not([disabled]){color:#c13834;border-color:#c13834}.slds-scope[_ngcontent-%COMP%]   .slds-button.accept-button[_ngcontent-%COMP%]:not([disabled]){color:#fff}.slds-scope[_ngcontent-%COMP%]   .slds-slider__range[_ngcontent-%COMP%]{-webkit-appearance:none}.slds-scope[_ngcontent-%COMP%]   .slds-slider__range[_ngcontent-%COMP%]::-webkit-slider-thumb{-webkit-appearance:none;appearance:none}.initialize-softphone[_ngcontent-%COMP%]   .slds-spinner[_ngcontent-%COMP%]{margin-left:-6em}.slds-scope[_ngcontent-%COMP%]   .cdk-overlay-container[_ngcontent-%COMP%]{position:absolute}.unread-icon[_ngcontent-%COMP%]{height:.5rem;width:.5rem;border-radius:50%;display:inline-block;background-color:#1589ee}.unread-icon.visited[_ngcontent-%COMP%]{background:0 0}.agent-leg-icon[_ngcontent-%COMP%]{width:1.5rem;height:1.5rem}.agent-leg-dialing-color[_ngcontent-%COMP%]{fill:#ff9a3b}.agent-leg-connected-color[_ngcontent-%COMP%]{fill:#4bca81}.agent-leg-disconnected-color[_ngcontent-%COMP%]{fill:#c13834}.agent-leg-width[_ngcontent-%COMP%]{width:3rem}.agent-leg-width[_ngcontent-%COMP%]   .agent-leg-color[_ngcontent-%COMP%]{fill:grey;animation:1s infinite color-change;-moz-animation:1s infinite color-change;-webkit-animation:1s infinite color-change}@keyframes color-change{0%,100%{fill:#fff}50%{fill:orange}}@-webkit-keyframes color-change{0%,100%{fill:#fff}50%{fill:orange}}"]],data:{}});function _o(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,4,"div",[],null,null,null,null,null)),(n()(),o.qb(1,0,null,null,3,"div",[],null,null,null,null,null)),(n()(),o.qb(2,0,null,null,2,"span",[],null,null,null,null,null)),(n()(),o.Hb(3,null,[""," "])),o.Bb(131072,d.i,[d.j,o.h])],null,function(n,t){var e=t.component;n(t,3,0,o.Ib(t,3,0,o.Ab(t,4).transform(e.agentLegToolTipText)))})}function Oo(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,3,"div",[],null,null,null,null,null)),(n()(),o.qb(1,0,null,null,2,"app-accept-decline",[],null,[[null,"actionSelected"]],function(n,t,e){var l=!0;return"actionSelected"===t&&(l=!1!==n.component.onActionSelected(e)&&l),l},mo,bo)),o.pb(2,49152,null,0,fo,[],{message:[0,"message"]},{actionSelected:"actionSelected"}),o.Bb(131072,d.i,[d.j,o.h])],function(n,t){n(t,2,0,o.sb(1,"",o.Ib(t,2,0,o.Ab(t,3).transform("inboundCall")),""))},null)}function Mo(n){return o.Jb(0,[(n()(),o.hb(0,[["agentLegToolTip",2]],null,0,null,_o)),(n()(),o.qb(1,0,null,null,7,"div",[["class","slds-text-title_bold hide-outline slds-float_right agent-leg-width"]],null,null,null,null,null)),(n()(),o.qb(2,0,null,null,6,"div",[["class","slds-clearfix"]],null,null,null,null,null)),(n()(),o.qb(3,0,null,null,5,"div",[["class","slds-float_right slds-m-right_medium slds-m-top_small cursor-pointer"]],null,null,null,null,null)),(n()(),o.qb(4,16777216,null,null,4,"div",[["id","agentLegState"],["nglTooltipDelay","[300,0]"],["nglTooltipOpenAuto",""],["nglTooltipPlacement","bottom-right-corner"]],null,[[null,"click"],[null,"mouseenter"],[null,"focus"],[null,"mouseleave"],[null,"blur"]],function(n,t,e){var l=!0,i=n.component;return"mouseenter"===t&&(l=!1!==o.Ab(n,5).onMouseOver()&&l),"focus"===t&&(l=!1!==o.Ab(n,5).onMouseOver()&&l),"mouseleave"===t&&(l=!1!==o.Ab(n,5).onMouseOut()&&l),"blur"===t&&(l=!1!==o.Ab(n,5).onMouseOut()&&l),"click"===t&&(l=!1!==i.agentLegClick()&&l),l},null,null)),o.pb(5,671744,null,0,Et.Y,[[2,Et.e],o.k,o.E,o.P,po.d],{template:[0,"template"],placement:[1,"placement"],delay:[2,"delay"],openAuto:[3,"openAuto"]},null),(n()(),o.qb(6,0,null,null,2,":svg:svg",[["aria-hidden","true"],["class","agent-leg-icon slds-icon slds-icon-text-light"]],null,null,null,null,null)),o.pb(7,278528,null,0,Pt.j,[o.s,o.t,o.k,o.E],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(n()(),o.qb(8,0,null,null,0,":svg:use",[],[[1,":xlink:href",0]],null,null,null,null)),(n()(),o.hb(16777216,null,null,1,null,Oo)),o.pb(10,16384,null,0,Pt.l,[o.P,o.M],{ngIf:[0,"ngIf"]},null)],function(n,t){var e=t.component;n(t,5,0,o.Ab(t,0),"bottom-right-corner","[300,0]",""),n(t,7,0,"agent-leg-icon slds-icon slds-icon-text-light",e.cssClass),n(t,10,0,e.showAcceptDecline)},function(n,t){n(t,8,0,o.sb(1,"",t.component.svgFilePath,""))})}var Po=function(){function n(n,t,e,l,i,s,c,a,r){this.agentSvc=n,this.validationUtilSvc=t,this.localStorageSvc=e,this.logger=l,this.adminSvc=i,this.localizationSvc=s,this.saleforceCtiSvc=c,this.dateTimeUtilSvc=a,this.alertSvc=r,this.tooltipOpen=!1,this.initialTimerVal=0,this.agentStateInfo=new F,this.unavailableCodes=[],this.agentStates=[],this.dropdownOpen=!1,this.agentStateColorMap={},this.alertEvent=new o.m}return n.prototype.ngOnInit=function(){var n=this;this.localizationSvc.getLocalizedValue("hours").subscribe(function(t){n.hours=t}),this.agentSvc.agentStateChangeEvent.subscribe(function(t){return n.stateColorChange(t)}),this.agentSvc.updateUnavailableCodesEvent.subscribe(function(){return n.loadUnavailableCodes(!0)}),this.setColorsForAgentStates(),this.loadUnavailableCodes(),this.alertSvc.alertActionEvent.subscribe(function(){return n.logoutAgent()})},n.prototype.stateColorChange=function(n){var t=this;this.agentStateInfo=n,this.agentState=this.agentStateInfo.state,this.stateColor=this.getCssClassByState(this.agentState),Object(at.a)(1e3,1e3).subscribe(function(){t.updateAgentState()}),this.onStateChange(this.agentState)},n.prototype.updateAgentState=function(){var n=0;this.getServerTimestamp()>this.agentStateInfo.time&&(n=Math.round(Math.abs(this.getServerTimestamp()-this.agentStateInfo.time)/1e3)),this.initialTimerVal=this.agentStateInfo.acw&&this.agentStateInfo.timeout>0?this.agentStateInfo.timeout>n?this.agentStateInfo.timeout-n:0:n,this.lastServerTimestamp=this.getServerTimestamp(),this.updateTimer()},n.prototype.updateTimer=function(){var n,t=0,e=0;this.validationUtilSvc.isNotNullOrEmpty(this.lastServerTimestamp)&&(t=Math.round((this.getServerTimestamp()-this.lastServerTimestamp)/1e3)),n=this.agentStateInfo.acw&&this.agentStateInfo.timeout>0?this.dateTimeUtilSvc.toDisplayTime(e=this.initialTimerVal-t):(e=this.initialTimerVal+t)>345600?">96 "+this.hours:this.dateTimeUtilSvc.toDisplayTime(e),this.stateTimer=n},n.prototype.getServerTimestamp=function(){var n=(new Date).getTime(),t=M.toNumber(this.localStorageSvc.get(g.LocalTime));return M.toNumber(this.localStorageSvc.get(g.ServerTime))+(n-t)},n.prototype.onAgentStateChange=function(t){var e=this;this.logger.debug(n.className,"Setting agent state - "+JSON.stringify(t)),this.toggleMenu(),t.state!==xn.LoggedOut?this.agentSvc.setAgentState(t.state,t.reason).then(function(t){return e.logger.debug(n.className,"Agent state success "+JSON.stringify(t))},function(t){e.logger.error(n.className,"Error in setting agent state : "+t.message),e.showLocalizedErrorMessage(["agentStateChangeErrorMsg","systemAdminMsg"],t.statusText)}):this.hasCommitmentsInNextHour()?this.showCommitmentConfirmationMsg():this.logoutAgent()},n.prototype.showLocalizedErrorMessage=function(n,t){var e=this,l=new nt;l.type=Kn.Error,l.message=t,this.localizationSvc.getLocalizedValue(n).subscribe(function(n){var t="";for(var o in n)e.validationUtilSvc.isNotNullOrEmpty(n[o])&&(t+=n[o]);l.message=t,e.alertEvent.emit(l)},function(){return e.alertEvent.emit(l)})},n.prototype.logoutAgent=function(){var t=this;JSON.parse(this.localStorageSvc.get(g.AuthSettings)).isUserHub&&this.saleforceCtiSvc.closeCXonePage(),this.agentSvc.logout().then(function(e){t.logger.debug(n.className,"Logout success : "+JSON.stringify(e))},function(e){t.logger.error(n.className,"Logout failed : "+e.message),t.validationUtilSvc.isNotNullOrEmpty(e.error)&&t.validationUtilSvc.isNotNullOrEmpty(e.error.error_description)&&"AgentStillHasContacts"===e.error.error_description?t.showLocalizedErrorMessage(["logoutErrorMsg"],e.statusText):t.showLocalizedErrorMessage(["agentStateChangeErrorMsg","systemAdminMsg"],e.statusText)})},n.prototype.loadAgentStates=function(){var n=this;this.agentStates=[],this.addAgentState(xn.Available,null),this.addAgentState(xn.Unavailable,null),this.validationUtilSvc.isNotNullOrEmpty(this.unavailableCodes)&&this.unavailableCodes.forEach(function(t){!1===t.isAcw&&n.addAgentState(xn.Unavailable,t.reason)}),this.addAgentState(xn.LoggedOut,null)},n.prototype.addAgentState=function(n,t){var e=new F;e.state=n,this.validationUtilSvc.isNotNullOrEmpty(t)&&(e.reason=t),this.agentStates.push(e)},n.prototype.loadUnavailableCodes=function(t){var e=this;void 0===t&&(t=!1),this.adminSvc.getTeamUnavailableCodes(t).then(function(n){e.unavailableCodes=n},function(t){e.logger.error(n.className,"Error in fetching team unavailable codes : "+t.message),e.showLocalizedErrorMessage(["teamUnavailableCodesErrorMsg"],t.statusText)}).finally(function(){return e.loadAgentStates()})},n.prototype.getCssClassByState=function(n){return this.agentStateColorMap[n.toLowerCase()]},n.prototype.onStateChange=function(n){return"OutboundContact"!==n&&"InboundContact"!==n&&"InboundConsult"!==n&&"OutboundConsult"!==n||(this.agentState="Working"),"Working"===this.agentState&&(this.stateColor="outbound-state-color"),this.agentState},n.prototype.setColorsForAgentStates=function(){this.agentStateColorMap[xn.Available.toLowerCase()]="available-state-color",this.agentStateColorMap[xn.Unavailable.toLowerCase()]="unavailable-state-color",this.agentStateColorMap[xn.OutboundContact.toLowerCase()]="outbound-state-color",this.agentStateColorMap[xn.OutboundConsult.toLowerCase()]="outbound-state-color",this.agentStateColorMap[xn.InboundContact.toLowerCase()]="inbound-state-color",this.agentStateColorMap[xn.InboundConsult.toLowerCase()]="inbound-state-color",this.agentStateColorMap[xn.LoggedOut.toLowerCase()]="logout-state-color"},n.prototype.onAgentStateKeyPressed=function(n){"Enter"===n.key&&this.toggleMenu()},n.prototype.toggleMenu=function(){this.tooltipOpen=!1,this.setAgentStateMenuScrollToTop(),this.dropdownOpen=!this.dropdownOpen},n.prototype.setAgentStateMenuScrollToTop=function(){var n=document.querySelector(".agent-state-menu");this.validationUtilSvc.isNotNullOrEmpty(n)&&(n.scrollTop=0)},n.prototype.onAgentStateMenuItemKeyPressed=function(n,t){"Enter"===n.key&&(this.onAgentStateChange(t),this.validationUtilSvc.isNotNullOrEmpty(this.agentStateDivElement)&&this.agentStateDivElement.nativeElement.focus())},n.prototype.hasCommitmentsInNextHour=function(){var n=this.localStorageSvc.get(g.FirstCommitment);if(!this.validationUtilSvc.isNullOrEmpty(n)){var t=JSON.parse(n),e=new Date;return e.setHours(e.getHours()+1),new Date(t.start)<=e}return!1},n.prototype.showCommitmentConfirmationMsg=function(){return T.__awaiter(this,void 0,void 0,function(){var t,e;return T.__generator(this,function(l){switch(l.label){case 0:return l.trys.push([0,2,,3]),[4,this.localizationSvc.getLocalizedValue("commitmentErrorMsgOnLogout").toPromise()];case 1:return t=l.sent(),this.alertSvc.createAndShowAlert(Kn.Info,t,!0),[3,3];case 2:return e=l.sent(),this.logger.error(n.className,"Error in showing commitment confirmation message on logout : "+e.message),[3,3];case 3:return[2]}})})},n.className="AgentStateComponent",n}(),So=o.ob({encapsulation:0,styles:[[".full-height[_ngcontent-%COMP%], html[_ngcontent-%COMP%], html[_ngcontent-%COMP%]   body[_ngcontent-%COMP%]{height:100%}.no-strech[_ngcontent-%COMP%]{flex:0}.strech[_ngcontent-%COMP%]{flex:1;position:relative}.no-scroll[_ngcontent-%COMP%]{overflow:hidden}.full-height-flex[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;justify-content:center}.center-align[_ngcontent-%COMP%]{text-align:center}.cursor-pointer[_ngcontent-%COMP%]{cursor:pointer}.text-wrap[_ngcontent-%COMP%]{word-wrap:break-word}.text-bold[_ngcontent-%COMP%]{font-weight:700}.cdk-overlay-container[_ngcontent-%COMP%]   .slds-modal__container[_ngcontent-%COMP%]{margin:0;padding:0}.cdk-overlay-container[_ngcontent-%COMP%]   .slds-modal__content[_ngcontent-%COMP%]{height:100%}.cdk-global-scrollblock[_ngcontent-%COMP%]{overflow-y:auto!important}@media (min-width:48em){.slds-scope[_ngcontent-%COMP%]   .slds-modal--large[_ngcontent-%COMP%]   .slds-modal__container[_ngcontent-%COMP%], .slds-scope[_ngcontent-%COMP%]   .slds-modal_large[_ngcontent-%COMP%]   .slds-modal__container[_ngcontent-%COMP%]{width:100%;height:100%}}.pull-down[_ngcontent-%COMP%]{position:absolute;bottom:0;width:100%}.dialog-style[_ngcontent-%COMP%]{position:fixed;top:0;background-color:#fff;right:0;left:0;box-shadow:0 0 5px grey;z-index:1001}.schedule-container[_ngcontent-%COMP%]   .fc-widget-content[_ngcontent-%COMP%]{background-color:#fff}.schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%]{opacity:.75;text-indent:3px}.schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-event[_ngcontent-%COMP%]{border-radius:0;cursor:default;color:#01396a;min-height:2rem}.schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-event[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%]{font-weight:700}.schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%]:hover, .schedule-container[_ngcontent-%COMP%]   .fc-event[_ngcontent-%COMP%]:hover{text-decoration:none;color:#01396a}.schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%]   .fc-title[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-event[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-event[_ngcontent-%COMP%]   .fc-title[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-slats[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-slats[_ngcontent-%COMP%]   .fc-title[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-title[_ngcontent-%COMP%]{font-size:.8rem}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-content[_ngcontent-%COMP%]{display:flex}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-title[_ngcontent-%COMP%]{display:inline-block;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.schedule-container[_ngcontent-%COMP%]   .commitment-event[_ngcontent-%COMP%]{background-color:#d9d9d9;border-color:#d9d9d9}.schedule-container[_ngcontent-%COMP%]   .commitment-event[_ngcontent-%COMP%]:hover{cursor:pointer}.schedule-container[_ngcontent-%COMP%]   .fc-header-toolbar[_ngcontent-%COMP%]   .fc-left[_ngcontent-%COMP%]{margin-left:10px}.schedule-container[_ngcontent-%COMP%]   .fc-button-group[_ngcontent-%COMP%]{font-size:.6rem}.schedule-container[_ngcontent-%COMP%]   .fc-button-group[_ngcontent-%COMP%]   .fc-button-primary[_ngcontent-%COMP%]{background-color:#fff;border-color:grey;color:grey;box-shadow:none}.schedule-container[_ngcontent-%COMP%]   .fc-button-group[_ngcontent-%COMP%]   .fc-button-primary[_ngcontent-%COMP%]:not(:disabled):active{box-shadow:none}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]{min-height:1rem}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%]::before{display:none}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid[_ngcontent-%COMP%]   .fc-slats[_ngcontent-%COMP%]   .fc-minor[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-top:0}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-container[_ngcontent-%COMP%]{overflow:visible!important}.slds-scope[_ngcontent-%COMP%]   .slds-button[_ngcontent-%COMP%]:not([disabled]){color:#0672d4}.slds-scope[_ngcontent-%COMP%]   .slds-button.slds-button_brand[_ngcontent-%COMP%]{color:#fff}.slds-scope[_ngcontent-%COMP%]   .slds-button.decline-button[_ngcontent-%COMP%]:not([disabled]){color:#c13834;border-color:#c13834}.slds-scope[_ngcontent-%COMP%]   .slds-button.accept-button[_ngcontent-%COMP%]:not([disabled]){color:#fff}.slds-scope[_ngcontent-%COMP%]   .slds-slider__range[_ngcontent-%COMP%]{-webkit-appearance:none}.slds-scope[_ngcontent-%COMP%]   .slds-slider__range[_ngcontent-%COMP%]::-webkit-slider-thumb{-webkit-appearance:none;appearance:none}.initialize-softphone[_ngcontent-%COMP%]   .slds-spinner[_ngcontent-%COMP%]{margin-left:-6em}.slds-scope[_ngcontent-%COMP%]   .cdk-overlay-container[_ngcontent-%COMP%]{position:absolute}.unread-icon[_ngcontent-%COMP%]{height:.5rem;width:.5rem;border-radius:50%;display:inline-block;background-color:#1589ee}.unread-icon.visited[_ngcontent-%COMP%]{background:0 0}hr[_ngcontent-%COMP%]{display:block;border-width:.11rem;height:auto!important;margin:auto}.slds-m-top_xx-small[_ngcontent-%COMP%]{margin-top:.4rem}.agent-state-icon[_ngcontent-%COMP%]{height:.5rem;width:.5rem;border-radius:50%;display:inline-block}.available-state-color[_ngcontent-%COMP%]{color:#4bca81;background-color:#4bca81;border-color:#4bca81}.unavailable-state-color[_ngcontent-%COMP%]{color:#c13834;background-color:#c13834;border-color:#c13834}.outbound-state-color[_ngcontent-%COMP%]{color:#ff9a3b;background-color:#ff9a3b;border-color:#ff9a3b}.inbound-state-color[_ngcontent-%COMP%]{color:purple;background-color:purple;border-color:purple}.logout-state-color[_ngcontent-%COMP%]{color:#d8dde6;background-color:#d8dde6;border-color:#d8dde6}.agent-state-menu[_ngcontent-%COMP%]{margin-top:-10px;overflow-y:auto;z-index:3;max-height:75vh}.unavailable-code-state[_ngcontent-%COMP%]{float:left;margin-right:4px;max-width:140px;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;background-color:transparent;border-color:transparent}.hide-outline[_ngcontent-%COMP%]{outline:0;border:0}"]],data:{}});function yo(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,4,"span",[],null,null,null,null,null)),(n()(),o.qb(1,0,null,null,2,"label",[],null,null,null,null,null)),(n()(),o.Hb(2,null,["",":"])),o.Bb(131072,d.i,[d.j,o.h]),(n()(),o.Hb(4,null,[" "," "]))],null,function(n,t){var e=t.component;n(t,2,0,o.Ib(t,2,0,o.Ab(t,3).transform("nextState"))),n(t,4,0,null==e.agentStateInfo.nState?null:e.agentStateInfo.nState.reason)})}function ko(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,4,"span",[],null,null,null,null,null)),(n()(),o.qb(1,0,null,null,2,"label",[],null,null,null,null,null)),(n()(),o.Hb(2,null,["",":"])),o.Bb(131072,d.i,[d.j,o.h]),(n()(),o.Hb(4,null,[" "," "]))],null,function(n,t){var e=t.component;n(t,2,0,o.Ib(t,2,0,o.Ab(t,3).transform("nextState"))),n(t,4,0,e.agentStateInfo.nState&&e.agentStateInfo.nState.reason?e.agentStateInfo.nState.reason:null==e.agentStateInfo.nState?null:e.agentStateInfo.nState.state)})}function wo(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,2,"span",[],null,null,null,null,null)),(n()(),o.qb(1,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),o.Hb(2,null,[" "," "]))],null,function(n,t){var e=t.component;n(t,2,0,null==e.agentStateInfo.nnState?null:e.agentStateInfo.nnState.state)})}function Io(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,5,"div",[],null,null,null,null,null)),(n()(),o.qb(1,0,null,null,2,"label",[],null,null,null,null,null)),(n()(),o.Hb(2,null,["",":"])),o.Bb(131072,d.i,[d.j,o.h]),(n()(),o.hb(16777216,null,null,1,null,wo)),o.pb(5,16384,null,0,Pt.l,[o.P,o.M],{ngIf:[0,"ngIf"]},null)],function(n,t){var e=t.component;n(t,5,0,null==e.agentStateInfo?null:e.agentStateInfo.nnState)},function(n,t){n(t,2,0,o.Ib(t,2,0,o.Ab(t,3).transform("nextNextState")))})}function No(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,13,"div",[],null,null,null,null,null)),(n()(),o.qb(1,0,null,null,5,"div",[],null,null,null,null,null)),(n()(),o.qb(2,0,null,null,2,"label",[],null,null,null,null,null)),(n()(),o.Hb(3,null,["",":"])),o.Bb(131072,d.i,[d.j,o.h]),(n()(),o.qb(5,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),o.Hb(6,null,[" "," "," "," "])),(n()(),o.qb(7,0,null,null,4,"div",[],null,null,null,null,null)),(n()(),o.hb(16777216,null,null,1,null,yo)),o.pb(9,16384,null,0,Pt.l,[o.P,o.M],{ngIf:[0,"ngIf"]},null),(n()(),o.hb(16777216,null,null,1,null,ko)),o.pb(11,16384,null,0,Pt.l,[o.P,o.M],{ngIf:[0,"ngIf"]},null),(n()(),o.hb(16777216,null,null,1,null,Io)),o.pb(13,16384,null,0,Pt.l,[o.P,o.M],{ngIf:[0,"ngIf"]},null)],function(n,t){var e=t.component;n(t,9,0,(null==e.agentStateInfo?null:null==e.agentStateInfo.nState?null:e.agentStateInfo.nState.reason)&&(null==e.agentStateInfo?null:e.agentStateInfo.acw)||(null==e.agentStateInfo?null:e.agentStateInfo.nextIsAcw)),n(t,11,0,!(null!=e.agentStateInfo&&e.agentStateInfo.nextIsAcw)&&"OutboundContact"==e.agentStateInfo.state||"InboundContact"==e.agentStateInfo.state||"InboundConsult"==e.agentStateInfo.state||"OutboundConsult"==e.agentStateInfo.state),n(t,13,0,null==e.agentStateInfo?null:e.agentStateInfo.nnState)},function(n,t){var e=t.component;n(t,3,0,o.Ib(t,3,0,o.Ab(t,4).transform("currentState"))),n(t,6,0,e.agentState,e.agentStateInfo.reason?":":"",e.agentStateInfo.reason)})}function xo(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,10,"li",[["class","slds-dropdown__item"]],null,null,null,null,null)),(n()(),o.qb(1,0,null,null,9,"a",[["nglDropdownItem",""],["role","menuitem"],["tabindex","0"]],null,[[null,"click"],[null,"keypress"],[null,"focus"],[null,"blur"]],function(n,t,e){var l=!0,i=n.component;return"focus"===t&&(l=!1!==o.Ab(n,2).onFocus()&&l),"blur"===t&&(l=!1!==o.Ab(n,2).onBlur()&&l),"click"===t&&(i.onAgentStateChange(n.context.$implicit),l=!1!==e.stopPropagation()&&l),"keypress"===t&&(i.onAgentStateMenuItemKeyPressed(e,n.context.$implicit),l=!1!==e.stopPropagation()&&l),l},null,null)),o.pb(2,16384,[[2,4]],0,Et.Cb,[o.k],null,null),(n()(),o.qb(3,0,null,null,7,"div",[],null,null,null,null,null)),(n()(),o.qb(4,0,null,null,1,"div",[["class","agent-state-icon slds-float_left slds-m-top_xx-small slds-m-left_x-small slds-m-right_x-small"]],null,null,null,null,null)),o.pb(5,278528,null,0,Pt.j,[o.s,o.t,o.k,o.E],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(n()(),o.qb(6,16777216,null,null,4,"div",[["class","slds-truncate"],["nglTooltipDelay","[500, 0]"],["nglTooltipOpenAuto",""],["nglTooltipPlacement","right"]],null,[[null,"mouseenter"],[null,"focus"],[null,"mouseleave"],[null,"blur"]],function(n,t,e){var l=!0;return"mouseenter"===t&&(l=!1!==o.Ab(n,7).onMouseOver()&&l),"focus"===t&&(l=!1!==o.Ab(n,7).onMouseOver()&&l),"mouseleave"===t&&(l=!1!==o.Ab(n,7).onMouseOut()&&l),"blur"===t&&(l=!1!==o.Ab(n,7).onMouseOut()&&l),l},null,null)),o.pb(7,671744,null,0,Et.Y,[[2,Et.e],o.k,o.E,o.P,po.d],{template:[0,"template"],placement:[1,"placement"],delay:[2,"delay"],openAuto:[3,"openAuto"]},null),o.Bb(131072,d.i,[d.j,o.h]),(n()(),o.Hb(9,null,[" "," "," "," "])),o.Bb(131072,d.i,[d.j,o.h])],function(n,t){n(t,5,0,"agent-state-icon slds-float_left slds-m-top_xx-small slds-m-left_x-small slds-m-right_x-small",t.component.getCssClassByState(t.context.$implicit.state)),n(t,7,0,o.sb(3,"",o.Ib(t,7,0,o.Ab(t,8).transform(t.context.$implicit.state))," ",t.context.$implicit.reason?"-":""," ",t.context.$implicit.reason,""),"right","[500, 0]","")},function(n,t){n(t,9,0,o.Ib(t,9,0,o.Ab(t,10).transform(t.context.$implicit.state)),t.context.$implicit.reason?"-":"",t.context.$implicit.reason)})}function Ao(n){return o.Jb(0,[o.Fb(402653184,1,{agentStateDivElement:0}),(n()(),o.hb(0,[["nStateHover",2]],null,0,null,No)),(n()(),o.qb(2,0,null,null,21,"div",[["class","slds-text-title_bold slds-float_left"]],null,null,null,null,null)),(n()(),o.qb(3,0,null,null,20,"div",[["nglDropdown",""]],[[2,"slds-dropdown-trigger",null],[2,"slds-dropdown-trigger_click",null]],[[null,"openChange"],[null,"keydown.esc"],[null,"keydown.tab"],[null,"keydown.arrowdown"],[null,"keydown.arrowup"]],function(n,t,e){var l=!0,i=n.component;return"keydown.esc"===t&&(l=!1!==o.Ab(n,4).onKeydownClose("esc")&&l),"keydown.tab"===t&&(l=!1!==o.Ab(n,4).onKeydownClose("tab")&&l),"keydown.arrowdown"===t&&(l=!1!==o.Ab(n,4).onKeydownFocusNext(e,"next")&&l),"keydown.arrowup"===t&&(l=!1!==o.Ab(n,4).onKeydownFocusNext(e,"previous")&&l),"openChange"===t&&(l=!1!==(i.dropdownOpen=e)&&l),"openChange"===t&&(l=!1!==i.setAgentStateMenuScrollToTop()&&l),l},null,null)),o.pb(4,212992,null,1,Et.Bb,[o.k,o.E],{isOpen:[0,"isOpen"]},{isOpenChange:"openChange"}),o.Fb(603979776,2,{items:1}),(n()(),o.qb(6,16777216,[[1,0],["agentStateDiv",1]],null,13,"div",[["class","slds-align_absolute-center hide-outline cursor-pointer slds-wrap"],["nglTooltipDelay","[500,0]"],["nglTooltipPlacement","bottom"],["tabindex","0"]],null,[[null,"nglTooltipOpenChange"],[null,"mouseenter"],[null,"mouseleave"],[null,"click"],[null,"keypress"],[null,"focus"],[null,"blur"]],function(n,t,e){var l=!0,i=n.component;return"mouseenter"===t&&(l=!1!==o.Ab(n,7).onMouseOver()&&l),"focus"===t&&(l=!1!==o.Ab(n,7).onMouseOver()&&l),"mouseleave"===t&&(l=!1!==o.Ab(n,7).onMouseOut()&&l),"blur"===t&&(l=!1!==o.Ab(n,7).onMouseOut()&&l),"nglTooltipOpenChange"===t&&(l=!1!==(i.tooltipOpen=e)&&l),"mouseenter"===t&&(l=0!=(i.tooltipOpen=!0)&&l),"mouseleave"===t&&(l=0!=(i.tooltipOpen=!1)&&l),"click"===t&&(l=!1!==i.toggleMenu()&&l),"keypress"===t&&(l=!1!==i.onAgentStateKeyPressed(e)&&l),l},null,null)),o.pb(7,671744,null,0,Et.Y,[[2,Et.e],o.k,o.E,o.P,po.d],{template:[0,"template"],placement:[1,"placement"],delay:[2,"delay"],nglOpen:[3,"nglOpen"]},{nglTooltipOpenChange:"nglTooltipOpenChange"}),(n()(),o.qb(8,0,null,null,1,"div",[["class","agent-state-icon slds-m-left_medium slds-m-right_x-small"]],null,null,null,null,null)),o.pb(9,278528,null,0,Pt.j,[o.s,o.t,o.k,o.E],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(n()(),o.qb(10,0,null,null,3,"div",[["class","slds-p-top_small slds-p-bottom_small"]],null,null,null,null,null)),(n()(),o.qb(11,0,null,null,2,"span",[["class","slds-truncate unavailable-code-state"]],null,null,null,null,null)),o.pb(12,278528,null,0,Pt.j,[o.s,o.t,o.k,o.E],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(n()(),o.Hb(13,null,[" "," "," "," - "])),(n()(),o.qb(14,0,null,null,2,"span",[["class","unavailable-code-state"]],null,null,null,null,null)),o.pb(15,278528,null,0,Pt.j,[o.s,o.t,o.k,o.E],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(n()(),o.Hb(16,null,[" "," "])),(n()(),o.qb(17,0,null,null,2,"div",[["class","slds-m-top_xx-small slds-m-left_x-small"]],null,null,null,null,null)),(n()(),o.qb(18,0,null,null,1,":svg:svg",[["aria-hidden","true"],["class","slds-icon slds-icon-text-default slds-icon_xx-small slds-p-bottom_xx-small"]],null,null,null,null,null)),(n()(),o.qb(19,0,null,null,0,":svg:use",[[":xlink:href","/_slds/icons/utility-sprite/svg/symbols.svg#chevrondown"]],null,null,null,null,null)),(n()(),o.qb(20,0,null,null,3,"div",[["class","slds-dropdown slds-dropdown_left slds-m-left_medium agent-state-menu cursor-pointer"]],null,null,null,null,null)),(n()(),o.qb(21,0,null,null,2,"ul",[["class","dropdown__list"],["role","menu"]],null,null,null,null,null)),(n()(),o.hb(16777216,null,null,1,null,xo)),o.pb(23,278528,null,0,Pt.k,[o.P,o.M,o.s],{ngForOf:[0,"ngForOf"]},null),(n()(),o.qb(24,0,null,null,1,"app-agent-leg",[],null,null,null,Mo,vo)),o.pb(25,114688,null,0,Co,[Un,p,f,ft,_,A],null,null),(n()(),o.qb(26,0,null,null,1,"hr",[],null,null,null,null,null)),o.pb(27,278528,null,0,Pt.j,[o.s,o.t,o.k,o.E],{ngClass:[0,"ngClass"]},null)],function(n,t){var e=t.component;n(t,4,0,e.dropdownOpen),n(t,7,0,o.Ab(t,1),"bottom","[500,0]",e.tooltipOpen),n(t,9,0,"agent-state-icon slds-m-left_medium slds-m-right_x-small",e.stateColor),n(t,12,0,"slds-truncate unavailable-code-state",e.stateColor),n(t,15,0,"unavailable-code-state",e.stateColor),n(t,23,0,e.agentStates),n(t,25,0),n(t,27,0,e.stateColor)},function(n,t){var e=t.component;n(t,3,0,!0,!0),n(t,13,0,e.agentState,e.agentStateInfo.reason?":":"",e.agentStateInfo.reason),n(t,16,0,e.stateTimer)})}var To=function(){function n(n,t,e,l,o,i){this.saleforceCtiSvc=n,this.urlUtilSvc=t,this.logger=e,this.adminSvc=l,this.alertSvc=o,this.localizationSvc=i}return n.prototype.indicatorAction=function(n){switch(n.actionType){case"OpenURL":this.checkAndPopUrl(n.action);break;case"SpawnScript":this.openSpawnScript(n);break;case"SignalScript":this.openSignalScript(n)}},n.prototype.checkAndPopUrl=function(n){var t=this.urlUtilSvc.getHostName(n);this.urlUtilSvc.isSFDomain(t)?this.saleforceCtiSvc.doScreenPop(n):this.saleforceCtiSvc.doScreenPopNewWindow(n)},n.prototype.openSpawnScript=function(t){for(var e=this,l=[],o=t.action.split('"'),i=3;i<o.length;i+=2)l.push(o[i]);var s=l.join("|");this.adminSvc.getScriptList(o[1]).then(function(t){e.logger.debug(n.className,"getScriptList success"),e.spawnScript(t,parseInt(o[2],10),s,"")},function(t){e.logger.error(n.className,"getScriptList error ")})},n.prototype.spawnScript=function(t,e,l,o){var i=this;this.adminSvc.spawnScript(t,e,l,o).then(function(t){i.logger.debug(n.className,"spawnScript success")},function(t){i.logger.error(n.className,"spawnScript error "),i.displayErrorMessage("spawnScriptErrorMsg")})},n.prototype.openSignalScript=function(t){var e=this,l=t.action.split('"'),o={},i=0,s=[];for(i=0;i<l.length;i++)""!==l[i]&&" "!==l[i]&&s.push(l[i]);for(i=1;i<s.length;i++)o[i]=s[i];this.adminSvc.signalScript(s[0],o).then(function(t){e.logger.debug(n.className,"SignalScript success")},function(t){e.logger.error(n.className,"SignalScript error"),e.displayErrorMessage("signalScriptErrorMsg")})},n.prototype.displayErrorMessage=function(n){var t=this,e="";this.localizationSvc.getLocalizedValue(n).subscribe(function(n){e=n;var l=new nt;l.message=e,l.type=Kn.Error,t.alertSvc.showAlert(l)})},n.prototype.isValidURL=function(n){return/((?:https?\:\/\/|www\.)(?:[-a-z0-9]+\.)*[-a-z0-9]+.*)/i.test(n)},n.className="IndicatorListComponent",n}(),Eo=o.ob({encapsulation:0,styles:[[".indicator-list[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.7rem;cursor:pointer;word-break:break-all}.indicator-list[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{cursor:pointer;width:16px;height:16px}"]],data:{}});function Do(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,1,"p",[],[[8,"title",0]],[[null,"click"]],function(n,t,e){var l=!0,o=n.component;return"click"===t&&(l=!1!==o.indicatorAction(o.indicator)&&l),l},null,null)),(n()(),o.Hb(1,null,["",""]))],null,function(n,t){var e=t.component;n(t,0,0,o.sb(1,"",e.indicator.toolTip,"")),n(t,1,0,e.indicator.imageFile)})}function Uo(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,0,"img",[],[[8,"src",4],[8,"title",0]],[[null,"click"]],function(n,t,e){var l=!0,o=n.component;return"click"===t&&(l=!1!==o.indicatorAction(o.indicator)&&l),l},null,null))],null,function(n,t){var e=t.component;n(t,0,0,o.sb(1,"",e.indicator.imageFile,""),o.sb(1,"",e.indicator.toolTip,""))})}function qo(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,4,"div",[["class","slds-float_left slds-m-around_xx-small slds-box slds-box_xx-small indicator-list"]],null,null,null,null,null)),(n()(),o.hb(16777216,null,null,1,null,Do)),o.pb(2,16384,null,0,Pt.l,[o.P,o.M],{ngIf:[0,"ngIf"]},null),(n()(),o.hb(16777216,null,null,1,null,Uo)),o.pb(4,16384,null,0,Pt.l,[o.P,o.M],{ngIf:[0,"ngIf"]},null)],function(n,t){var e=t.component;n(t,2,0,!e.isValidURL(e.indicator.imageFile)),n(t,4,0,e.isValidURL(e.indicator.imageFile))},null)}var Lo=function(){function n(n,t,e){this.containerSvc=n,this.localStorageSvc=t,this.validationUtilSvc=e,this.indicators=[],this.showMoreIndicators=!1}return n.prototype.ngOnInit=function(){var n=this,t=JSON.parse(this.localStorageSvc.get(g.AgentIndicators));this.filterAgentIndicators(t),this.containerSvc.agentIndicators.subscribe(function(t){n.filterAgentIndicators(t)})},n.prototype.filterAgentIndicators=function(n){this.indicators=this.validationUtilSvc.isNotNullOrEmpty(n)?n.filter(function(n){return!0===n.enable}):[]},n.prototype.displayMoreIndicators=function(n){this.showMoreIndicators=n},n}(),Bo=o.ob({encapsulation:0,styles:[[".full-height[_ngcontent-%COMP%], html[_ngcontent-%COMP%], html[_ngcontent-%COMP%]   body[_ngcontent-%COMP%]{height:100%}.no-strech[_ngcontent-%COMP%]{flex:0}.strech[_ngcontent-%COMP%]{flex:1;position:relative}.no-scroll[_ngcontent-%COMP%]{overflow:hidden}.full-height-flex[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;justify-content:center}.center-align[_ngcontent-%COMP%]{text-align:center}.cursor-pointer[_ngcontent-%COMP%]{cursor:pointer}.text-wrap[_ngcontent-%COMP%]{word-wrap:break-word}.text-bold[_ngcontent-%COMP%]{font-weight:700}.cdk-overlay-container[_ngcontent-%COMP%]   .slds-modal__container[_ngcontent-%COMP%]{margin:0;padding:0}.cdk-overlay-container[_ngcontent-%COMP%]   .slds-modal__content[_ngcontent-%COMP%]{height:100%}.cdk-global-scrollblock[_ngcontent-%COMP%]{overflow-y:auto!important}@media (min-width:48em){.slds-scope[_ngcontent-%COMP%]   .slds-modal--large[_ngcontent-%COMP%]   .slds-modal__container[_ngcontent-%COMP%], .slds-scope[_ngcontent-%COMP%]   .slds-modal_large[_ngcontent-%COMP%]   .slds-modal__container[_ngcontent-%COMP%]{width:100%;height:100%}}.pull-down[_ngcontent-%COMP%]{position:absolute;bottom:0;width:100%}.dialog-style[_ngcontent-%COMP%]{position:fixed;top:0;background-color:#fff;right:0;left:0;box-shadow:0 0 5px grey;z-index:1001}.schedule-container[_ngcontent-%COMP%]   .fc-widget-content[_ngcontent-%COMP%]{background-color:#fff}.schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%]{opacity:.75;text-indent:3px}.schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-event[_ngcontent-%COMP%]{border-radius:0;cursor:default;color:#01396a;min-height:2rem}.schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-event[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%]{font-weight:700}.schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%]:hover, .schedule-container[_ngcontent-%COMP%]   .fc-event[_ngcontent-%COMP%]:hover{text-decoration:none;color:#01396a}.schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%]   .fc-title[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-event[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-event[_ngcontent-%COMP%]   .fc-title[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-slats[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-slats[_ngcontent-%COMP%]   .fc-title[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-title[_ngcontent-%COMP%]{font-size:.8rem}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-content[_ngcontent-%COMP%]{display:flex}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-title[_ngcontent-%COMP%]{display:inline-block;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.schedule-container[_ngcontent-%COMP%]   .commitment-event[_ngcontent-%COMP%]{background-color:#d9d9d9;border-color:#d9d9d9}.schedule-container[_ngcontent-%COMP%]   .commitment-event[_ngcontent-%COMP%]:hover{cursor:pointer}.schedule-container[_ngcontent-%COMP%]   .fc-header-toolbar[_ngcontent-%COMP%]   .fc-left[_ngcontent-%COMP%]{margin-left:10px}.schedule-container[_ngcontent-%COMP%]   .fc-button-group[_ngcontent-%COMP%]{font-size:.6rem}.schedule-container[_ngcontent-%COMP%]   .fc-button-group[_ngcontent-%COMP%]   .fc-button-primary[_ngcontent-%COMP%]{background-color:#fff;border-color:grey;color:grey;box-shadow:none}.schedule-container[_ngcontent-%COMP%]   .fc-button-group[_ngcontent-%COMP%]   .fc-button-primary[_ngcontent-%COMP%]:not(:disabled):active{box-shadow:none}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]{min-height:1rem}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%]::before{display:none}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid[_ngcontent-%COMP%]   .fc-slats[_ngcontent-%COMP%]   .fc-minor[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-top:0}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-container[_ngcontent-%COMP%]{overflow:visible!important}.slds-scope[_ngcontent-%COMP%]   .slds-button[_ngcontent-%COMP%]:not([disabled]){color:#0672d4}.slds-scope[_ngcontent-%COMP%]   .slds-button.slds-button_brand[_ngcontent-%COMP%]{color:#fff}.slds-scope[_ngcontent-%COMP%]   .slds-button.decline-button[_ngcontent-%COMP%]:not([disabled]){color:#c13834;border-color:#c13834}.slds-scope[_ngcontent-%COMP%]   .slds-button.accept-button[_ngcontent-%COMP%]:not([disabled]){color:#fff}.slds-scope[_ngcontent-%COMP%]   .slds-slider__range[_ngcontent-%COMP%]{-webkit-appearance:none}.slds-scope[_ngcontent-%COMP%]   .slds-slider__range[_ngcontent-%COMP%]::-webkit-slider-thumb{-webkit-appearance:none;appearance:none}.initialize-softphone[_ngcontent-%COMP%]   .slds-spinner[_ngcontent-%COMP%]{margin-left:-6em}.slds-scope[_ngcontent-%COMP%]   .cdk-overlay-container[_ngcontent-%COMP%]{position:absolute}.unread-icon[_ngcontent-%COMP%]{height:.5rem;width:.5rem;border-radius:50%;display:inline-block;background-color:#1589ee}.unread-icon.visited[_ngcontent-%COMP%]{background:0 0}.agent-indicator[_ngcontent-%COMP%]{background:#f7f7f7;overflow:hidden;position:relative;width:100%}.agent-indicator[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{background-color:#fff}.agent-indicator[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{cursor:pointer}.agent-indicator.less-indicators[_ngcontent-%COMP%]{height:2.2rem}.agent-indicator.more-indicators[_ngcontent-%COMP%]{height:auto}"]],data:{}});function Ro(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,2,null,null,null,null,null,null,null)),(n()(),o.qb(1,0,null,null,1,"app-indicator-list",[],null,null,null,qo,Eo)),o.pb(2,49152,null,0,To,[Bn,O,_,qn,tt,S],{indicator:[0,"indicator"]},null)],function(n,t){n(t,2,0,t.context.$implicit)},null)}function jo(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,3,"div",[["class","agent-indicator slds-p-horizontal_xx-small"]],null,[[null,"mouseover"],[null,"mouseout"]],function(n,t,e){var l=!0,o=n.component;return"mouseover"===t&&(l=!1!==o.displayMoreIndicators(!0)&&l),"mouseout"===t&&(l=!1!==o.displayMoreIndicators(!1)&&l),l},null,null)),o.pb(1,278528,null,0,Pt.j,[o.s,o.t,o.k,o.E],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(n()(),o.hb(16777216,null,null,1,null,Ro)),o.pb(3,278528,null,0,Pt.k,[o.P,o.M,o.s],{ngForOf:[0,"ngForOf"]},null)],function(n,t){var e=t.component;n(t,1,0,"agent-indicator slds-p-horizontal_xx-small",e.showMoreIndicators?"more-indicators":"less-indicators"),n(t,3,0,e.indicators)},null)}function Jo(n){return o.Jb(0,[(n()(),o.hb(16777216,null,null,1,null,jo)),o.pb(1,16384,null,0,Pt.l,[o.P,o.M],{ngIf:[0,"ngIf"]},null)],function(n,t){var e=t.component;n(t,1,0,e.indicators&&e.indicators.length)},null)}var Fo=function(){function n(n,t,e,l,o,i,s,c,a,r){var u=this;this.adminSvc=n,this.contactsSvc=t,this.navigationUtilSvc=e,this.validationUtilSvc=l,this.containerSvc=o,this.localizationSvc=i,this.modalSvc=s,this.agentSvc=c,this.localStorageSvc=a,this.workitemTabFocusSvc=r,this.initParam=y.init(),this.langCode=this.initParam.langCode,this.svgFilePath=this.initParam.resourceBase+"/assets/icons/svg/cxone-favicon.svg",this.showCloudIcon=!1,this.focusWorkItemEvent=this.workitemTabFocusSvc.focusWorkItemEvent.subscribe(function(n){u.showCloudIcon=!1,u.validationUtilSvc.isNullOrEmpty(n)||u.showCloudIconForFocusedWiContact(n.id)})}return n.prototype.ngOnInit=function(){this.setSkillName(),this.setTitle(),this.showCloudIconForFocusedWiContact(this.lastFocusedWiContactId)},n.prototype.setSkillName=function(){var n=this;this.skillName=this.activeContact.skillId,this.adminSvc.getSkillDetails(this.activeContact.skillId).then(function(t){n.skillName=t.skillName})},n.prototype.setTitle=function(){var n=this;if("WorkItemContactEvent"===this.activeContact.contactType){var t=this.contactsSvc.getSpecificContactFromContacts(this.activeContact),e=this.containerSvc.getWorkItemResultId(t,this.contactSfResult),l=this.validationUtilSvc.isNotNullOrEmpty(this.activeContact.title)?this.activeContact.title:"workItem";this.localizationSvc.getLocalizedValue(l).subscribe(function(t){n.title=t+" "+e})}},n.prototype.onSelect=function(){var n=this;this.workitemTabFocusSvc.canScreenpop=!0,this.contactsSvc.isMchEnabled()&&this.activeContact.status!==Tn.Active&&this.activeContact.status!==Tn.Disconnected?this.agentSvc.activateContact(this.activeContact.id).then(function(){n.setSelectedContact()}):(this.setSelectedContact(),this.navigationUtilSvc.navigate(["/contacts"]))},n.prototype.setSelectedContact=function(){this.contactsSvc.setSelectedContact(this.activeContact);var n=this.contactsSvc.getSpecificContactFromContacts(this.activeContact);this.contactsSvc.updateDisplayContacts(n)},n.prototype.openDialPad=function(n){n.stopPropagation();var t=new Wn;t.contentType=l.Dialpad,t.dataModel={parentContactId:this.activeContact.id,parentContactStatus:this.activeContact.status},this.modalSvc.openModalDialog(t)},n.prototype.showCloudIconForFocusedWiContact=function(n){this.showCloudIcon=this.activeContact.id===n},n.prototype.ngOnDestroy=function(){this.validationUtilSvc.isNullOrEmpty(this.focusWorkItemEvent)||this.focusWorkItemEvent.unsubscribe()},n}(),zo=o.ob({encapsulation:0,styles:[[".full-height[_ngcontent-%COMP%], html[_ngcontent-%COMP%], html[_ngcontent-%COMP%]   body[_ngcontent-%COMP%]{height:100%}.no-strech[_ngcontent-%COMP%]{flex:0}.strech[_ngcontent-%COMP%]{flex:1;position:relative}.no-scroll[_ngcontent-%COMP%]{overflow:hidden}.full-height-flex[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;justify-content:center}.center-align[_ngcontent-%COMP%]{text-align:center}.cursor-pointer[_ngcontent-%COMP%]{cursor:pointer}.text-wrap[_ngcontent-%COMP%]{word-wrap:break-word}.text-bold[_ngcontent-%COMP%]{font-weight:700}.cdk-overlay-container[_ngcontent-%COMP%]   .slds-modal__container[_ngcontent-%COMP%]{margin:0;padding:0}.cdk-overlay-container[_ngcontent-%COMP%]   .slds-modal__content[_ngcontent-%COMP%]{height:100%}.cdk-global-scrollblock[_ngcontent-%COMP%]{overflow-y:auto!important}@media (min-width:48em){.slds-scope[_ngcontent-%COMP%]   .slds-modal--large[_ngcontent-%COMP%]   .slds-modal__container[_ngcontent-%COMP%], .slds-scope[_ngcontent-%COMP%]   .slds-modal_large[_ngcontent-%COMP%]   .slds-modal__container[_ngcontent-%COMP%]{width:100%;height:100%}}.pull-down[_ngcontent-%COMP%]{position:absolute;bottom:0;width:100%}.dialog-style[_ngcontent-%COMP%]{position:fixed;top:0;background-color:#fff;right:0;left:0;box-shadow:0 0 5px grey;z-index:1001}.schedule-container[_ngcontent-%COMP%]   .fc-widget-content[_ngcontent-%COMP%]{background-color:#fff}.schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%]{opacity:.75;text-indent:3px}.schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-event[_ngcontent-%COMP%]{border-radius:0;cursor:default;color:#01396a;min-height:2rem}.schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-event[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%]{font-weight:700}.schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%]:hover, .schedule-container[_ngcontent-%COMP%]   .fc-event[_ngcontent-%COMP%]:hover{text-decoration:none;color:#01396a}.schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%]   .fc-title[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-event[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-event[_ngcontent-%COMP%]   .fc-title[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-slats[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-slats[_ngcontent-%COMP%]   .fc-title[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-title[_ngcontent-%COMP%]{font-size:.8rem}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-content[_ngcontent-%COMP%]{display:flex}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-title[_ngcontent-%COMP%]{display:inline-block;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.schedule-container[_ngcontent-%COMP%]   .commitment-event[_ngcontent-%COMP%]{background-color:#d9d9d9;border-color:#d9d9d9}.schedule-container[_ngcontent-%COMP%]   .commitment-event[_ngcontent-%COMP%]:hover{cursor:pointer}.schedule-container[_ngcontent-%COMP%]   .fc-header-toolbar[_ngcontent-%COMP%]   .fc-left[_ngcontent-%COMP%]{margin-left:10px}.schedule-container[_ngcontent-%COMP%]   .fc-button-group[_ngcontent-%COMP%]{font-size:.6rem}.schedule-container[_ngcontent-%COMP%]   .fc-button-group[_ngcontent-%COMP%]   .fc-button-primary[_ngcontent-%COMP%]{background-color:#fff;border-color:grey;color:grey;box-shadow:none}.schedule-container[_ngcontent-%COMP%]   .fc-button-group[_ngcontent-%COMP%]   .fc-button-primary[_ngcontent-%COMP%]:not(:disabled):active{box-shadow:none}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]{min-height:1rem}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%]::before{display:none}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid[_ngcontent-%COMP%]   .fc-slats[_ngcontent-%COMP%]   .fc-minor[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-top:0}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-container[_ngcontent-%COMP%]{overflow:visible!important}.slds-scope[_ngcontent-%COMP%]   .slds-button[_ngcontent-%COMP%]:not([disabled]){color:#0672d4}.slds-scope[_ngcontent-%COMP%]   .slds-button.slds-button_brand[_ngcontent-%COMP%]{color:#fff}.slds-scope[_ngcontent-%COMP%]   .slds-button.decline-button[_ngcontent-%COMP%]:not([disabled]){color:#c13834;border-color:#c13834}.slds-scope[_ngcontent-%COMP%]   .slds-button.accept-button[_ngcontent-%COMP%]:not([disabled]){color:#fff}.slds-scope[_ngcontent-%COMP%]   .slds-slider__range[_ngcontent-%COMP%]{-webkit-appearance:none}.slds-scope[_ngcontent-%COMP%]   .slds-slider__range[_ngcontent-%COMP%]::-webkit-slider-thumb{-webkit-appearance:none;appearance:none}.initialize-softphone[_ngcontent-%COMP%]   .slds-spinner[_ngcontent-%COMP%]{margin-left:-6em}.slds-scope[_ngcontent-%COMP%]   .cdk-overlay-container[_ngcontent-%COMP%]{position:absolute}.unread-icon[_ngcontent-%COMP%]{height:.5rem;width:.5rem;border-radius:50%;display:inline-block;background-color:#1589ee}.unread-icon.visited[_ngcontent-%COMP%]{background:0 0}.active-contact-item[_ngcontent-%COMP%]:hover{background-color:#e7f3fd}.active-contact-item[_ngcontent-%COMP%]:hover   .active-contact-item-button[_ngcontent-%COMP%]{display:block}.active-contact-item[_ngcontent-%COMP%]   .active-contact-item-button[_ngcontent-%COMP%]{display:none;right:0;top:20%}.active-contact-item[_ngcontent-%COMP%]   .slds-button[_ngcontent-%COMP%]:hover{background-color:#1b5297;border-color:#1b5297;color:#fff}"]],data:{}});function Ho(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,3,"div",[["class","slds-is-absolute active-contact-item-button slds-p-right_x-small"]],null,null,null,null,null)),(n()(),o.qb(1,0,null,null,2,"button",[["class","slds-button slds-button_neutral"]],null,[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.openDialPad(e)&&l),l},null,null)),(n()(),o.Hb(2,null,[" "," "])),o.Bb(131072,d.i,[d.j,o.h])],null,function(n,t){n(t,2,0,o.Ib(t,2,0,o.Ab(t,3).transform("call")))})}function Wo(n){return o.Jb(0,[o.Bb(0,st,[]),(n()(),o.qb(1,0,null,null,18,"div",[["class","active-contact-item cursor-pointer slds-is-relative slds-float_left slds-size_1-of-1 slds-p-top_x-small slds-p-bottom_x-small"]],null,[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.onSelect()&&l),l},null,null)),(n()(),o.qb(2,0,null,null,7,"div",[["class","slds-float_left"]],null,null,null,null,null)),(n()(),o.qb(3,0,null,null,2,"div",[["class","slds-float_left slds-m-left_small slds-m-right_small unread-icon"]],[[2,"visited",null]],null,null,null,null)),o.pb(4,278528,null,0,Pt.j,[o.s,o.t,o.k,o.E],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),o.Cb(5,{"slds-m-top_medium":0,"slds-m-top_x-small":1}),(n()(),o.qb(6,0,null,null,3,"div",[["class","slds-m-left_x-small"]],null,null,null,null,null)),(n()(),o.qb(7,0,null,null,2,"img",[],[[8,"src",4],[2,"slds-hidden",null]],null,null,null,null)),o.pb(8,278528,null,0,Pt.j,[o.s,o.t,o.k,o.E],{ngClass:[0,"ngClass"]},null),o.Cb(9,{"slds-m-top_none":0,"slds-m-top_xx-small":1}),(n()(),o.qb(10,0,null,null,1,"div",[["class","slds-col slds-size_3-of-5 slds-float_left slds-text-title_bold slds-truncate"]],[[8,"title",0]],null,null,null,null)),(n()(),o.Hb(11,null,[" "," "])),(n()(),o.qb(12,0,null,null,2,"div",[["class","slds-p-right_x-small slds-float_right"]],null,null,null,null,null)),(n()(),o.Hb(13,null,["",""])),o.Db(14,2),(n()(),o.qb(15,0,null,null,2,"div",[],null,null,null,null,null)),(n()(),o.qb(16,0,null,null,1,"div",[["class","slds-size_3-of-5 slds-float_left slds-truncate"]],[[8,"title",0]],null,null,null,null)),(n()(),o.Hb(17,null,[" "," (",") "])),(n()(),o.hb(16777216,null,null,1,null,Ho)),o.pb(19,16384,null,0,Pt.l,[o.P,o.M],{ngIf:[0,"ngIf"]},null)],function(n,t){var e=t.component,l=n(t,5,0,!e.showCloudIcon,e.showCloudIcon);n(t,4,0,"slds-float_left slds-m-left_small slds-m-right_small unread-icon",l);var o=n(t,9,0,e.activeContact.visited,!e.activeContact.visited);n(t,8,0,o),n(t,19,0,e.showCallButton)},function(n,t){var e=t.component;n(t,3,0,e.activeContact.visited),n(t,7,0,o.sb(1,"",e.svgFilePath,""),!e.showCloudIcon),n(t,10,0,o.sb(1,"",e.title,"")),n(t,11,0,e.title);var l=o.Ib(t,13,0,n(t,14,0,o.Ab(t,0),e.activeContact.startTime,e.langCode));n(t,13,0,l),n(t,16,0,o.sb(2,"",e.skillName," (",e.activeContact.skillId,")")),n(t,17,0,e.skillName,e.activeContact.skillId)})}var Vo=function(){function n(n,t,e,l,o,i,s){var c=this;this.agentSvc=n,this.validationUtilSvc=t,this.localStorageSvc=e,this.containerSvc=l,this.contactsSvc=o,this.workitemTabFocusSvc=i,this.logger=s,this.activeContacts=[],this.lastFocusedWiContactId="",this.focusWorkItemEvent=this.workitemTabFocusSvc.focusWorkItemEvent.subscribe(function(n){c.validationUtilSvc.isNullOrEmpty(n)||c.setLastFocusedWiContactId(n.id)})}return n.prototype.ngOnInit=function(){var t=this;this.logger.debug(n.className,"Initialize"),this.contactsSvc.resetActiveWIContactFlag();var e=JSON.parse(this.localStorageSvc.get(g.Contacts));this.validationUtilSvc.isNotNullOrEmptyArray(e)&&this.setActiveContacts(e),this.setShowCallButton(),this.contactUpdateEvent=this.agentSvc.contactUpdateEvent.subscribe(function(n){t.setShowCallButton(),t.setActiveContacts(n)}),this.contactSfResult=this.containerSvc.getContactSfResult(),this.containerSvc.updateSfResult.subscribe(function(n){t.contactSfResult=t.containerSvc.getContactSfResult(n)}),this.workitemTabFocusSvc.focusWorkItemContactOnPageLoad()},n.prototype.setShowCallButton=function(){var n=this.containerSvc.getAgentOutBoundSkills();this.showCallButton=this.contactsSvc.isMchEnabled()&&n.length>0&&0===this.contactsSvc.callContacts.length&&0===this.contactsSvc.voiceMailContacts.length},n.prototype.setActiveContacts=function(n){var t=this;void 0===n&&(n=[]),this.activeContacts=[],n.filter(function(n){return!n.finalState&&n.status!==Tn.Incoming&&"WorkItemContactEvent"===n.contactType&&!t.contactsSvc.validateOmniGroupId(n.omniGroupId)}).forEach(function(n){var e=new wn;e.parseData(n),t.activeContacts.push(e)})},n.prototype.setLastFocusedWiContactId=function(t){this.logger.debug(n.className,"setLastFocusedWiContactId: "+t),this.lastFocusedWiContactId=t},n.prototype.ngOnDestroy=function(){this.logger.debug(n.className,"Destroy"),this.validationUtilSvc.isNotNullOrUndefined(this.contactUpdateEvent)&&this.contactUpdateEvent.unsubscribe(),this.validationUtilSvc.isNotNullOrUndefined(this.focusWorkItemEvent)&&this.focusWorkItemEvent.unsubscribe()},n.className="ActiveContactsComponent",n}(),Go=o.ob({encapsulation:2,styles:[],data:{}});function Xo(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,2,"div",[["class","center-align full-height-flex"]],null,null,null,null,null)),(n()(),o.Hb(1,null,[" "," "])),o.Bb(131072,d.i,[d.j,o.h])],null,function(n,t){n(t,1,0,o.Ib(t,1,0,o.Ab(t,2).transform("noItemsToDisplay")))})}function Qo(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,2,"div",[],null,null,null,null,null)),(n()(),o.qb(1,0,null,null,1,"app-active-contact-item",[],null,null,null,Wo,zo)),o.pb(2,245760,null,0,Fo,[qn,Yn,A,f,ot,S,Hn,Un,p,lt],{activeContact:[0,"activeContact"],contactSfResult:[1,"contactSfResult"],showCallButton:[2,"showCallButton"],lastFocusedWiContactId:[3,"lastFocusedWiContactId"]},null)],function(n,t){var e=t.component;n(t,2,0,t.context.$implicit,e.contactSfResult,e.showCallButton&&"Disconnected"!==t.context.$implicit.status,e.lastFocusedWiContactId)},null)}function $o(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,4,"div",[["class","full-height"]],null,null,null,null,null)),(n()(),o.hb(16777216,null,null,1,null,Xo)),o.pb(2,16384,null,0,Pt.l,[o.P,o.M],{ngIf:[0,"ngIf"]},null),(n()(),o.hb(16777216,null,null,1,null,Qo)),o.pb(4,278528,null,0,Pt.k,[o.P,o.M,o.s],{ngForOf:[0,"ngForOf"]},null)],function(n,t){var e=t.component;n(t,2,0,0===(null==e.activeContacts?null:e.activeContacts.length)),n(t,4,0,e.activeContacts)},null)}var Ko=e("yfBw"),Yo=e("g985"),Zo=e("W67H"),ni=e.n(Zo),ti=function(){function n(n,t,e,l,o,i,s){var c=this;this.localStorageSvc=n,this.adminSvc=t,this.logger=e,this.validationUtilSvc=l,this.modalSvc=o,this.localizationSvc=i,this.agentSvc=s,this.schedules=[],this.initParam=y.init(),this.langCode=this.initParam.langCode,this.commitmentClassName="commitment-event",this.today=new Date,this.defaultLocale="en-US",this.calendarDefaultHeight="parent",this.headerToolbar=!0,this.calendarOptions={plugins:[ni.a],height:this.calendarDefaultHeight,defaultView:"timeGridDay",header:{left:"prev,next",right:""},validRange:{start:this.today,end:this.today},events:[],locale:this.defaultLocale,columnHeader:!1,allDaySlot:!1,nowIndicator:!0,slotEventOverlap:!1,slotDuration:"00:20:00",defaultTimedEventDuration:"00:20",eventTimeFormat:{hour:"numeric",minute:"2-digit",meridiem:"h:mm a"},slotLabelFormat:{hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"h:mm a"},eventClick:this.onEventClick.bind(this),eventRender:this.onEventRender.bind(this)},this.supportedLangs=this.localizationSvc.supportedLangs,this.calendarOptions.locale=this.getDateLocale();var a=["shift","commitment"];this.localizationSvc.getLocalizedValue(a).subscribe(function(n){if(c.validationUtilSvc.isNotNullOrUndefined(n))for(var t=0,e=Object.keys(n);t<e.length;t++){var l=e[t];l===a[0]&&(c.shiftLabel=n[l]),l===a[1]&&(c.commitmentLabel=n[l])}})}return n.prototype.ngOnInit=function(){var t=this;this.logger.debug(n.className,"Initialize"),this.modalCloseEventSubscription=this.modalSvc.modalCloseEvent.subscribe(function(n){n&&t.getSchedules()}),this.updateCallbackSubscription=this.agentSvc.updateCallbackEvent.subscribe(function(){return t.getSchedules()}),this.getSchedules()},n.prototype.ngAfterViewInit=function(){this.scrollToCurrentTime()},n.prototype.scrollToCurrentTime=function(){var n=document.getElementsByClassName("fc-now-indicator-arrow");this.validationUtilSvc.isNotNullOrEmptyArray(n)&&n[0].scrollIntoView()},n.prototype.getSchedules=function(){JSON.parse(this.localStorageSvc.get(g.AuthSettings)).isUserHub?this.getBusinessUnit():this.getCommitments()},n.prototype.getCommitments=function(){var t=this;this.logger.info(n.className,"getCommitments"),this.scheduleSubscription=this.adminSvc.getCommitments().subscribe(function(n){t.schedules=t.filterTodayCommitments(n),t.updateCalendarOptions()},function(e){t.logger.error(n.className,"getCommitments error - "+JSON.stringify(e))})},n.prototype.filterTodayCommitments=function(n){return void 0===n&&(n=[]),n.filter(function(n){var t=new Date,e=n.start;return e.getDate()===t.getDate()&&e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()})},n.prototype.getBusinessUnit=function(){var t=this;this.logger.info(n.className,"getBusinessUnit"),this.adminSvc.getBusinessUnit().then(function(e){e.features.filter(function(n){return 102===n.productId}).length>0?t.scheduleSubscription=Object(gt.a)([t.adminSvc.getCommitments(),t.adminSvc.getWfoSchedule()]).subscribe(function(n){var e=t.filterTodayCommitments(n[0]);t.schedules=e.concat(n[1]),t.updateCalendarOptions()},function(e){t.logger.error(n.className,"schedules error - "+JSON.stringify(e))}):t.getCommitments()},function(e){t.logger.error(n.className,"getBusinessUnit error - "+JSON.stringify(e))})},n.prototype.updateCalendarOptions=function(){this.calendarOptions.events=[],this.schedules.length>0?(this.sortSchedules(),this.setValidDateRange(),this.setCalendarEvents(),this.refreshCalendar()):this.headerToolbar=!1,this.hideHeader(),this.scrollToCurrentTime()},n.prototype.refreshCalendar=function(){if(this.validationUtilSvc.isNotNullOrUndefined(this.calendarComponent)){var n=this.calendarComponent.getApi();this.validationUtilSvc.isNotNullOrUndefined(n)&&n.changeView("timeGridDay")}},n.prototype.sortSchedules=function(){this.logger.info(n.className,"sortSchedules"),this.schedules.sort(function(n,t){return n.start.getTime()-t.start.getTime()})},n.prototype.setValidDateRange=function(){var n=!1,t=!1;if(this.setStartAndEndTime(),this.startTime.getDate()!==this.today.getDate()){var e=new Date;e.setDate(this.today.getDate()-1),this.calendarOptions.validRange.start=e,n=!0}if(this.endTime.getDate()!==this.today.getDate()){var l=new Date;l.setDate(this.today.getDate()+1),this.calendarOptions.validRange.end=l,t=!0}n||t||(this.headerToolbar=!1)},n.prototype.hideHeader=function(){if(!this.headerToolbar){var n=document.getElementsByClassName("fc-header-toolbar");this.validationUtilSvc.isNotNullOrEmptyArray(n)&&n[0].classList.add("slds-hide")}},n.prototype.setStartAndEndTime=function(){var n=this,t=[];this.schedules.forEach(function(e){n.validationUtilSvc.isNotNullOrUndefined(e.start)&&t.push(e.start),n.validationUtilSvc.isNotNullOrUndefined(e.end)&&t.push(e.end)}),t.sort(function(n,t){return n.getTime()-t.getTime()}),this.startTime=t[0],this.endTime=t[t.length-1]},n.prototype.setCalendarEvents=function(){var n=this;this.schedules.forEach(function(t){var e=t.name,l="shift"===e?"background":"";"shift"===e?e=n.shiftLabel:"commitment"===e&&(e=n.commitmentLabel),n.calendarOptions.events.push({id:t.id,title:e,start:t.start,end:t.end,backgroundColor:t.colorCode,color:t.colorCode,className:t.isWfo?"":n.commitmentClassName,rendering:l})})},n.prototype.onEventClick=function(n){if(n.event.classNames[0]===this.commitmentClassName){var t=n.event.id,e=this.schedules.find(function(n){return n.id===t}),o=new Wn;o.contentType=l.Commitment,o.dataModel=e,this.modalSvc.openModalDialog(o)}},n.prototype.onEventRender=function(n){var t=n.el,e=n.event,l=new st,o=l.transform(e.start,this.langCode,!0);if(this.validationUtilSvc.isNullOrEmpty(e.end)||(o+=" - "+l.transform(e.end,this.langCode,!0)),"background"===e.rendering){t.title=o+" - "+this.shiftLabel;var i=document.createElement("div"),s=document.createElement("div");s.innerText=o,s.className="fc-time",i.appendChild(s);var c=document.createElement("div");c.innerText=this.shiftLabel,c.className="fc-title",i.appendChild(c),t.appendChild(i)}else t.title=o+" - "+e.title},n.prototype.getDateLocale=function(){return-1!==this.supportedLangs.indexOf(this.langCode)?this.langCode.replace("_","-"):this.defaultLocale},n.prototype.ngOnDestroy=function(){this.logger.debug(n.className,"Destroy"),this.validationUtilSvc.isNullOrEmpty(this.modalCloseEventSubscription)||this.modalCloseEventSubscription.unsubscribe(),this.validationUtilSvc.isNullOrEmpty(this.scheduleSubscription)||this.scheduleSubscription.unsubscribe(),this.validationUtilSvc.isNullOrEmpty(this.updateCallbackSubscription)||this.updateCallbackSubscription.unsubscribe()},n.className="AgentScheduleComponent",n}(),ei=o.ob({encapsulation:0,styles:[[""]],data:{}});function li(n){return o.Jb(0,[o.Fb(402653184,1,{calendarComponent:0}),(n()(),o.qb(1,0,null,null,2,"div",[["class","schedule-container"]],null,null,null,null,null)),(n()(),o.qb(2,0,null,null,1,"full-calendar",[],null,[[null,"eventRender"],[null,"eventClick"]],function(n,t,e){var l=!0,o=n.component;return"eventRender"===t&&(l=!1!==o.calendarOptions.eventRender(e)&&l),"eventClick"===t&&(l=!1!==o.calendarOptions.eventClick(e)&&l),l},Ko.b,Ko.a)),o.pb(3,7258112,[[1,4],["scheduleCalendar",4]],0,Yo.a,[o.k],{header:[0,"header"],height:[1,"height"],defaultView:[2,"defaultView"],allDaySlot:[3,"allDaySlot"],slotDuration:[4,"slotDuration"],slotLabelFormat:[5,"slotLabelFormat"],slotEventOverlap:[6,"slotEventOverlap"],nowIndicator:[7,"nowIndicator"],validRange:[8,"validRange"],locale:[9,"locale"],eventTimeFormat:[10,"eventTimeFormat"],columnHeader:[11,"columnHeader"],defaultTimedEventDuration:[12,"defaultTimedEventDuration"],events:[13,"events"],plugins:[14,"plugins"]},{eventClick:"eventClick",eventRender:"eventRender"})],function(n,t){var e=t.component;n(t,3,1,[e.calendarOptions.header,e.calendarOptions.height,e.calendarOptions.defaultView,e.calendarOptions.allDaySlot,e.calendarOptions.slotDuration,e.calendarOptions.slotLabelFormat,e.calendarOptions.slotEventOverlap,e.calendarOptions.nowIndicator,e.calendarOptions.validRange,e.calendarOptions.locale,e.calendarOptions.eventTimeFormat,e.calendarOptions.columnHeader,e.calendarOptions.defaultTimedEventDuration,e.calendarOptions.events,e.calendarOptions.plugins])},null)}var oi=function(){function n(n,t,e,l,o,i,s){var c=this;this.containerSvc=n,this.logger=t,this.localStorageSvc=e,this.validationUtilSvc=l,this.localizationSvc=o,this.agentSvc=i,this.adminSvc=s,this.agentMessages=[],this.embeddedPageLoaded=!1,this.notificationMessages=[],this.embeddedAPIFailureCounter=0,this.embeddedPagesLinks=[],this.agentMessagesEvent=new zn.a,this.agentMessageNotification=new zn.a,this.getAgentMessages(),this.containerSvc.agentWFOMessagesEvent.subscribe(function(n){c.onGetEvolveMessages(n)}),this.agentSvc.updateAgentMessagesEvent.subscribe(function(n){c.getAgentMessages(!0)}),this.agentSvc.clearExpiredMessagesEvent.subscribe(function(n){c.agentMessages=JSON.parse(c.localStorageSvc.get(g.AgentMessages))})}return n.prototype.getAgentMessages=function(t){var e=this;void 0===t&&(t=!1),this.adminSvc.getAgentMessages(t).then(function(n){e.agentMessages=n,e.agentMessagesEvent.next(e.agentMessages),e.agentMessageNotification.next(e.agentMessages)},function(t){e.logger.error(n.className,JSON.stringify(t))})},n.prototype.markMsgRead=function(n){for(var t=0;t<this.agentMessages.length;t++)if(this.agentMessages[t].id===n.id){this.agentMessages[t].msgRead=!0,this.validationUtilSvc.isNullOrEmpty(n.evolveNotificationurl)||this.containerSvc.sendAcknowledge(this.agentMessages[t].id),this.localStorageSvc.set(g.AgentMessages,JSON.stringify(this.agentMessages));break}this.agentMessagesEvent.next(this.agentMessages)},n.prototype.onGetSupportedEmbeddedPagesSuccess=function(n){this.embeddedPagesLinks=[];for(var t=0;t<n.links.length;t++)this.embeddedPagesLinks.push(n.links[t].appContext+n.links[t].url);this.embeddedPageLoaded=!0;var e=this.notificationMessages.length;if(e>0)for(t=0;t<e;t++)this.processMessage(this.notificationMessages[t])},n.prototype.onGetSupportedEmbeddedPagesFailure=function(t){var e=this;this.embeddedAPIFailureCounter++,this.embeddedAPIFailureCounter<3&&setTimeout(function(){e.agentSvc.getEmbeddedPages().then(function(n){e.onGetSupportedEmbeddedPagesSuccess(n)},function(t){e.logger.debug(n.className,"onGetSupportedEmbeddedPagesFailure Failed : "+JSON.stringify(t)),e.onGetSupportedEmbeddedPagesFailure(t)})},3e4)},n.prototype.onGetEvolveMessages=function(t){var e=this;"CONNECTED"===t.command?this.agentSvc.getEmbeddedPages().then(function(n){e.onGetSupportedEmbeddedPagesSuccess(n)},function(t){e.logger.debug(n.className,"onGetEvolveMessages Failed : "+JSON.stringify(t)),e.onGetSupportedEmbeddedPagesFailure(t)}):"MESSAGE"===t.command&&"IN_APP"===t.headers.notificationTargetType&&(this.embeddedPageLoaded?this.processMessage(t):this.notificationMessages.push(t))},n.prototype.processMessage=function(n){if(this.validationUtilSvc.isNullOrEmpty(n.data.notificationURL)||this.isSupportedByEmbeddedPages(n.data.notificationURL)){var t=new R;t.id=n.headers.notificationUuid,t.msgRead=M.toBoolean(n.headers.isRead),t.evolveNotificationurl=n.data.notificationURL,t.isEvolve=!0,t.receivedDateTime=new Date(n.headers.publishDate),t.subject=n.displayData.title,t.message=n.displayData.content,this.findMessageById(this.agentMessages,t)||(this.agentMessages.unshift(t),this.agentMessages.sort(function(n,t){return new Date(t.receivedDateTime).getTime()-new Date(n.receivedDateTime).getTime()})),this.agentMessagesEvent.next(this.agentMessages),this.localStorageSvc.set(g.AgentMessages,JSON.stringify(this.agentMessages))}},n.prototype.isSupportedByEmbeddedPages=function(n){for(var t=!1,e=0;e<this.embeddedPagesLinks.length;e++)if(-1!==n.indexOf(this.embeddedPagesLinks[e])){t=!0;break}return t},n.prototype.findMessageById=function(n,t){for(var e=0;e<n.length;e++)if(n[e].id===t.id)return n[e]=t,!0},n.className="AgentmessageService",n.ngInjectableDef=o.T({factory:function(){return new n(o.X(ot),o.X(_),o.X(p),o.X(f),o.X(S),o.X(Un),o.X(qn))},token:n,providedIn:"root"}),n}(),ii=function(){function n(n,t,e,l,o,i){this.agentSvc=n,this.localStorageSvc=t,this.containerSvc=e,this.logger=l,this.validationUtilSvc=o,this.agentMessageSvc=i,this.agentMessages=[]}return n.prototype.ngOnInit=function(){var t=this;this.logger.debug(n.className,"Initialize"),this.clearExpiredMessagesEvent=this.agentSvc.clearExpiredMessagesEvent.subscribe(function(n){t.agentMessages=JSON.parse(t.localStorageSvc.get(g.AgentMessages))}),this.agentMessages=this.agentMessageSvc.agentMessages,this.agentMessageSvc.agentMessagesEvent.subscribe(function(n){t.agentMessages=n})},n.prototype.markMsgRead=function(n){this.agentMessageSvc.markMsgRead(n)},n.prototype.openCXonePage=function(n){this.containerSvc.openCXonePage(n)},n.prototype.ngOnDestroy=function(){this.logger.debug(n.className,"Destroy"),this.validationUtilSvc.isNotNullOrEmpty(this.clearExpiredMessagesEvent)&&this.clearExpiredMessagesEvent.unsubscribe()},n.className="AgentMessageComponent",n}(),si=o.ob({encapsulation:0,styles:[[".full-height[_ngcontent-%COMP%], html[_ngcontent-%COMP%], html[_ngcontent-%COMP%]   body[_ngcontent-%COMP%]{height:100%}.no-strech[_ngcontent-%COMP%]{flex:0}.strech[_ngcontent-%COMP%]{flex:1;position:relative}.no-scroll[_ngcontent-%COMP%]{overflow:hidden}.full-height-flex[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;justify-content:center}.center-align[_ngcontent-%COMP%]{text-align:center}.cursor-pointer[_ngcontent-%COMP%]{cursor:pointer}.text-wrap[_ngcontent-%COMP%]{word-wrap:break-word}.text-bold[_ngcontent-%COMP%]{font-weight:700}.cdk-overlay-container[_ngcontent-%COMP%]   .slds-modal__container[_ngcontent-%COMP%]{margin:0;padding:0}.cdk-overlay-container[_ngcontent-%COMP%]   .slds-modal__content[_ngcontent-%COMP%]{height:100%}.cdk-global-scrollblock[_ngcontent-%COMP%]{overflow-y:auto!important}@media (min-width:48em){.slds-scope[_ngcontent-%COMP%]   .slds-modal--large[_ngcontent-%COMP%]   .slds-modal__container[_ngcontent-%COMP%], .slds-scope[_ngcontent-%COMP%]   .slds-modal_large[_ngcontent-%COMP%]   .slds-modal__container[_ngcontent-%COMP%]{width:100%;height:100%}}.pull-down[_ngcontent-%COMP%]{position:absolute;bottom:0;width:100%}.dialog-style[_ngcontent-%COMP%]{position:fixed;top:0;background-color:#fff;right:0;left:0;box-shadow:0 0 5px grey;z-index:1001}.schedule-container[_ngcontent-%COMP%]   .fc-widget-content[_ngcontent-%COMP%]{background-color:#fff}.schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%]{opacity:.75;text-indent:3px}.schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-event[_ngcontent-%COMP%]{border-radius:0;cursor:default;color:#01396a;min-height:2rem}.schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-event[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%]{font-weight:700}.schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%]:hover, .schedule-container[_ngcontent-%COMP%]   .fc-event[_ngcontent-%COMP%]:hover{text-decoration:none;color:#01396a}.schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%]   .fc-title[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-event[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-event[_ngcontent-%COMP%]   .fc-title[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-slats[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-slats[_ngcontent-%COMP%]   .fc-title[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-title[_ngcontent-%COMP%]{font-size:.8rem}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-content[_ngcontent-%COMP%]{display:flex}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-title[_ngcontent-%COMP%]{display:inline-block;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.schedule-container[_ngcontent-%COMP%]   .commitment-event[_ngcontent-%COMP%]{background-color:#d9d9d9;border-color:#d9d9d9}.schedule-container[_ngcontent-%COMP%]   .commitment-event[_ngcontent-%COMP%]:hover{cursor:pointer}.schedule-container[_ngcontent-%COMP%]   .fc-header-toolbar[_ngcontent-%COMP%]   .fc-left[_ngcontent-%COMP%]{margin-left:10px}.schedule-container[_ngcontent-%COMP%]   .fc-button-group[_ngcontent-%COMP%]{font-size:.6rem}.schedule-container[_ngcontent-%COMP%]   .fc-button-group[_ngcontent-%COMP%]   .fc-button-primary[_ngcontent-%COMP%]{background-color:#fff;border-color:grey;color:grey;box-shadow:none}.schedule-container[_ngcontent-%COMP%]   .fc-button-group[_ngcontent-%COMP%]   .fc-button-primary[_ngcontent-%COMP%]:not(:disabled):active{box-shadow:none}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]{min-height:1rem}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%]::before{display:none}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid[_ngcontent-%COMP%]   .fc-slats[_ngcontent-%COMP%]   .fc-minor[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-top:0}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-container[_ngcontent-%COMP%]{overflow:visible!important}.slds-scope[_ngcontent-%COMP%]   .slds-button[_ngcontent-%COMP%]:not([disabled]){color:#0672d4}.slds-scope[_ngcontent-%COMP%]   .slds-button.slds-button_brand[_ngcontent-%COMP%]{color:#fff}.slds-scope[_ngcontent-%COMP%]   .slds-button.decline-button[_ngcontent-%COMP%]:not([disabled]){color:#c13834;border-color:#c13834}.slds-scope[_ngcontent-%COMP%]   .slds-button.accept-button[_ngcontent-%COMP%]:not([disabled]){color:#fff}.slds-scope[_ngcontent-%COMP%]   .slds-slider__range[_ngcontent-%COMP%]{-webkit-appearance:none}.slds-scope[_ngcontent-%COMP%]   .slds-slider__range[_ngcontent-%COMP%]::-webkit-slider-thumb{-webkit-appearance:none;appearance:none}.initialize-softphone[_ngcontent-%COMP%]   .slds-spinner[_ngcontent-%COMP%]{margin-left:-6em}.slds-scope[_ngcontent-%COMP%]   .cdk-overlay-container[_ngcontent-%COMP%]{position:absolute}.unread-icon[_ngcontent-%COMP%]{height:.5rem;width:.5rem;border-radius:50%;display:inline-block;background-color:#1589ee}.unread-icon.visited[_ngcontent-%COMP%]{background:0 0}.wfo-msg-link[_ngcontent-%COMP%]{color:#1589ee;white-space:nowrap}.agent-message[_ngcontent-%COMP%]{display:inline-block;width:100%}"]],data:{}});function ci(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,2,"div",[["class","center-align full-height-flex"]],null,null,null,null,null)),(n()(),o.Hb(1,null,[" "," "])),o.Bb(131072,d.i,[d.j,o.h])],null,function(n,t){n(t,1,0,o.Ib(t,1,0,o.Ab(t,2).transform("noAlerts")))})}function ai(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,2,"span",[["class","wfo-msg-link cursor-pointer"]],null,[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.openCXonePage(null==n.parent.context.$implicit?null:n.parent.context.$implicit.evolveNotificationurl)&&l),l},null,null)),(n()(),o.Hb(1,null,[" ",""])),o.Bb(131072,d.i,[d.j,o.h])],null,function(n,t){n(t,1,0,o.Ib(t,1,0,o.Ab(t,2).transform("openwfo")))})}function ri(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,11,"div",[],null,null,null,null,null)),(n()(),o.qb(1,0,null,null,10,"div",[],null,[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.markMsgRead(n.context.$implicit)&&l),l},null,null)),(n()(),o.qb(2,0,null,null,0,"div",[["class","slds-m-top_x-small slds-m-left_x-small slds-m-right_x-small slds-float_left unread-icon"]],[[2,"slds-hidden",null]],null,null,null,null)),(n()(),o.qb(3,0,null,null,1,"div",[["class","slds-col slds-size_3-of-5 slds-truncate slds-float_left slds-text-title_bold"]],[[8,"title",0]],null,null,null,null)),(n()(),o.Hb(4,null,[" "," "])),(n()(),o.qb(5,0,null,null,2,"div",[["class","slds-p-right_xx-small slds-float_right"]],[[2,"slds-text-title_bold",null]],null,null,null,null)),(n()(),o.Hb(6,null,[""," "])),o.Db(7,2),(n()(),o.qb(8,0,null,null,3,"div",[["class","slds-p-left_large slds-p-right_small slds-m-bottom_large cursor-pointer text-wrap agent-message"]],null,null,null,null,null)),(n()(),o.qb(9,0,null,null,0,"span",[],[[8,"innerHTML",1]],null,null,null,null)),(n()(),o.hb(16777216,null,null,1,null,ai)),o.pb(11,16384,null,0,Pt.l,[o.P,o.M],{ngIf:[0,"ngIf"]},null)],function(n,t){n(t,11,0,t.context.$implicit.isEvolve&&t.context.$implicit.evolveNotificationurl)},function(n,t){var e=t.component;n(t,2,0,t.context.$implicit.msgRead),n(t,3,0,o.sb(1,"",t.context.$implicit.subject,"")),n(t,4,0,t.context.$implicit.subject),n(t,5,0,!t.context.$implicit.msgRead);var l=o.Ib(t,6,0,n(t,7,0,o.Ab(t.parent,0),t.context.$implicit.receivedDateTime,e.langCode));n(t,6,0,l),n(t,9,0,o.sb(1,"",t.context.$implicit.message,""))})}function ui(n){return o.Jb(0,[o.Bb(0,st,[]),(n()(),o.qb(1,0,null,null,4,"div",[["class","full-height"]],null,null,null,null,null)),(n()(),o.hb(16777216,null,null,1,null,ci)),o.pb(3,16384,null,0,Pt.l,[o.P,o.M],{ngIf:[0,"ngIf"]},null),(n()(),o.hb(16777216,null,null,1,null,ri)),o.pb(5,278528,null,0,Pt.k,[o.P,o.M,o.s],{ngForOf:[0,"ngForOf"]},null)],function(n,t){var e=t.component;n(t,3,0,0===(null==e.agentMessages?null:e.agentMessages.length)),n(t,5,0,e.agentMessages)},null)}var di=function(){function n(n,t,e){this.validationUtilSvc=n,this.containerSvc=t,this.localStorageSvc=e,this.isAccordianOpen=!1,this.updatedSince=null,this.assignedCallCount=0,this.workItemCount=0,this.assignedChatCount=0,this.assignedEmailCount=0,this.assignedVoiceMailCount=0,this.personalQueueCount=0,this.updateAccordionState=new o.m}return n.prototype.ngOnInit=function(){var n=this;this.updatedSince=new Date(0).toISOString(),this.getCacheSkillQueue(this.updatedSince),this.skillQueueUpdateEvent=this.containerSvc.skillQueueUpdateEvent.subscribe(function(t){n.validationUtilSvc.isNotNullOrEmpty(t)&&(n.updatedSince=t.LastPollTime),n.updateQueueCount()})},n.prototype.updateAccordionChange=function(){var n=this,t=this.validationUtilSvc.isNotNullOrEmpty(this.isAccordianOpen);this.updateAccordionState.emit(t),t?this.queuePollingInterval=setInterval(function(){n.getCacheSkillQueue(n.updatedSince)},Qn.SKILL_QUEUE_POLLING_DURATION):clearInterval(this.queuePollingInterval)},n.prototype.getCacheSkillQueue=function(n){this.containerSvc.getCacheSkillQueue(n)},n.prototype.updateQueueCount=function(){var n=this,t=0,e=0,l=0,o=0,i=0,s=0,c=null,a=JSON.parse(this.localStorageSvc.get(g.AgentSkillList)),r=JSON.parse(this.localStorageSvc.get(g.SkillQueueMap));this.validationUtilSvc.isNotNullOrEmpty(a)&&this.validationUtilSvc.isNotNullOrEmpty(r)&&(a.forEach(function(s){n.validationUtilSvc.isNotNullOrEmpty(c=r[s.skillId])&&(4===s.typeId?t+=M.toNumber(c.QueueCount):6===s.typeId?e+=M.toNumber(c.QueueCount):3===s.typeId?l+=M.toNumber(c.QueueCount):1===s.typeId?o+=M.toNumber(c.QueueCount):5===s.typeId&&(i+=M.toNumber(c.QueueCount))),c=null}),this.validationUtilSvc.isNotNullOrEmpty(c=r[0])&&("1"===c.MediaType&&M.toNumber(c.QueueCount),s+=M.toNumber(c.QueueCount),"3"===c.MediaType&&M.toNumber(c.QueueCount))),this.assignedCallCount=t,this.workItemCount=e,this.assignedChatCount=l,this.assignedEmailCount=o,this.assignedVoiceMailCount=i,this.personalQueueCount=s},n.prototype.ngOnDestroy=function(){this.validationUtilSvc.isNotNullOrEmpty(this.skillQueueUpdateEvent)&&this.skillQueueUpdateEvent.unsubscribe(),this.queuePollingInterval&&clearInterval(this.queuePollingInterval)},n}(),gi=o.ob({encapsulation:0,styles:[[".full-height[_ngcontent-%COMP%], html[_ngcontent-%COMP%], html[_ngcontent-%COMP%]   body[_ngcontent-%COMP%]{height:100%}.no-strech[_ngcontent-%COMP%]{flex:0}.strech[_ngcontent-%COMP%]{flex:1;position:relative}.no-scroll[_ngcontent-%COMP%]{overflow:hidden}.full-height-flex[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;justify-content:center}.center-align[_ngcontent-%COMP%]{text-align:center}.cursor-pointer[_ngcontent-%COMP%]{cursor:pointer}.text-wrap[_ngcontent-%COMP%]{word-wrap:break-word}.text-bold[_ngcontent-%COMP%]{font-weight:700}.cdk-overlay-container[_ngcontent-%COMP%]   .slds-modal__container[_ngcontent-%COMP%]{margin:0;padding:0}.cdk-overlay-container[_ngcontent-%COMP%]   .slds-modal__content[_ngcontent-%COMP%]{height:100%}.cdk-global-scrollblock[_ngcontent-%COMP%]{overflow-y:auto!important}@media (min-width:48em){.slds-scope[_ngcontent-%COMP%]   .slds-modal--large[_ngcontent-%COMP%]   .slds-modal__container[_ngcontent-%COMP%], .slds-scope[_ngcontent-%COMP%]   .slds-modal_large[_ngcontent-%COMP%]   .slds-modal__container[_ngcontent-%COMP%]{width:100%;height:100%}}.pull-down[_ngcontent-%COMP%]{position:absolute;bottom:0;width:100%}.dialog-style[_ngcontent-%COMP%]{position:fixed;top:0;background-color:#fff;right:0;left:0;box-shadow:0 0 5px grey;z-index:1001}.schedule-container[_ngcontent-%COMP%]   .fc-widget-content[_ngcontent-%COMP%]{background-color:#fff}.schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%]{opacity:.75;text-indent:3px}.schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-event[_ngcontent-%COMP%]{border-radius:0;cursor:default;color:#01396a;min-height:2rem}.schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-event[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%]{font-weight:700}.schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%]:hover, .schedule-container[_ngcontent-%COMP%]   .fc-event[_ngcontent-%COMP%]:hover{text-decoration:none;color:#01396a}.schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%]   .fc-title[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-event[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-event[_ngcontent-%COMP%]   .fc-title[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-slats[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-slats[_ngcontent-%COMP%]   .fc-title[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-title[_ngcontent-%COMP%]{font-size:.8rem}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-content[_ngcontent-%COMP%]{display:flex}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-title[_ngcontent-%COMP%]{display:inline-block;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.schedule-container[_ngcontent-%COMP%]   .commitment-event[_ngcontent-%COMP%]{background-color:#d9d9d9;border-color:#d9d9d9}.schedule-container[_ngcontent-%COMP%]   .commitment-event[_ngcontent-%COMP%]:hover{cursor:pointer}.schedule-container[_ngcontent-%COMP%]   .fc-header-toolbar[_ngcontent-%COMP%]   .fc-left[_ngcontent-%COMP%]{margin-left:10px}.schedule-container[_ngcontent-%COMP%]   .fc-button-group[_ngcontent-%COMP%]{font-size:.6rem}.schedule-container[_ngcontent-%COMP%]   .fc-button-group[_ngcontent-%COMP%]   .fc-button-primary[_ngcontent-%COMP%]{background-color:#fff;border-color:grey;color:grey;box-shadow:none}.schedule-container[_ngcontent-%COMP%]   .fc-button-group[_ngcontent-%COMP%]   .fc-button-primary[_ngcontent-%COMP%]:not(:disabled):active{box-shadow:none}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]{min-height:1rem}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%]::before{display:none}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid[_ngcontent-%COMP%]   .fc-slats[_ngcontent-%COMP%]   .fc-minor[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-top:0}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-container[_ngcontent-%COMP%]{overflow:visible!important}.slds-scope[_ngcontent-%COMP%]   .slds-button[_ngcontent-%COMP%]:not([disabled]){color:#0672d4}.slds-scope[_ngcontent-%COMP%]   .slds-button.slds-button_brand[_ngcontent-%COMP%]{color:#fff}.slds-scope[_ngcontent-%COMP%]   .slds-button.decline-button[_ngcontent-%COMP%]:not([disabled]){color:#c13834;border-color:#c13834}.slds-scope[_ngcontent-%COMP%]   .slds-button.accept-button[_ngcontent-%COMP%]:not([disabled]){color:#fff}.slds-scope[_ngcontent-%COMP%]   .slds-slider__range[_ngcontent-%COMP%]{-webkit-appearance:none}.slds-scope[_ngcontent-%COMP%]   .slds-slider__range[_ngcontent-%COMP%]::-webkit-slider-thumb{-webkit-appearance:none;appearance:none}.initialize-softphone[_ngcontent-%COMP%]   .slds-spinner[_ngcontent-%COMP%]{margin-left:-6em}.slds-scope[_ngcontent-%COMP%]   .cdk-overlay-container[_ngcontent-%COMP%]{position:absolute}.unread-icon[_ngcontent-%COMP%]{height:.5rem;width:.5rem;border-radius:50%;display:inline-block;background-color:#1589ee}.unread-icon.visited[_ngcontent-%COMP%]{background:0 0}.queue-container[_ngcontent-%COMP%]   .queue-title-text[_ngcontent-%COMP%]{font-size:.75rem}.queue-container[_ngcontent-%COMP%]   .agent-queue-accordion[_ngcontent-%COMP%]{background-color:#fff;width:100%}.queue-container[_ngcontent-%COMP%]   .agent-queue-accordion[_ngcontent-%COMP%]     .slds-accordion__list-item .slds-accordion__section{padding:.6rem .75rem}.queue-container[_ngcontent-%COMP%]   .agent-queue-accordion[_ngcontent-%COMP%]   .slds-accordion__summary-heading[_ngcontent-%COMP%]{font-size:.8125rem;color:#0672d4}"]],data:{}});function hi(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,2,"span",[["class","cursor-pointer queue-title-text"]],null,null,null,null,null)),(n()(),o.Hb(1,null,["",""])),o.Bb(131072,d.i,[d.j,o.h])],null,function(n,t){n(t,1,0,o.Ib(t,1,0,o.Ab(t,2).transform("showQueue")))})}function pi(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,2,"span",[["class","cursor-pointer queue-title-text"]],null,null,null,null,null)),(n()(),o.Hb(1,null,["",""])),o.Bb(131072,d.i,[d.j,o.h])],null,function(n,t){n(t,1,0,o.Ib(t,1,0,o.Ab(t,2).transform("hideQueue")))})}function fi(n){return o.Jb(0,[(n()(),o.hb(16777216,null,null,1,null,hi)),o.pb(1,16384,null,0,Pt.l,[o.P,o.M],{ngIf:[0,"ngIf"]},null),(n()(),o.hb(16777216,null,null,1,null,pi)),o.pb(3,16384,null,0,Pt.l,[o.P,o.M],{ngIf:[0,"ngIf"]},null),(n()(),o.hb(0,null,null,0))],function(n,t){var e=t.component;n(t,1,0,!e.isAccordianOpen),n(t,3,0,e.isAccordianOpen)},null)}function bi(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,5,"li",[["class","slds-p-vertical_x-small"]],null,null,null,null,null)),(n()(),o.qb(1,0,null,null,2,"span",[["class","queue-title"]],null,null,null,null,null)),(n()(),o.Hb(2,null,["",""])),o.Bb(131072,d.i,[d.j,o.h]),(n()(),o.qb(4,0,null,null,1,"span",[["class","queue-count slds-float_right"]],null,null,null,null,null)),(n()(),o.Hb(5,null,["",""])),(n()(),o.qb(6,0,null,null,5,"li",[["class","slds-p-vertical_x-small"]],null,null,null,null,null)),(n()(),o.qb(7,0,null,null,2,"span",[["class","queue-title"]],null,null,null,null,null)),(n()(),o.Hb(8,null,["",""])),o.Bb(131072,d.i,[d.j,o.h]),(n()(),o.qb(10,0,null,null,1,"span",[["class","queue-count slds-float_right"]],null,null,null,null,null)),(n()(),o.Hb(11,null,["",""])),(n()(),o.qb(12,0,null,null,5,"li",[["class","slds-p-vertical_x-small"]],null,null,null,null,null)),(n()(),o.qb(13,0,null,null,2,"span",[["class","queue-title"]],null,null,null,null,null)),(n()(),o.Hb(14,null,["",""])),o.Bb(131072,d.i,[d.j,o.h]),(n()(),o.qb(16,0,null,null,1,"span",[["class","queue-count slds-float_right"]],null,null,null,null,null)),(n()(),o.Hb(17,null,["",""])),(n()(),o.qb(18,0,null,null,5,"li",[["class","slds-p-vertical_x-small"]],null,null,null,null,null)),(n()(),o.qb(19,0,null,null,2,"span",[["class","queue-title"]],null,null,null,null,null)),(n()(),o.Hb(20,null,["",""])),o.Bb(131072,d.i,[d.j,o.h]),(n()(),o.qb(22,0,null,null,1,"span",[["class","queue-count slds-float_right"]],null,null,null,null,null)),(n()(),o.Hb(23,null,["",""])),(n()(),o.qb(24,0,null,null,5,"li",[["class","slds-p-vertical_x-small"]],null,null,null,null,null)),(n()(),o.qb(25,0,null,null,2,"span",[["class","queue-title"]],null,null,null,null,null)),(n()(),o.Hb(26,null,["",""])),o.Bb(131072,d.i,[d.j,o.h]),(n()(),o.qb(28,0,null,null,1,"span",[["class","queue-count slds-float_right"]],null,null,null,null,null)),(n()(),o.Hb(29,null,["",""])),(n()(),o.qb(30,0,null,null,5,"li",[["class","slds-p-vertical_x-small"]],null,null,null,null,null)),(n()(),o.qb(31,0,null,null,2,"span",[["class","queue-title"]],null,null,null,null,null)),(n()(),o.Hb(32,null,["",""])),o.Bb(131072,d.i,[d.j,o.h]),(n()(),o.qb(34,0,null,null,1,"span",[["class","queue-count slds-float_right"]],null,null,null,null,null)),(n()(),o.Hb(35,null,["",""]))],null,function(n,t){var e=t.component;n(t,2,0,o.Ib(t,2,0,o.Ab(t,3).transform("personalQueue"))),n(t,5,0,e.personalQueueCount),n(t,8,0,o.Ib(t,8,0,o.Ab(t,9).transform("assignedCallQueue"))),n(t,11,0,e.assignedCallCount),n(t,14,0,o.Ib(t,14,0,o.Ab(t,15).transform("assignedWorkItemQueue"))),n(t,17,0,e.workItemCount),n(t,20,0,o.Ib(t,20,0,o.Ab(t,21).transform("assignedChatQueue"))),n(t,23,0,e.assignedChatCount),n(t,26,0,o.Ib(t,26,0,o.Ab(t,27).transform("assignedEmailQueue"))),n(t,29,0,e.assignedEmailCount),n(t,32,0,o.Ib(t,32,0,o.Ab(t,33).transform("assignedVoiceMailQueue"))),n(t,35,0,e.assignedVoiceMailCount)})}function mi(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,6,"div",[["class","queue-container"]],null,null,null,null,null)),(n()(),o.hb(0,[["queueContainerHeader",2]],null,0,null,fi)),(n()(),o.qb(2,0,null,null,4,"ul",[["class","agent-queue-accordion slds-border_top"],["ngl-accordion",""]],null,[[null,"activeNameChange"]],function(n,t,e){var l=!0,o=n.component;return"activeNameChange"===t&&(l=!1!==(o.isAccordianOpen=e)&&l),"activeNameChange"===t&&(l=!1!==o.updateAccordionChange()&&l),l},_t.p,_t.d)),o.pb(3,49152,null,1,Et.wb,[o.k,o.E],{activeName:[0,"activeName"]},{activeNameChange:"activeNameChange"}),o.Fb(603979776,1,{sections:1}),(n()(),o.hb(0,null,null,1,null,bi)),o.pb(6,16384,[[1,4]],0,Et.hc,[o.M],{label:[0,"label"]},null)],function(n,t){n(t,3,0,t.component.isAccordianOpen),n(t,6,0,o.Ab(t,1))},null)}var Ci=function(){function n(n,t,e,l,o,i){var s=this;this.agentSvc=n,this.adminSvc=t,this.localStorageSvc=e,this.validationUtilSvc=l,this.agentMessageSvc=o,this.containerSvc=i,this.scheduleIndicator=!1,this.tabChangeTime={messages:0,schedule:0},this.selectedTab="active",this.scheduleIndicatorEvent=new E.Subject,this.messageIndicatorEvent=new E.Subject,this.updateCallbackEvent=this.agentSvc.updateCallbackEvent.subscribe(function(n){s.getCommitments()}),this.updateAgentMessagesEvent=this.agentMessageSvc.agentMessageNotification.subscribe(function(n){s.agentMessageNotify(n)}),this.agentWFOMessagesEvent=this.containerSvc.agentWFOMessagesEvent.subscribe(function(n){s.onGetEvolveMessages(n)})}return n.prototype.getCommitments=function(){var n=this;this.adminSvc.getCommitments().subscribe(function(t){"schedule"!==n.selectedTab&&n.validationUtilSvc.isNotNullOrEmptyArray(t)&&(n.scheduleIndicator=!0,n.scheduleIndicatorEvent.next(n.scheduleIndicator),n.localStorageSvc.set(g.HomeTabNotification,JSON.stringify(n.scheduleIndicator)))})},n.prototype.agentMessageNotify=function(n){var t=this.getHomeTabChangeTime();"messages"!==this.selectedTab&&this.validationUtilSvc.isNotNullOrEmptyArray(n)&&(this.messageIndicator=n[0].receivedTime>t.messages,this.messageIndicatorEvent.next(this.messageIndicator))},n.prototype.onGetEvolveMessages=function(n){var t=this.getHomeTabChangeTime();if("MESSAGE"===n.command){var e=new Date(n.headers.publishDate).getTime();if(!M.toBoolean(this.localStorageSvc.get(g.HomeTabNotification)))switch(n.data.notificationTemplate){case"PUBLISH_SCHEDULE_FOR_SPECIFIC_DATE":case"PUBLISH_SCHEDULE_BETWEEN_DATE":this.scheduleIndicator="schedule"!==this.selectedTab&&e>t.schedule,this.scheduleIndicatorEvent.next(this.scheduleIndicator),this.localStorageSvc.set(g.HomeTabNotification,JSON.stringify(this.scheduleIndicator))}this.messageIndicator="messages"!==this.selectedTab&&e>t.messages,this.messageIndicatorEvent.next(this.messageIndicator)}},n.prototype.getHomeTabChangeTime=function(){return JSON.parse(this.localStorageSvc.get(g.homeTabChangeTime))||this.tabChangeTime},n.ngInjectableDef=o.T({factory:function(){return new n(o.X(Un),o.X(qn),o.X(p),o.X(f),o.X(oi),o.X(ot))},token:n,providedIn:"root"}),n}(),vi=function(){function n(n,t,e,l,o,i,s){this.agentSvc=n,this.adminSvc=t,this.localStorageSvc=e,this.containerSvc=l,this.validationUtilSvc=o,this.agentMessageSvc=i,this.notifySvc=s,this.tabChangeTime={messages:0,schedule:0},this.selectedTab="active",this.accoridionOpen=!1,this.messageIndicator=!1,this.scheduleIndicator=!1}return n.prototype.ngOnInit=function(){var n=this,t=M.toBoolean(this.localStorageSvc.get(g.HomeTabNotification));this.messageIndicator=this.notifySvc.messageIndicator,this.scheduleIndicator=t,this.scheduleIndicatorEvent=this.notifySvc.scheduleIndicatorEvent.subscribe(function(t){n.scheduleIndicator=t}),this.messageIndicatorEvent=this.notifySvc.messageIndicatorEvent.subscribe(function(t){n.messageIndicator=t})},n.prototype.getHomeTabChangeTime=function(){return JSON.parse(this.localStorageSvc.get(g.homeTabChangeTime))||this.tabChangeTime},n.prototype.tabChange=function(n){var t=this.getHomeTabChangeTime();this.notifySvc.selectedTab=this.selectedTab.id,"messages"===n?(this.messageIndicator=!1,this.notifySvc.messageIndicator=!1,t.messages=(new Date).getTime(),this.localStorageSvc.set(g.homeTabChangeTime,JSON.stringify(t))):"schedule"===n&&(this.scheduleIndicator=!1,this.localStorageSvc.set(g.HomeTabNotification,JSON.stringify(this.scheduleIndicator)),t.schedule=(new Date).getTime(),this.localStorageSvc.set(g.homeTabChangeTime,JSON.stringify(t)))},n.prototype.hideMessages=function(){var n=document.getElementById("agentMessage");this.validationUtilSvc.isNotNullOrUndefined(n)&&n.parentElement.classList.add("slds-hide")},n.prototype.updateAccordionState=function(n){this.accoridionOpen=n},n.prototype.ngOnDestroy=function(){this.messageIndicatorEvent.unsubscribe(),this.scheduleIndicatorEvent.unsubscribe()},n}(),_i=o.ob({encapsulation:2,styles:[[".full-height,html,html body{height:100%}.no-strech{flex:0}.strech{flex:1;position:relative}.no-scroll{overflow:hidden}.full-height-flex{height:100%;display:flex;flex-direction:column;justify-content:center}.center-align{text-align:center}.cursor-pointer{cursor:pointer}.text-wrap{word-wrap:break-word}.text-bold{font-weight:700}.cdk-overlay-container .slds-modal__container{margin:0;padding:0}.cdk-overlay-container .slds-modal__content{height:100%}.cdk-global-scrollblock{overflow-y:auto!important}@media (min-width:48em){.slds-scope .slds-modal--large .slds-modal__container,.slds-scope .slds-modal_large .slds-modal__container{width:100%;height:100%}}.pull-down{position:absolute;bottom:0;width:100%}.dialog-style{position:fixed;top:0;background-color:#fff;right:0;left:0;box-shadow:0 0 5px grey;z-index:1001}.schedule-container .fc-widget-content{background-color:#fff}.schedule-container .fc-bgevent{opacity:.75;text-indent:3px}.schedule-container .fc-bgevent,.schedule-container .fc-event{border-radius:0;cursor:default;color:#01396a;min-height:2rem}.schedule-container .fc-bgevent .fc-time,.schedule-container .fc-event .fc-time{font-weight:700}.schedule-container .fc-bgevent:hover,.schedule-container .fc-event:hover{text-decoration:none;color:#01396a}.schedule-container .fc-bgevent .fc-time,.schedule-container .fc-bgevent .fc-title,.schedule-container .fc-event .fc-time,.schedule-container .fc-event .fc-title,.schedule-container .fc-slats .fc-time,.schedule-container .fc-slats .fc-title,.schedule-container .fc-time-grid-event.fc-short .fc-time,.schedule-container .fc-time-grid-event.fc-short .fc-title{font-size:.8rem}.schedule-container .fc-time-grid-event.fc-short .fc-content{display:flex}.schedule-container .fc-time-grid-event.fc-short .fc-title{display:inline-block;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.schedule-container .commitment-event{background-color:#d9d9d9;border-color:#d9d9d9}.schedule-container .commitment-event:hover{cursor:pointer}.schedule-container .fc-header-toolbar .fc-left{margin-left:10px}.schedule-container .fc-button-group{font-size:.6rem}.schedule-container .fc-button-group .fc-button-primary{background-color:#fff;border-color:grey;color:grey;box-shadow:none}.schedule-container .fc-button-group .fc-button-primary:not(:disabled):active{box-shadow:none}.schedule-container .fc-time-grid-event.fc-short{min-height:1rem}.schedule-container .fc-time-grid-event.fc-short .fc-time::before{display:none}.schedule-container .fc-time-grid-event.fc-short .fc-time span{display:inline-block}.schedule-container .fc-time-grid .fc-slats .fc-minor td{border-top:0}.schedule-container .fc-time-grid-container{overflow:visible!important}.slds-scope .slds-button:not([disabled]){color:#0672d4}.slds-scope .slds-button.slds-button_brand{color:#fff}.slds-scope .slds-button.decline-button:not([disabled]){color:#c13834;border-color:#c13834}.slds-scope .slds-button.accept-button:not([disabled]){color:#fff}.slds-scope .slds-slider__range{-webkit-appearance:none}.slds-scope .slds-slider__range::-webkit-slider-thumb{-webkit-appearance:none;appearance:none}.initialize-softphone .slds-spinner{margin-left:-6em}.slds-scope .cdk-overlay-container{position:absolute}.unread-icon{height:.5rem;width:.5rem;border-radius:50%;display:inline-block;background-color:#1589ee}.unread-icon.visited{background:0 0}.tabs-queue-container{display:flex;flex-direction:column;height:100%}.tabs-queue-container .home-tabs,.tabs-queue-container .slds-scope{flex:1}.tabs-queue-container .home-tabs #custom-tab,.tabs-queue-container .slds-scope #custom-tab{display:flex;flex-direction:column;height:100%}.tabs-queue-container .home-tabs #custom-tab [role=tabpanel],.tabs-queue-container .slds-scope #custom-tab [role=tabpanel]{flex:1;flex-basis:0;overflow-y:auto}.tabs-queue-container .home-tabs #custom-tab [role=presentation],.tabs-queue-container .slds-scope #custom-tab [role=presentation]{text-align:center;flex:1 1 auto}.tabs-queue-container .home-tabs #custom-tab .indicator,.tabs-queue-container .slds-scope #custom-tab .indicator{background-color:#1589ee;border-radius:50%;display:inline-block;width:6px;height:6px;vertical-align:middle}.tabs-queue-container .home-queue-accordion{width:100%}.tabs-queue-container .home-queue-accordion .show-queue__accoridion{background-color:#fff;position:absolute;top:0;overflow-y:auto;width:100%;height:100%;z-index:2}.message-container{height:100%}.active-contacts{flex-grow:1}.active-tab{display:flex;flex-direction:column}"]],data:{}});function Oi(n){return o.Jb(0,[(n()(),o.Hb(0,null,["",""])),o.Bb(131072,d.i,[d.j,o.h])],null,function(n,t){n(t,0,0,o.Ib(t,0,0,o.Ab(t,1).transform("active")))})}function Mi(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,4,"div",[["class","full-height active-tab"]],null,null,null,null,null)),(n()(),o.qb(1,0,null,null,1,"app-agent-indicators",[],null,null,null,Jo,Bo)),o.pb(2,114688,null,0,Lo,[ot,p,f],null,null),(n()(),o.qb(3,0,null,null,1,"app-active-contacts",[["class","active-contacts"]],null,null,null,$o,Go)),o.pb(4,245760,null,0,Vo,[Un,f,p,ot,Yn,lt,_],null,null)],function(n,t){n(t,2,0),n(t,4,0)},null)}function Pi(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,0,"span",[["class","indicator"]],null,null,null,null,null))],null,null)}function Si(n){return o.Jb(0,[(n()(),o.Hb(0,null,[""," "])),o.Bb(131072,d.i,[d.j,o.h]),(n()(),o.hb(16777216,null,null,1,null,Pi)),o.pb(3,16384,null,0,Pt.l,[o.P,o.M],{ngIf:[0,"ngIf"]},null),(n()(),o.hb(0,null,null,0))],function(n,t){n(t,3,0,t.component.scheduleIndicator)},function(n,t){n(t,0,0,o.Ib(t,0,0,o.Ab(t,1).transform("schedule")))})}function yi(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,1,"app-agent-schedule",[],null,null,null,li,ei)),o.pb(1,4440064,null,0,ti,[p,qn,_,f,Hn,S,Un],null,null)],function(n,t){n(t,1,0)},null)}function ki(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,0,"span",[["class","indicator"]],null,null,null,null,null))],null,null)}function wi(n){return o.Jb(0,[(n()(),o.Hb(0,null,[""," "])),o.Bb(131072,d.i,[d.j,o.h]),(n()(),o.hb(16777216,null,null,1,null,ki)),o.pb(3,16384,null,0,Pt.l,[o.P,o.M],{ngIf:[0,"ngIf"]},null),(n()(),o.hb(0,null,null,0))],function(n,t){n(t,3,0,t.component.messageIndicator)},function(n,t){n(t,0,0,o.Ib(t,0,0,o.Ab(t,1).transform("alerts")))})}function Ii(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,1,"app-agent-message",[["class","slds-scrollable_y message-container"],["id","agentMessage"]],null,null,null,ui,si)),o.pb(1,245760,null,0,ii,[Un,p,ot,_,f,oi],null,null)],function(n,t){n(t,1,0)},null)}function Ni(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,39,"div",[["class","tabs-queue-container"]],null,null,null,null,null)),(n()(),o.qb(1,0,null,null,30,"div",[["class","home-tabs"]],null,null,null,null,null)),(n()(),o.qb(2,0,null,null,29,"ngl-tabset",[["id","custom-tab"]],null,[[null,"selectedChange"]],function(n,t,e){var l=!0;return"selectedChange"===t&&(l=!1!==(n.component.selectedTab=e)&&l),l},_t.n,_t.b)),o.pb(3,1097728,null,1,Et.L,[o.k,o.E],{variant:[0,"variant"],setSelected:[1,"setSelected"]},{selectedChange:"selectedChange"}),o.Fb(603979776,1,{tabs:1}),(n()(),o.qb(5,0,null,null,8,"ngl-tab",[["id","active"]],null,[[null,"activate"]],function(n,t,e){var l=!0;return"activate"===t&&(l=!1!==n.component.tabChange("active")&&l),l},null,null)),o.pb(6,1064960,null,2,Et.P,[[2,o.M]],{id:[0,"id"]},{activate:"activate"}),o.Fb(335544320,2,{contentTemplate:0}),o.Fb(335544320,3,{labelTemplate:0}),o.Eb(2048,[[1,4]],Et.M,null,[Et.P]),(n()(),o.hb(0,null,null,1,null,Oi)),o.pb(11,16384,[[3,4]],0,Et.N,[o.M],null,null),(n()(),o.hb(0,null,null,1,null,Mi)),o.pb(13,16384,[[2,4]],0,Et.O,[o.M],null,null),(n()(),o.qb(14,0,null,null,8,"ngl-tab",[["id","schedule"]],null,[[null,"activate"]],function(n,t,e){var l=!0;return"activate"===t&&(l=!1!==n.component.tabChange("schedule")&&l),l},null,null)),o.pb(15,1064960,null,2,Et.P,[[2,o.M]],{id:[0,"id"]},{activate:"activate"}),o.Fb(335544320,4,{contentTemplate:0}),o.Fb(335544320,5,{labelTemplate:0}),o.Eb(2048,[[1,4]],Et.M,null,[Et.P]),(n()(),o.hb(0,null,null,1,null,Si)),o.pb(20,16384,[[5,4]],0,Et.N,[o.M],null,null),(n()(),o.hb(0,null,null,1,null,yi)),o.pb(22,16384,[[4,4]],0,Et.O,[o.M],null,null),(n()(),o.qb(23,0,null,null,8,"ngl-tab",[["id","messages"]],null,[[null,"activate"],[null,"deactivate"]],function(n,t,e){var l=!0,o=n.component;return"activate"===t&&(l=!1!==o.tabChange("messages")&&l),"deactivate"===t&&(l=!1!==o.hideMessages()&&l),l},null,null)),o.pb(24,1064960,null,2,Et.P,[[2,o.M]],{id:[0,"id"]},{activate:"activate",deactivate:"deactivate"}),o.Fb(335544320,6,{contentTemplate:0}),o.Fb(335544320,7,{labelTemplate:0}),o.Eb(2048,[[1,4]],Et.M,null,[Et.P]),(n()(),o.hb(0,null,null,1,null,wi)),o.pb(29,16384,[[7,4]],0,Et.N,[o.M],null,null),(n()(),o.hb(0,null,null,1,null,Ii)),o.pb(31,16384,[[6,4]],0,Et.O,[o.M],null,null),(n()(),o.qb(32,0,null,null,7,"div",[["class","home-queue-accordion"]],null,null,null,null,null)),o.pb(33,278528,null,0,Pt.o,[o.t,o.k,o.E],{ngStyle:[0,"ngStyle"]},null),o.Cb(34,{flex:0}),(n()(),o.qb(35,0,null,null,4,"div",[],null,null,null,null,null)),o.pb(36,278528,null,0,Pt.j,[o.s,o.t,o.k,o.E],{ngClass:[0,"ngClass"]},null),o.Cb(37,{"show-queue__accoridion":0}),(n()(),o.qb(38,0,null,null,1,"app-agent-queue-count",[],null,[[null,"updateAccordionState"]],function(n,t,e){var l=!0;return"updateAccordionState"===t&&(l=!1!==n.component.updateAccordionState(e)&&l),l},mi,gi)),o.pb(39,245760,null,0,di,[f,ot,p],null,{updateAccordionState:"updateAccordionState"})],function(n,t){var e=t.component;n(t,3,0,"default",e.selectedTab),n(t,6,0,"active"),n(t,15,0,"schedule"),n(t,24,0,"messages");var l=n(t,34,0,e.accoridionOpen?1:0);n(t,33,0,l);var o=n(t,37,0,e.accoridionOpen);n(t,36,0,o),n(t,39,0)},null)}var xi=function(){function n(n,t,e,l,o,i,s){this.logger=n,this.localStorageSvc=t,this.containerSvc=e,this.modalSvc=l,this.validationUtilSvc=o,this.agentSvc=i,this.domSanitizationSvc=s,this.dropdownOpen=!1,this.open={},this.menuItems=[{id:"contact",enable:!1,label:"requestNewContact"},{id:"dialpad",enable:!1,label:"startNewCall"},{id:"email",enable:!1,label:"createEmail"},{id:"commitment",enable:!1,label:"newCommitment"}],this.newButtonEnable=!0,this.isWfoEnabled=!1,this.settingsMenu=Qn.SETTINGS_MENU,this.settingsMenuOpen=!1,this.hasCoBrandAndPartnerLogo=!1,this.authenticateSettings=JSON.parse(this.localStorageSvc.get(g.AuthSettings))}return n.prototype.ngOnInit=function(){var t=this;if(this.authenticateSettings.isUserHub&&this.containerSvc.verifyWfoProductEnablement().then(function(e){t.logger.debug(n.className,"WFOEnabled : "+JSON.stringify(e)),t.isWfoEnabled=e,e&&t.containerSvc.startWS()}),this.initParam=y.init(),this.agentSvc.isWebRTC&&this.settingsMenu.forEach(function(n){"audioVisualSettings"===n.id&&(n.enable=!0)}),this.getAgentSkills(),this.containerSvc.updateAgentSkillsChanges.subscribe(function(n){t.updateContactOptionsMenu(n)}),this.agentSvc.mchAgentSettingsChangeEvent.subscribe(function(n){t.menuItems[0].enable=n,t.newButtonEnable=!(n||t.menuItems[1].enable||t.menuItems[3].enable)}),this.containerSvc.brandingProfileEvent.subscribe(function(n){t.onBradingProfilesUpdate(n)}),this.validationUtilSvc.isNotNullOrEmpty(this.localStorageSvc.get(g.BrandingProfile))){var e=JSON.parse(this.localStorageSvc.get(g.BrandingProfile));this.containerSvc.brandingProfileEvent.next(e)}},n.prototype.openCXonePage=function(){this.containerSvc.openCXonePage(this.localStorageSvc.get(g.WfoUrl))},n.prototype.getAgentSkills=function(n){void 0===n&&(n=!1),this.containerSvc.getAgentSkills(n)},n.prototype.updateContactOptionsMenu=function(n){var t=[],e=[];this.validationUtilSvc.isNotNullOrEmptyArray(n)&&n.forEach(function(n){!0===n.isOutbound&&(n.typeId===An.Email?e.push(n):n.typeId===An.PhoneCall&&"Manual"===n.strategy&&t.push(n))}),this.menuItems[1].enable=this.menuItems[3].enable=t.length>0,0===t.length?(this.dropdownOpen=!1,this.newButtonEnable=!this.menuItems[0].enable):this.newButtonEnable=!1},n.prototype.toggleMenu=function(){this.dropdownOpen=!this.dropdownOpen},n.prototype.onChange=function(t){if(this.logger.debug(n.className,"on change menu "+t),this.dropdownOpen=!1,"commitment"===t){var e=new cn;e.start=new Date,e.target="A",(o=new Wn).contentType=l.Commitment,o.dataModel=e,this.modalSvc.openModalDialog(o)}var o;"dialpad"===t&&((o=new Wn).contentType=l.Dialpad,this.modalSvc.openModalDialog(o)),"contact"===t&&(this.agentSvc.addContactCall(!1,!1),this.agentSvc.mchAgentSettingsChangeEvent.next(!1))},n.prototype.showAddressBook=function(){this.containerSvc.toggleAgentTransfer.next(!0)},n.prototype.onBradingProfilesUpdate=function(n){this.hasCoBrandAndPartnerLogo=!1,this.logoSrc=null,this.validationUtilSvc.isNotNullOrEmpty(n)&&(this.validationUtilSvc.isNotNullOrEmpty(n.sfdcAgentLogo)&&(this.logoSrc=this.authenticateSettings.isUserHub?n.sfdcAgentLogo:this.domSanitizationSvc.bypassSecurityTrustUrl("data:image;base64,"+n.sfdcAgentLogo)),n.coBrand&&(null!==this.logoSrc?(this.hasCoBrandAndPartnerLogo=!0,this.coBrandLogo=this.initParam.resourceBase+"/assets/images/partnerAndCoBrand.png"):this.logoSrc=this.initParam.resourceBase+"/assets/images/PoweredByNiCLogo.png")),this.hasCoBrandAndPartnerLogo||null!==this.logoSrc||(this.logoSrc=this.initParam.resourceBase+"/assets/images/NICE-inContact-horizontal.png")},n.prototype.toggleSettingsMenu=function(){this.settingsMenuOpen=!this.settingsMenuOpen,!this.settingsMenuOpen&&this.validationUtilSvc.isNotNullOrEmpty(this.settingsButton)&&this.validationUtilSvc.isNotNullOrEmpty(this.settingsButton.nativeElement)&&this.settingsButton.nativeElement.blur()},n.prototype.resetSettingsMenuFlag=function(n){this.settingsMenuOpen=!1},n.prototype.openSettingsPage=function(n){this.settingsMenuOpen=!1;var t=new Wn;switch(n){case"reports":t.contentType=l.AgentReports;break;case"logSettings":t.contentType=l.LogSettings;break;case"audioVisualSettings":t.contentType=l.AudioVisualSettings;break;case"platforminformation":t.contentType=l.PlatformInformation}this.modalSvc.openModalDialog(t)},n.className="FooterComponent",n}(),Ai=e("0QWT"),Ti=o.ob({encapsulation:0,styles:[[".full-height[_ngcontent-%COMP%], html[_ngcontent-%COMP%], html[_ngcontent-%COMP%]   body[_ngcontent-%COMP%]{height:100%}.no-strech[_ngcontent-%COMP%]{flex:0}.strech[_ngcontent-%COMP%]{flex:1;position:relative}.no-scroll[_ngcontent-%COMP%]{overflow:hidden}.full-height-flex[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;justify-content:center}.center-align[_ngcontent-%COMP%]{text-align:center}.cursor-pointer[_ngcontent-%COMP%]{cursor:pointer}.text-wrap[_ngcontent-%COMP%]{word-wrap:break-word}.text-bold[_ngcontent-%COMP%]{font-weight:700}.cdk-overlay-container[_ngcontent-%COMP%]   .slds-modal__container[_ngcontent-%COMP%]{margin:0;padding:0}.cdk-overlay-container[_ngcontent-%COMP%]   .slds-modal__content[_ngcontent-%COMP%]{height:100%}.cdk-global-scrollblock[_ngcontent-%COMP%]{overflow-y:auto!important}@media (min-width:48em){.slds-scope[_ngcontent-%COMP%]   .slds-modal--large[_ngcontent-%COMP%]   .slds-modal__container[_ngcontent-%COMP%], .slds-scope[_ngcontent-%COMP%]   .slds-modal_large[_ngcontent-%COMP%]   .slds-modal__container[_ngcontent-%COMP%]{width:100%;height:100%}}.pull-down[_ngcontent-%COMP%]{position:absolute;bottom:0;width:100%}.dialog-style[_ngcontent-%COMP%]{position:fixed;top:0;background-color:#fff;right:0;left:0;box-shadow:0 0 5px grey;z-index:1001}.schedule-container[_ngcontent-%COMP%]   .fc-widget-content[_ngcontent-%COMP%]{background-color:#fff}.schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%]{opacity:.75;text-indent:3px}.schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-event[_ngcontent-%COMP%]{border-radius:0;cursor:default;color:#01396a;min-height:2rem}.schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-event[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%]{font-weight:700}.schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%]:hover, .schedule-container[_ngcontent-%COMP%]   .fc-event[_ngcontent-%COMP%]:hover{text-decoration:none;color:#01396a}.schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%]   .fc-title[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-event[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-event[_ngcontent-%COMP%]   .fc-title[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-slats[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-slats[_ngcontent-%COMP%]   .fc-title[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-title[_ngcontent-%COMP%]{font-size:.8rem}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-content[_ngcontent-%COMP%]{display:flex}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-title[_ngcontent-%COMP%]{display:inline-block;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.schedule-container[_ngcontent-%COMP%]   .commitment-event[_ngcontent-%COMP%]{background-color:#d9d9d9;border-color:#d9d9d9}.schedule-container[_ngcontent-%COMP%]   .commitment-event[_ngcontent-%COMP%]:hover{cursor:pointer}.schedule-container[_ngcontent-%COMP%]   .fc-header-toolbar[_ngcontent-%COMP%]   .fc-left[_ngcontent-%COMP%]{margin-left:10px}.schedule-container[_ngcontent-%COMP%]   .fc-button-group[_ngcontent-%COMP%]{font-size:.6rem}.schedule-container[_ngcontent-%COMP%]   .fc-button-group[_ngcontent-%COMP%]   .fc-button-primary[_ngcontent-%COMP%]{background-color:#fff;border-color:grey;color:grey;box-shadow:none}.schedule-container[_ngcontent-%COMP%]   .fc-button-group[_ngcontent-%COMP%]   .fc-button-primary[_ngcontent-%COMP%]:not(:disabled):active{box-shadow:none}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]{min-height:1rem}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%]::before{display:none}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid[_ngcontent-%COMP%]   .fc-slats[_ngcontent-%COMP%]   .fc-minor[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-top:0}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-container[_ngcontent-%COMP%]{overflow:visible!important}.slds-scope[_ngcontent-%COMP%]   .slds-button[_ngcontent-%COMP%]:not([disabled]){color:#0672d4}.slds-scope[_ngcontent-%COMP%]   .slds-button.slds-button_brand[_ngcontent-%COMP%]{color:#fff}.slds-scope[_ngcontent-%COMP%]   .slds-button.decline-button[_ngcontent-%COMP%]:not([disabled]){color:#c13834;border-color:#c13834}.slds-scope[_ngcontent-%COMP%]   .slds-button.accept-button[_ngcontent-%COMP%]:not([disabled]){color:#fff}.slds-scope[_ngcontent-%COMP%]   .slds-slider__range[_ngcontent-%COMP%]{-webkit-appearance:none}.slds-scope[_ngcontent-%COMP%]   .slds-slider__range[_ngcontent-%COMP%]::-webkit-slider-thumb{-webkit-appearance:none;appearance:none}.initialize-softphone[_ngcontent-%COMP%]   .slds-spinner[_ngcontent-%COMP%]{margin-left:-6em}.slds-scope[_ngcontent-%COMP%]   .cdk-overlay-container[_ngcontent-%COMP%]{position:absolute}.unread-icon[_ngcontent-%COMP%]{height:.5rem;width:.5rem;border-radius:50%;display:inline-block;background-color:#1589ee}.unread-icon.visited[_ngcontent-%COMP%]{background:0 0}.footer[_ngcontent-%COMP%]   .footer-container[_ngcontent-%COMP%]{width:100%}.footer[_ngcontent-%COMP%]   .footer-container[_ngcontent-%COMP%]   .button-section[_ngcontent-%COMP%]{display:flex;width:100%}.footer[_ngcontent-%COMP%]   .footer-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:.5rem;margin-bottom:.5rem;padding-right:.6rem;padding-left:.6rem;font-size:.75rem;flex:1;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;display:inline-block}.footer[_ngcontent-%COMP%]   .footer-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus{box-shadow:none}.footer[_ngcontent-%COMP%]   .footer-container[_ngcontent-%COMP%]   .slds-button_neutral[_ngcontent-%COMP%]:hover{background-color:#f2f2f2}.footer[_ngcontent-%COMP%]   .footer-container[_ngcontent-%COMP%]   .slds-button_brand[_ngcontent-%COMP%]:not([disabled]):hover{background-color:#1b5297}.footer[_ngcontent-%COMP%]   .footer-container[_ngcontent-%COMP%]   .new-dropdown[_ngcontent-%COMP%], .footer[_ngcontent-%COMP%]   .footer-container[_ngcontent-%COMP%]   .settings-dropdown[_ngcontent-%COMP%]{bottom:2.8rem}.footer[_ngcontent-%COMP%]   .footer-container[_ngcontent-%COMP%]   .new-dropdown[_ngcontent-%COMP%]   .slds-dropdown-trigger[_ngcontent-%COMP%], .footer[_ngcontent-%COMP%]   .footer-container[_ngcontent-%COMP%]   .settings-dropdown[_ngcontent-%COMP%]   .slds-dropdown-trigger[_ngcontent-%COMP%]{display:inline}.footer[_ngcontent-%COMP%]   .footer-container[_ngcontent-%COMP%]   .new-dropdown[_ngcontent-%COMP%]   .slds-dropdown[_ngcontent-%COMP%], .footer[_ngcontent-%COMP%]   .footer-container[_ngcontent-%COMP%]   .settings-dropdown[_ngcontent-%COMP%]   .slds-dropdown[_ngcontent-%COMP%]{position:relative;-webkit-transform:none;transform:none}.footer[_ngcontent-%COMP%]   .footer-container[_ngcontent-%COMP%]   .new-dropdown[_ngcontent-%COMP%]   .slds-dropdown[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%], .footer[_ngcontent-%COMP%]   .footer-container[_ngcontent-%COMP%]   .settings-dropdown[_ngcontent-%COMP%]   .slds-dropdown[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{text-align:left}.footer[_ngcontent-%COMP%]   .footer-container[_ngcontent-%COMP%]   .new-dropdown[_ngcontent-%COMP%]   .slds-dropdown[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .footer[_ngcontent-%COMP%]   .footer-container[_ngcontent-%COMP%]   .new-dropdown[_ngcontent-%COMP%]   .slds-dropdown[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .footer[_ngcontent-%COMP%]   .footer-container[_ngcontent-%COMP%]   .settings-dropdown[_ngcontent-%COMP%]   .slds-dropdown[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .footer[_ngcontent-%COMP%]   .footer-container[_ngcontent-%COMP%]   .settings-dropdown[_ngcontent-%COMP%]   .slds-dropdown[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#080707}.footer[_ngcontent-%COMP%]   .footer-container[_ngcontent-%COMP%]   .new-dropdown[_ngcontent-%COMP%]{right:.75rem}.footer[_ngcontent-%COMP%]   .footer-container[_ngcontent-%COMP%]   .new-dropdown[_ngcontent-%COMP%]   .slds-dropdown[_ngcontent-%COMP%]{width:9rem}.footer[_ngcontent-%COMP%]   .footer-container[_ngcontent-%COMP%]   .settings-dropdown[_ngcontent-%COMP%]{left:.75rem}.branding-image-container[_ngcontent-%COMP%]   .default-or-partner[_ngcontent-%COMP%]{text-align:center;padding:.25rem 1.25rem}.branding-image-container[_ngcontent-%COMP%]   .partner-and-coBranding[_ngcontent-%COMP%]{padding:.25rem 1.25rem}.branding-image-container[_ngcontent-%COMP%]   .partner-and-coBranding[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:inline-block}.branding-image-container[_ngcontent-%COMP%]   .partner-and-coBranding[_ngcontent-%COMP%]   .partner-image[_ngcontent-%COMP%]{width:70%;text-align:center}.branding-image-container[_ngcontent-%COMP%]   .partner-and-coBranding[_ngcontent-%COMP%]   .coBranding-image[_ngcontent-%COMP%]{width:30%;text-align:center}.branding-image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:2.5rem}"]],data:{}});function Ei(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,5,"li",[["class","dropdown__item slds-m-top_xx-small slds-m-bottom_xx-small"]],null,null,null,null,null)),(n()(),o.qb(1,0,null,null,4,"a",[["nglDropdownItem",""],["role","menuitem"],["tabindex","0"]],null,[[null,"click"],[null,"focus"],[null,"blur"]],function(n,t,e){var l=!0,i=n.component;return"focus"===t&&(l=!1!==o.Ab(n,2).onFocus()&&l),"blur"===t&&(l=!1!==o.Ab(n,2).onBlur()&&l),"click"===t&&(l=!1!==i.onChange(n.parent.context.$implicit.id)&&l),l},null,null)),o.pb(2,16384,[[2,4]],0,Et.Cb,[o.k],null,null),(n()(),o.qb(3,0,null,null,2,"span",[],null,null,null,null,null)),(n()(),o.Hb(4,null,["",""])),o.Bb(131072,d.i,[d.j,o.h])],null,function(n,t){n(t,4,0,o.Ib(t,4,0,o.Ab(t,5).transform(t.parent.context.$implicit.label)))})}function Di(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,2,null,null,null,null,null,null,null)),(n()(),o.hb(16777216,null,null,1,null,Ei)),o.pb(2,16384,null,0,Pt.l,[o.P,o.M],{ngIf:[0,"ngIf"]},null),(n()(),o.hb(0,null,null,0))],function(n,t){n(t,2,0,t.context.$implicit.enable)},null)}function Ui(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,5,"li",[["class","slds-m-top_xx-small slds-m-bottom_xx-small"]],null,null,null,null,null)),(n()(),o.qb(1,0,null,null,4,"a",[["nglDropdownItem",""],["role","menuitem"],["tabindex","0"]],null,[[null,"click"],[null,"focus"],[null,"blur"]],function(n,t,e){var l=!0,i=n.component;return"focus"===t&&(l=!1!==o.Ab(n,2).onFocus()&&l),"blur"===t&&(l=!1!==o.Ab(n,2).onBlur()&&l),"click"===t&&(l=!1!==i.openSettingsPage(n.parent.context.$implicit.id)&&l),l},null,null)),o.pb(2,16384,[[3,4]],0,Et.Cb,[o.k],null,null),(n()(),o.qb(3,0,null,null,2,"span",[],null,null,null,null,null)),(n()(),o.Hb(4,null,["",""])),o.Bb(131072,d.i,[d.j,o.h])],null,function(n,t){n(t,4,0,o.Ib(t,4,0,o.Ab(t,5).transform(t.parent.context.$implicit.label)))})}function qi(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,2,null,null,null,null,null,null,null)),(n()(),o.hb(16777216,null,null,1,null,Ui)),o.pb(2,16384,null,0,Pt.l,[o.P,o.M],{ngIf:[0,"ngIf"]},null),(n()(),o.hb(0,null,null,0))],function(n,t){n(t,2,0,t.context.$implicit.enable)},null)}function Li(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,3,"button",[["class","slds-button slds-button_neutral"]],[[8,"title",0]],[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.openCXonePage()&&l),l},null,null)),o.Bb(131072,d.i,[d.j,o.h]),(n()(),o.Hb(2,null,["",""])),o.Bb(131072,d.i,[d.j,o.h])],null,function(n,t){n(t,0,0,o.Ib(t,0,0,o.Ab(t,1).transform("wfo"))),n(t,2,0,o.Ib(t,2,0,o.Ab(t,3).transform("wfo")))})}function Bi(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,1,"div",[["class","default-or-partner"]],null,null,null,null,null)),(n()(),o.qb(1,0,null,null,0,"img",[],[[8,"src",4]],null,null,null,null))],null,function(n,t){n(t,1,0,t.component.logoSrc)})}function Ri(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,4,"div",[["class","partner-and-coBranding"]],null,null,null,null,null)),(n()(),o.qb(1,0,null,null,1,"div",[["class","partner-image"]],null,null,null,null,null)),(n()(),o.qb(2,0,null,null,0,"img",[],[[8,"src",4]],null,null,null,null)),(n()(),o.qb(3,0,null,null,1,"div",[["class","coBranding-image"]],null,null,null,null,null)),(n()(),o.qb(4,0,null,null,0,"img",[],[[8,"src",4]],null,null,null,null))],null,function(n,t){var e=t.component;n(t,2,0,e.logoSrc),n(t,4,0,e.coBrandLogo)})}function ji(n){return o.Jb(0,[o.Fb(402653184,1,{settingsButton:0}),(n()(),o.qb(1,0,null,null,32,"div",[["class","footer slds-is-relative slds-border_top"]],null,null,null,null,null)),(n()(),o.qb(2,0,null,null,31,"div",[["class","footer-container slds-is-relative slds-p-horizontal_small"]],null,null,null,null,null)),(n()(),o.qb(3,0,null,null,7,"div",[["class","new-dropdown slds-is-absolute"]],null,null,null,null,null)),(n()(),o.qb(4,0,null,null,6,"div",[["nglDropdown",""]],[[2,"slds-dropdown-trigger",null],[2,"slds-dropdown-trigger_click",null]],[[null,"openChange"],[null,"keydown.esc"],[null,"keydown.tab"],[null,"keydown.arrowdown"],[null,"keydown.arrowup"]],function(n,t,e){var l=!0,i=n.component;return"keydown.esc"===t&&(l=!1!==o.Ab(n,5).onKeydownClose("esc")&&l),"keydown.tab"===t&&(l=!1!==o.Ab(n,5).onKeydownClose("tab")&&l),"keydown.arrowdown"===t&&(l=!1!==o.Ab(n,5).onKeydownFocusNext(e,"next")&&l),"keydown.arrowup"===t&&(l=!1!==o.Ab(n,5).onKeydownFocusNext(e,"previous")&&l),"openChange"===t&&(l=!1!==(i.dropdownOpen=e)&&l),l},null,null)),o.pb(5,212992,null,1,Et.Bb,[o.k,o.E],{isOpen:[0,"isOpen"]},{isOpenChange:"openChange"}),o.Fb(603979776,2,{items:1}),(n()(),o.qb(7,0,null,null,3,"div",[["class","slds-dropdown slds-dropdown_right"]],null,null,null,null,null)),(n()(),o.qb(8,0,null,null,2,"ul",[["class","dropdown__list slds-m-left_small"],["role","menu"]],null,null,null,null,null)),(n()(),o.hb(16777216,null,null,1,null,Di)),o.pb(10,278528,null,0,Pt.k,[o.P,o.M,o.s],{ngForOf:[0,"ngForOf"]},null),(n()(),o.qb(11,0,null,null,7,"div",[["class","settings-dropdown slds-is-absolute"]],null,null,null,null,null)),(n()(),o.qb(12,0,null,null,6,"div",[["nglDropdown",""]],[[2,"slds-dropdown-trigger",null],[2,"slds-dropdown-trigger_click",null]],[[null,"openChange"],[null,"keydown.esc"],[null,"keydown.tab"],[null,"keydown.arrowdown"],[null,"keydown.arrowup"]],function(n,t,e){var l=!0,i=n.component;return"keydown.esc"===t&&(l=!1!==o.Ab(n,13).onKeydownClose("esc")&&l),"keydown.tab"===t&&(l=!1!==o.Ab(n,13).onKeydownClose("tab")&&l),"keydown.arrowdown"===t&&(l=!1!==o.Ab(n,13).onKeydownFocusNext(e,"next")&&l),"keydown.arrowup"===t&&(l=!1!==o.Ab(n,13).onKeydownFocusNext(e,"previous")&&l),"openChange"===t&&(l=!1!==(i.settingsMenuOpen=e)&&l),"openChange"===t&&(l=!1!==i.resetSettingsMenuFlag(e)&&l),l},null,null)),o.pb(13,212992,null,1,Et.Bb,[o.k,o.E],{isOpen:[0,"isOpen"]},{isOpenChange:"openChange"}),o.Fb(603979776,3,{items:1}),(n()(),o.qb(15,0,null,null,3,"div",[["class","slds-dropdown slds-dropdown_left"]],null,null,null,null,null)),(n()(),o.qb(16,0,null,null,2,"ul",[["class","slds-m-left_small slds-m-right_small"]],null,null,null,null,null)),(n()(),o.hb(16777216,null,null,1,null,qi)),o.pb(18,278528,null,0,Pt.k,[o.P,o.M,o.s],{ngForOf:[0,"ngForOf"]},null),(n()(),o.qb(19,0,null,null,14,"div",[["class","button-section"]],null,null,null,null,null)),(n()(),o.qb(20,0,[[1,0],["settingsButton",1]],null,3,"button",[["class","slds-button slds-button_neutral"]],[[8,"title",0]],[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.toggleSettingsMenu()&&l),l},null,null)),o.Bb(131072,d.i,[d.j,o.h]),(n()(),o.Hb(22,null,["",""])),o.Bb(131072,d.i,[d.j,o.h]),(n()(),o.hb(16777216,null,null,1,null,Li)),o.pb(25,16384,null,0,Pt.l,[o.P,o.M],{ngIf:[0,"ngIf"]},null),(n()(),o.qb(26,0,null,null,3,"button",[["class","slds-button slds-button_neutral"]],[[8,"title",0]],[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.showAddressBook()&&l),l},null,null)),o.Bb(131072,d.i,[d.j,o.h]),(n()(),o.Hb(28,null,["",""])),o.Bb(131072,d.i,[d.j,o.h]),(n()(),o.qb(30,0,null,null,3,"button",[["class","new-button slds-button slds-button_brand"]],[[8,"disabled",0],[8,"title",0]],[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.toggleMenu()&&l),l},null,null)),o.Bb(131072,d.i,[d.j,o.h]),(n()(),o.Hb(32,null,["",""])),o.Bb(131072,d.i,[d.j,o.h]),(n()(),o.qb(34,0,null,null,4,"div",[["class","slds-border_top branding-image-container"]],null,null,null,null,null)),(n()(),o.hb(16777216,null,null,1,null,Bi)),o.pb(36,16384,null,0,Pt.l,[o.P,o.M],{ngIf:[0,"ngIf"]},null),(n()(),o.hb(16777216,null,null,1,null,Ri)),o.pb(38,16384,null,0,Pt.l,[o.P,o.M],{ngIf:[0,"ngIf"]},null)],function(n,t){var e=t.component;n(t,5,0,e.dropdownOpen),n(t,10,0,e.menuItems),n(t,13,0,e.settingsMenuOpen),n(t,18,0,e.settingsMenu),n(t,25,0,e.isWfoEnabled),n(t,36,0,!e.hasCoBrandAndPartnerLogo),n(t,38,0,e.hasCoBrandAndPartnerLogo)},function(n,t){var e=t.component;n(t,4,0,!0,!0),n(t,12,0,!0,!0),n(t,20,0,o.Ib(t,20,0,o.Ab(t,21).transform("settings"))),n(t,22,0,o.Ib(t,22,0,o.Ab(t,23).transform("settings"))),n(t,26,0,o.Ib(t,26,0,o.Ab(t,27).transform("addressBookButton"))),n(t,28,0,o.Ib(t,28,0,o.Ab(t,29).transform("addressBookButton"))),n(t,30,0,e.newButtonEnable,o.Ib(t,30,1,o.Ab(t,31).transform("new"))),n(t,32,0,o.Ib(t,32,0,o.Ab(t,33).transform("new")))})}var Ji=function(){function n(n,t,e,l,o,i,s,c,a,r,u,d){this.agentSvc=n,this.validationUtilSvc=t,this.changeDetector=e,this.route=l,this.localizationSvc=o,this.localStorageSvc=i,this.navigationUtilSvc=s,this.logger=c,this.containerSvc=a,this.alertSvc=r,this.webRTCSvc=u,this.contactsSvc=d,this.hasContact=!1,this.showAddressBook=!1,this.showSpinner=!1,this.checkForInboundContact=!1}return n.prototype.ngOnInit=function(){var t=this;this.logger.debug(n.className,"Initialize"),this.localStorageSvc.set(g.RouterUrl,"/home"),this.agentSvc.agentSessionStartEvent.subscribe(function(n){t.onAgentSessionStart(n)}),this.agentSvc.agentLegEvent.subscribe(function(n){t.validationUtilSvc.isNullOrEmpty(n)||(t.agentLeg=n,t.checkForInboundContact&&(t.checkForInboundContact=!1,t.canNavigateToContacts(t.agentSvc.contacts)&&t.navigationUtilSvc.navigate(["/contacts"])))}),this.contactUpdateEvent=this.agentSvc.contactUpdateEvent.subscribe(function(n){t.showAddressBook=!1,t.canNavigateToContacts(t.agentSvc.contacts)&&t.navigationUtilSvc.navigate(["/contacts"])}),this.toggleAgentTransferEvent=this.containerSvc.toggleAgentTransfer.subscribe(function(n){t.showAddressBook=n}),this.agentSvc.isPolling||(this.logger.info(n.className,"Triggering GetNextEvent"),this.agentSvc.getNextEvent()),this.agentSvc.isWebRTC&&(this.webRTCStatusChangedEvent=this.webRTCSvc.webRTCStatusChangedEvent.subscribe(function(n){t.onWebRTCStatusChanges(n)}))},n.prototype.canNavigateToContacts=function(n){var t=this,e=!0;return this.validationUtilSvc.isNotNullOrEmptyArray(n)?this.validateActiveWorkItem(n)&&this.contactsSvc.isMchEnabled()?e=!1:n.forEach(function(n){(t.isConsultCall(n)||t.isIncomingWorkItem(n)||t.agentSvc.isWebRTC&&t.isInboundContact(n))&&(e=!1)}):e=!1,e},n.prototype.onWebRTCStatusChanges=function(n){var t=new nt;switch(n){case et.InitializingAudioCode:this.loadingMessage="initializeSoftphone",this.showSpinner=!0;break;case et.AcLoginFailed:t.type=Kn.Error,t.message="softphoneLoginFailed",this.showAlert(t);break;case et.ValidationSpeakerMicMissing:t.type=Kn.Error,t.message="softphoneMediaDeviceMissing",this.showAlert(t);break;case et.ValidationMediaDeviceAccessDenied:t.type=Kn.Error,t.message="softphoneMediaAccessDenied",this.showAlert(t);break;case et.AcCallTerminated:this.showSpinner=!1,this.lastWebRTCStatus===et.ConnectingAgentLeg&&(t.type=Kn.Error,t.message="softphoneAgentLegCallFailed",this.showAlert(t));break;case et.AcConnected:case et.AcDisconnected:case et.AcLogout:case et.AcCallConfirmed:this.showSpinner=!1}this.lastWebRTCStatus=n},n.prototype.isConsultCall=function(n){return"Consult"===n.callType&&(n.status===Tn.Incoming||n.status===Tn.Ringing)},n.prototype.isIncomingWorkItem=function(n){return"WorkItemContactEvent"===n.contactType&&n.status===Tn.Incoming},n.prototype.validateActiveWorkItem=function(n){var t=this.contactsSvc.findLastUpdatedContact(n),e=!1;return n.forEach(function(n){"WorkItemContactEvent"===n.contactType&&n.isActiveContact&&n.status!==Tn.Interrupted&&(e=!0)}),!e&&"WorkItemContactEvent"===t.contactType},n.prototype.isInboundContact=function(n){var t=!1;return("CallContactEvent"===n.contactType&&"Consult"!==n.callType||"VoiceMailContactEvent"===n.contactType)&&n.inbound&&(this.validationUtilSvc.isNullOrEmpty(this.agentLeg)?(this.checkForInboundContact=!0,t=!0):"Active"!==this.agentLeg.agentLegState&&(t=!0)),t},n.prototype.onAgentSessionStart=function(n){if(this.agentSvc.isJoinSession){var t=this.validationUtilSvc.isNotNullOrUndefined(n.stationId)&&"0"!==n.stationId?n.stationId:n.phNo,e="";this.localizationSvc.getLocalizedValue("sessionAlreadyInProgress").subscribe(function(n){e=n}),e+=t;var l=new nt;l.message=e,l.type=Kn.Info,this.showAlert(l)}},n.prototype.ngAfterViewInit=function(){this.route.snapshot.paramMap.get("isLoaded")&&this.agentSvc.loadData(),this.hasContact=!1,this.validationUtilSvc.isNotNullOrEmptyArray(this.contactsSvc.displayOmniGroupContacts)?this.omniGroupContact=this.contactsSvc.displayOmniGroupContacts[0]:this.validationUtilSvc.isNotNullOrEmptyArray(this.contactsSvc.callContacts)&&!this.showingAcceptReject()&&(this.lastUpdatedContact=this.contactsSvc.findLastUpdatedContact(this.contactsSvc.callContacts),this.contactSFresult=this.containerSvc.getSfResult(this.lastUpdatedContact.id),this.hasContact=!0),this.changeDetector.detectChanges()},n.prototype.showingAcceptReject=function(){var n=this.contactsSvc.callContacts,t=JSON.parse(this.localStorageSvc.get(g.AgentLeg)),e=!1;return n.forEach(function(n){("Consult"===n.callType&&(n.status===Tn.Incoming||n.status===Tn.Ringing)||t.agentLegState===Tn.Dialing&&n.inbound&&"CallContactEvent"===n.contactType)&&(e=!0)}),e},n.prototype.showAlert=function(n){this.alertSvc.showAlert(n)},n.prototype.switchToContacts=function(n){this.contactsSvc.updateFocusedContact(n.id),this.contactsSvc.updateDisplayContacts(n),this.navigationUtilSvc.navigate(["/contacts",{isLoaded:!0}])},n.prototype.ngOnDestroy=function(){this.logger.debug(n.className,"Destroy"),this.validationUtilSvc.isNotNullOrUndefined(this.contactUpdateEvent)&&this.contactUpdateEvent.unsubscribe(),this.validationUtilSvc.isNotNullOrUndefined(this.toggleAgentTransferEvent)&&this.toggleAgentTransferEvent.unsubscribe(),this.validationUtilSvc.isNotNullOrUndefined(this.webRTCStatusChangedEvent)&&this.webRTCStatusChangedEvent.unsubscribe()},n.className="HomeComponent",n}(),Fi=o.ob({encapsulation:0,styles:[[".full-height[_ngcontent-%COMP%], html[_ngcontent-%COMP%], html[_ngcontent-%COMP%]   body[_ngcontent-%COMP%]{height:100%}.no-strech[_ngcontent-%COMP%]{flex:0}.strech[_ngcontent-%COMP%]{flex:1;position:relative}.no-scroll[_ngcontent-%COMP%]{overflow:hidden}.full-height-flex[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;justify-content:center}.center-align[_ngcontent-%COMP%]{text-align:center}.cursor-pointer[_ngcontent-%COMP%]{cursor:pointer}.text-wrap[_ngcontent-%COMP%]{word-wrap:break-word}.text-bold[_ngcontent-%COMP%]{font-weight:700}.cdk-overlay-container[_ngcontent-%COMP%]   .slds-modal__container[_ngcontent-%COMP%]{margin:0;padding:0}.cdk-overlay-container[_ngcontent-%COMP%]   .slds-modal__content[_ngcontent-%COMP%]{height:100%}.cdk-global-scrollblock[_ngcontent-%COMP%]{overflow-y:auto!important}@media (min-width:48em){.slds-scope[_ngcontent-%COMP%]   .slds-modal--large[_ngcontent-%COMP%]   .slds-modal__container[_ngcontent-%COMP%], .slds-scope[_ngcontent-%COMP%]   .slds-modal_large[_ngcontent-%COMP%]   .slds-modal__container[_ngcontent-%COMP%]{width:100%;height:100%}}.pull-down[_ngcontent-%COMP%]{position:absolute;bottom:0;width:100%}.dialog-style[_ngcontent-%COMP%]{position:fixed;top:0;background-color:#fff;right:0;left:0;box-shadow:0 0 5px grey;z-index:1001}.schedule-container[_ngcontent-%COMP%]   .fc-widget-content[_ngcontent-%COMP%]{background-color:#fff}.schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%]{opacity:.75;text-indent:3px}.schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-event[_ngcontent-%COMP%]{border-radius:0;cursor:default;color:#01396a;min-height:2rem}.schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-event[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%]{font-weight:700}.schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%]:hover, .schedule-container[_ngcontent-%COMP%]   .fc-event[_ngcontent-%COMP%]:hover{text-decoration:none;color:#01396a}.schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%]   .fc-title[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-event[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-event[_ngcontent-%COMP%]   .fc-title[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-slats[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-slats[_ngcontent-%COMP%]   .fc-title[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-title[_ngcontent-%COMP%]{font-size:.8rem}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-content[_ngcontent-%COMP%]{display:flex}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-title[_ngcontent-%COMP%]{display:inline-block;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.schedule-container[_ngcontent-%COMP%]   .commitment-event[_ngcontent-%COMP%]{background-color:#d9d9d9;border-color:#d9d9d9}.schedule-container[_ngcontent-%COMP%]   .commitment-event[_ngcontent-%COMP%]:hover{cursor:pointer}.schedule-container[_ngcontent-%COMP%]   .fc-header-toolbar[_ngcontent-%COMP%]   .fc-left[_ngcontent-%COMP%]{margin-left:10px}.schedule-container[_ngcontent-%COMP%]   .fc-button-group[_ngcontent-%COMP%]{font-size:.6rem}.schedule-container[_ngcontent-%COMP%]   .fc-button-group[_ngcontent-%COMP%]   .fc-button-primary[_ngcontent-%COMP%]{background-color:#fff;border-color:grey;color:grey;box-shadow:none}.schedule-container[_ngcontent-%COMP%]   .fc-button-group[_ngcontent-%COMP%]   .fc-button-primary[_ngcontent-%COMP%]:not(:disabled):active{box-shadow:none}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]{min-height:1rem}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%]::before{display:none}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid[_ngcontent-%COMP%]   .fc-slats[_ngcontent-%COMP%]   .fc-minor[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-top:0}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-container[_ngcontent-%COMP%]{overflow:visible!important}.slds-scope[_ngcontent-%COMP%]   .slds-button[_ngcontent-%COMP%]:not([disabled]){color:#0672d4}.slds-scope[_ngcontent-%COMP%]   .slds-button.slds-button_brand[_ngcontent-%COMP%]{color:#fff}.slds-scope[_ngcontent-%COMP%]   .slds-button.decline-button[_ngcontent-%COMP%]:not([disabled]){color:#c13834;border-color:#c13834}.slds-scope[_ngcontent-%COMP%]   .slds-button.accept-button[_ngcontent-%COMP%]:not([disabled]){color:#fff}.slds-scope[_ngcontent-%COMP%]   .slds-slider__range[_ngcontent-%COMP%]{-webkit-appearance:none}.slds-scope[_ngcontent-%COMP%]   .slds-slider__range[_ngcontent-%COMP%]::-webkit-slider-thumb{-webkit-appearance:none;appearance:none}.initialize-softphone[_ngcontent-%COMP%]   .slds-spinner[_ngcontent-%COMP%]{margin-left:-6em}.slds-scope[_ngcontent-%COMP%]   .cdk-overlay-container[_ngcontent-%COMP%]{position:absolute}.unread-icon[_ngcontent-%COMP%]{height:.5rem;width:.5rem;border-radius:50%;display:inline-block;background-color:#1589ee}.unread-icon.visited[_ngcontent-%COMP%]{background:0 0}.alert-style[_ngcontent-%COMP%]{position:absolute;top:0;background:#fff}.msg-text-color_warning[_ngcontent-%COMP%]{color:#ff9a3b}.address-book-container[_ngcontent-%COMP%]   .back-navigation[_ngcontent-%COMP%]{cursor:pointer}.address-book-container[_ngcontent-%COMP%]   .back-navigation[_ngcontent-%COMP%]   .slds-button[_ngcontent-%COMP%]{color:#706e6b}.initialize-softphone[_ngcontent-%COMP%]{position:absolute;top:45%;left:0;right:0;background-color:#fff;width:100%;height:3em}"]],data:{}});function zi(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,2,"div",[["class","slds-col no-strech"]],null,null,null,null,null)),(n()(),o.qb(1,0,null,null,1,"app-omni-group-contact-bar",[],null,[[null,"updateSelectedContact"]],function(n,t,e){var l=!0,o=n.component;return"updateSelectedContact"===t&&(l=!1!==o.switchToContacts(o.omniGroupContact.callContact)&&l),l},Rt,Ut)),o.pb(2,770048,null,0,Dt,[S,P,f,qn,Un,p,ot],{omniGroupContact:[0,"omniGroupContact"],contactSfResult:[1,"contactSfResult"]},{updateSelectedContact:"updateSelectedContact"})],function(n,t){var e=t.component;n(t,2,0,e.omniGroupContact,e.contactSfResult)},null)}function Hi(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,2,"div",[["class","slds-col no-strech"]],null,null,null,null,null)),(n()(),o.qb(1,0,null,null,1,"app-call-contact-bar",[],null,[[null,"click"]],function(n,t,e){var l=!0,o=n.component;return"click"===t&&(l=!1!==o.switchToContacts(o.lastUpdatedContact)&&l),l},Gt,Jt)),o.pb(2,704512,null,0,jt,[qn,P,f,S,Un,ot,p],{callContact:[0,"callContact"],contactSfResult:[1,"contactSfResult"]},null)],function(n,t){var e=t.component;n(t,2,0,e.lastUpdatedContact,e.contactSFresult)},null)}function Wi(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,2,"div",[["class","initialize-softphone"]],null,null,null,null,null)),(n()(),o.qb(1,0,null,null,1,"app-loading-spinner",[],null,null,null,Kt,Qt)),o.pb(2,49152,null,0,Xt,[],{message:[0,"message"]},null)],function(n,t){n(t,2,0,t.component.loadingMessage)},null)}function Vi(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,11,"div",[["class","slds-grid slds-grid_vertical full-height address-book-container"]],null,null,null,null,null)),(n()(),o.qb(1,0,null,null,7,"div",[["class","slds-p-top_small slds-p-left_small slds-p-bottom_small slds-border_bottom no-strech"]],null,null,null,null,null)),(n()(),o.qb(2,0,null,null,6,"span",[["class","back-navigation"]],null,[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(l=0!=(n.component.showAddressBook=!1)&&l),l},null,null)),(n()(),o.qb(3,0,null,null,2,"button",[["class","slds-button slds-button_icon"]],null,null,null,null,null)),(n()(),o.qb(4,0,null,null,1,":svg:svg",[["aria-hidden","true"],["class","slds-button__icon"]],null,null,null,null,null)),(n()(),o.qb(5,0,null,null,0,":svg:use",[[":xlink:href","/_slds/icons/utility-sprite/svg/symbols.svg#back"]],null,null,null,null,null)),(n()(),o.qb(6,0,null,null,2,"span",[["class","slds-m-left_small"]],null,null,null,null,null)),(n()(),o.Hb(7,null,["",""])),o.Bb(131072,d.i,[d.j,o.h]),(n()(),o.qb(9,0,null,null,2,"div",[["class","strech"]],null,null,null,null,null)),(n()(),o.qb(10,0,null,null,1,"app-agent-transfer",[],null,null,null,ho,Ql)),o.pb(11,245760,null,0,Xl,[Un,ot,p,f,A,Hn,Yn,_],null,null)],function(n,t){n(t,11,0)},function(n,t){n(t,7,0,o.Ib(t,7,0,o.Ab(t,8).transform("back")))})}function Gi(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,17,"div",[["class","slds-grid slds-grid_vertical full-height"]],null,null,null,null,null)),o.pb(1,278528,null,0,Pt.o,[o.t,o.k,o.E],{ngStyle:[0,"ngStyle"]},null),o.Cb(2,{display:0}),(n()(),o.hb(16777216,null,null,1,null,zi)),o.pb(4,16384,null,0,Pt.l,[o.P,o.M],{ngIf:[0,"ngIf"]},null),(n()(),o.hb(16777216,null,null,1,null,Hi)),o.pb(6,16384,null,0,Pt.l,[o.P,o.M],{ngIf:[0,"ngIf"]},null),(n()(),o.qb(7,0,null,null,2,"div",[["class","slds-col no-strech"]],null,null,null,null,null)),(n()(),o.qb(8,0,null,null,1,"app-agent-state",[],null,[[null,"alertEvent"]],function(n,t,e){var l=!0;return"alertEvent"===t&&(l=!1!==n.component.showAlert(e)&&l),l},Ao,So)),o.pb(9,114688,null,0,Po,[Un,f,p,_,qn,S,Bn,P,tt],null,{alertEvent:"alertEvent"}),(n()(),o.qb(10,0,null,null,4,"div",[["class","slds-col strech no-scroll"]],null,null,null,null,null)),(n()(),o.qb(11,0,null,null,1,"app-home-tabs",[],null,null,null,Ni,_i)),o.pb(12,245760,null,0,vi,[Un,qn,p,ot,f,oi,Ci],null,null),(n()(),o.hb(16777216,null,null,1,null,Wi)),o.pb(14,16384,null,0,Pt.l,[o.P,o.M],{ngIf:[0,"ngIf"]},null),(n()(),o.qb(15,0,null,null,2,"div",[["class","slds-col_bump-bottom no-strech"]],null,null,null,null,null)),(n()(),o.qb(16,0,null,null,1,"app-footer",[],null,null,null,ji,Ti)),o.pb(17,114688,null,0,xi,[_,p,ot,Hn,f,Un,Ai.b],null,null),(n()(),o.hb(16777216,null,null,1,null,Vi)),o.pb(19,16384,null,0,Pt.l,[o.P,o.M],{ngIf:[0,"ngIf"]},null)],function(n,t){var e=t.component,l=n(t,2,0,e.showAddressBook?"none":"flex");n(t,1,0,l),n(t,4,0,e.omniGroupContact),n(t,6,0,e.hasContact),n(t,9,0),n(t,12,0),n(t,14,0,e.showSpinner),n(t,17,0),n(t,19,0,e.showAddressBook)},null)}function Xi(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,1,"app-home",[],null,null,null,Gi,Fi)),o.pb(1,4440064,null,0,Ji,[Un,f,o.h,x.a,S,p,A,_,ot,tt,ft,Yn],null,null)],function(n,t){n(t,1,0)},null)}var Qi=o.mb("app-home",Ji,Xi,{},{},[]),$i=function(){function n(n,t,e){this.adminSvc=n,this.dateTimeUtilSvc=t,this.validationUtilSvc=e,this.showAgentDetails=!1,this.isConsultCall=!1}return n.prototype.ngOnChanges=function(){var n=this;if(this.validationUtilSvc.isNotNullOrUndefined(this.selectedContact)){var t=this.selectedContact;if(this.showAgentDetails="Consult"===t.callType||"PersonalQueue"===t.callType&&!t.inbound,this.showAgentDetails){var e=t.inbound?t.ani:t.dnis;this.agentId="("+e+")",this.getAgentDetails(e),this.callDetailsField=t.status===Tn.Dialing||t.status===Tn.Ringing?"connecting":""}else this.getSkillDetails(t.skillId),this.phoneNumber=M.formatPhoneNumber(t.inbound?t.ani:t.dnis),this.skillId="("+t.skillId+")",this.callDetailsField=this.updateCallStatusChange(t);var l=t.status===Tn.Joined?t.lastStateTime:t.time;this.destroyTimerEvent();var o=Object(at.a)(1e3,1e3);this.timerEvent=o.subscribe(function(){n.time=n.dateTimeUtilSvc.getElapsedTime(l)})}},n.prototype.updateCallStatusChange=function(n){var t="";if(this.singleMatchName="",n.status===Tn.Dialing||n.status===Tn.Ringing)t="connecting";else if(n.status===Tn.Joined)t="conferenceCall";else if(this.validationUtilSvc.isValidObject(this.contactSfResult)&&this.contactSfResult.contactId===n.id){var e=this.contactSfResult.results.result,l=Object.keys(e).length;this.singleMatchName=1===l?e[Object.keys(e)[0]].Name:"",t=this.validationUtilSvc.isNotNullOrEmpty(this.singleMatchName)?this.singleMatchName:this.phoneNumber}else t=this.phoneNumber;return t},n.prototype.getSkillDetails=function(n){var t=this;this.adminSvc.getSkillDetails(n).then(function(n){t.skillName=n.skillName})},n.prototype.getAgentDetails=function(n){var t=this;this.adminSvc.getAgentDetails(n).then(function(n){t.agentName=n.firstName+" "+n.lastName})},n.prototype.ngOnDestroy=function(){this.destroyTimerEvent()},n.prototype.destroyTimerEvent=function(){this.validationUtilSvc.isNotNullOrUndefined(this.timerEvent)&&this.timerEvent.unsubscribe()},n}(),Ki=o.ob({encapsulation:0,styles:[[".call-contact-panel[_ngcontent-%COMP%]{text-align:center;display:flex;flex-direction:column;height:100%;justify-content:center}.call-contact-panel[_ngcontent-%COMP%]   .agent-name[_ngcontent-%COMP%], .call-contact-panel[_ngcontent-%COMP%]   .call-details-field[_ngcontent-%COMP%]{word-break:break-all}.contact-number-style[_ngcontent-%COMP%]{font-weight:700}"]],data:{}});function Yi(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,5,"div",[],null,null,null,null,null)),(n()(),o.qb(1,0,null,null,2,"div",[["class","slds-text-heading_medium contact-number-style call-details-field slds-p-horizontal_x-small"]],null,null,null,null,null)),(n()(),o.Hb(2,null,[" "," "])),o.Bb(131072,d.i,[d.j,o.h]),(n()(),o.qb(4,0,null,null,1,"div",[],null,null,null,null,null)),(n()(),o.Hb(5,null,[" "," ",""]))],null,function(n,t){var e=t.component;n(t,2,0,o.Ib(t,2,0,o.Ab(t,3).transform(e.callDetailsField))),n(t,5,0,e.skillName,e.skillId)})}function Zi(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,5,"div",[],null,null,null,null,null)),(n()(),o.qb(1,0,null,null,2,"div",[["class","slds-text-heading_medium contact-number-style agent-name slds-p-horizontal_x-small"]],null,null,null,null,null)),(n()(),o.Hb(2,null,[" "," "])),o.Bb(131072,d.i,[d.j,o.h]),(n()(),o.qb(4,0,null,null,1,"div",[],null,null,null,null,null)),(n()(),o.Hb(5,null,["",""]))],null,function(n,t){var e=t.component;n(t,2,0,e.callDetailsField?o.Ib(t,2,0,o.Ab(t,3).transform(e.callDetailsField)):e.agentName),n(t,5,0,e.agentId)})}function ns(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,6,"div",[["class","call-contact-panel"]],null,null,null,null,null)),(n()(),o.qb(1,0,null,null,1,"div",[],null,null,null,null,null)),(n()(),o.Hb(2,null,[" "," "])),(n()(),o.hb(16777216,null,null,1,null,Yi)),o.pb(4,16384,null,0,Pt.l,[o.P,o.M],{ngIf:[0,"ngIf"]},null),(n()(),o.hb(16777216,null,null,1,null,Zi)),o.pb(6,16384,null,0,Pt.l,[o.P,o.M],{ngIf:[0,"ngIf"]},null)],function(n,t){var e=t.component;n(t,4,0,!e.showAgentDetails),n(t,6,0,e.showAgentDetails)},function(n,t){n(t,2,0,t.component.time)})}var ts=function(){function n(n,t,e,l,o){this.adminSvc=n,this.dateTimeUtilSvc=t,this.validationUtilSvc=e,this.localizationSvc=l,this.containerSvc=o}return n.prototype.ngOnChanges=function(){var n=this;this.setWorkItemType(this.selectedContact.sfWorkItemType),this.workItemId=this.containerSvc.getWorkItemResultId(this.selectedContact,this.contactSfResult),this.skillId="("+this.selectedContact.skillId+")",this.getSkillDetails(this.selectedContact.skillId),this.destroyTimerEvent();var t=Object(at.a)(1e3,1e3);this.timerEvent=t.subscribe(function(){n.time=n.dateTimeUtilSvc.getElapsedTime(n.selectedContact.time)})},n.prototype.setWorkItemType=function(n){var t=this,e=this.validationUtilSvc.isNotNullOrEmpty(n)?n:"workItem";this.localizationSvc.getLocalizedValue(e).subscribe(function(n){t.workItemType=n})},n.prototype.getSkillDetails=function(n){var t=this;this.adminSvc.getSkillDetails(n).then(function(n){t.skillName=n.skillName})},n.prototype.ngOnDestroy=function(){this.destroyTimerEvent()},n.prototype.destroyTimerEvent=function(){this.validationUtilSvc.isNotNullOrUndefined(this.timerEvent)&&this.timerEvent.unsubscribe()},n}(),es=o.ob({encapsulation:0,styles:[[".work-item-contact-panel[_ngcontent-%COMP%]{text-align:center;display:flex;flex-direction:column;height:100%;justify-content:center}.work-item-contact-panel[_ngcontent-%COMP%]   .work-item-details-field[_ngcontent-%COMP%]{word-break:break-all}.contact-number-style[_ngcontent-%COMP%]{font-weight:700}"]],data:{}});function ls(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,9,"div",[["class","work-item-contact-panel"]],null,null,null,null,null)),(n()(),o.qb(1,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),o.Hb(2,null,[" "," "])),(n()(),o.qb(3,0,null,null,4,"div",[["class","slds-text-heading_medium contact-number-style work-item-details-field slds-p-horizontal_x-small"]],null,null,null,null,null)),(n()(),o.qb(4,0,null,null,1,"div",[["class","slds-truncate"]],[[8,"title",0]],null,null,null,null)),(n()(),o.Hb(5,null,[" "," "])),(n()(),o.qb(6,0,null,null,1,"div",[["class","slds-truncate"]],[[8,"title",0]],null,null,null,null)),(n()(),o.Hb(7,null,[" "," "])),(n()(),o.qb(8,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),o.Hb(9,null,[" "," ",""]))],null,function(n,t){var e=t.component;n(t,2,0,e.time),n(t,4,0,o.sb(1,"",e.workItemType,"")),n(t,5,0,e.workItemType),n(t,6,0,o.sb(1,"",e.workItemId,"")),n(t,7,0,e.workItemId),n(t,9,0,e.skillName,e.skillId)})}var os=function(){function n(n,t,e,l,i){this.adimnSvc=n,this.localStorageSvc=t,this.containerSvc=e,this.validationUtilSvc=l,this.localizationSvc=i,this.tagsEvent=new o.m,this.tags=[],this.tagDetails=[],this.selectedTags={}}return n.prototype.ngOnInit=function(){this.getTags()},n.prototype.ngOnChanges=function(){this.getTags()},n.prototype.getTags=function(){var n=this;this.adimnSvc.getTags(this.skillId).then(function(t){n.tagDetails=t,n.tags=[],n.enableTags=0!==n.tagDetails.length;for(var e=0;e<n.tagDetails.length;e++)n.tags.push({label:n.tagDetails[e].tagName,value:n.tagDetails[e].tagId});n.hasSelectedTags()&&(n.selectedTags=n.dispositionResult.tags)})},n.prototype.updateTags=function(n){this.selectedTags=n,this.tagsEvent.emit(n)},n.prototype.hasSelectedTags=function(){return this.validationUtilSvc.isNotNullOrEmpty(this.dispositionResult)&&this.validationUtilSvc.isNotNullOrEmpty(this.dispositionResult.tags)},n}(),is=o.ob({encapsulation:0,styles:[[""]],data:{}});function ss(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,5,"div",[["class","slds-p-top_x-small"]],null,null,null,null,null)),(n()(),o.qb(1,0,null,null,2,"span",[],null,null,null,null,null)),(n()(),o.Hb(2,null,["",""])),o.Bb(131072,d.i,[d.j,o.h]),(n()(),o.qb(4,0,null,null,1,"app-combo-box",[],null,[[null,"changeEvent"]],function(n,t,e){var l=!0;return"changeEvent"===t&&(l=!1!==n.component.updateTags(e)&&l),l},ce,ee)),o.pb(5,573440,null,0,te,[S,f],{options:[0,"options"],isMultiSelect:[1,"isMultiSelect"],selectedOptions:[2,"selectedOptions"]},{changeEvent:"changeEvent"})],function(n,t){var e=t.component;n(t,5,0,e.tags,!0,e.selectedTags)},function(n,t){n(t,2,0,o.Ib(t,2,0,o.Ab(t,3).transform("tags")))})}function cs(n){return o.Jb(0,[(n()(),o.hb(16777216,null,null,1,null,ss)),o.pb(1,16384,null,0,Pt.l,[o.P,o.M],{ngIf:[0,"ngIf"]},null)],function(n,t){n(t,1,0,t.component.enableTags)},null)}var as=e("66lw"),rs=function(){function n(n,t,e,l,o,i,s,c){this.adimnSvc=n,this.localStorageSvc=t,this.modelSvc=e,this.agentSvc=l,this.validationUtilSvc=o,this.containerSvc=i,this.contactsSvc=s,this.logger=c,this.selectedSecondaryDispoition=null,this.dispositionDetails=[],this.dispositions=[],this.selectedDisposition=null,this.selectedAmount=null,this.selectedDate=null,this.selectedNotes=null,this.skillDetails=new nn,this.priDispositions=[],this.secDispositions=[],this.requireCommitmentAmount=!1,this.requireRescheduleDate=!1,this.enableTags=!1}return n.prototype.ngOnInit=function(){this.validationUtilSvc.isNotNullOrUndefined(this.callDetails)&&(this.getSkillDetails(),this.getDispositionResult(),this.skillDetails.hasDisposition&&this.getDispositionDetails())},n.prototype.ngOnChanges=function(){this.validationUtilSvc.isNotNullOrUndefined(this.callDetails)&&(this.getSkillDetails(),this.getDispositionResult(),this.skillDetails.hasDisposition&&this.getDispositionDetails())},n.prototype.getDispositionResult=function(){var n=JSON.parse(this.localStorageSvc.get(g.DispositionResult));this.validationUtilSvc.isValidObject(n)||(this.contactsSvc.createDispositionDetails(),n=JSON.parse(this.localStorageSvc.get(g.DispositionResult))),this.dispositionResult=n[this.contact.id],this.selectedNotes=this.dispositionResult.notes},n.prototype.clearPreviousSelections=function(){this.priDispositions=[],this.secDispositions=[],this.dispositions=[],this.selectedDisposition=null,this.selectedSecondaryDispoition=null,this.dispositionDetails=[]},n.prototype.populateDispositionResults=function(){this.hasSelectedDisposition()&&this.validationUtilSvc.isNotNullOrEmpty(this.dispositionResult.disposition)&&this.validationUtilSvc.isNotNullOrEmpty(this.dispositionResult.disposition.dispositionId)&&(this.selectedDisposition=this.dispositionResult.disposition.dispositionId,this.secDispositions=this.removeElements(this.selectedDisposition,this.dispositions),this.validationUtilSvc.isNotNullOrEmpty(this.dispositionResult.secDisposition)&&this.validationUtilSvc.isNotNullOrEmpty(this.dispositionResult.secDisposition.dispositionId)&&(this.selectedSecondaryDispoition=this.dispositionResult.secDisposition.dispositionId,this.priDispositions=this.removeElements(this.selectedSecondaryDispoition,this.dispositions)))},n.prototype.getSkillDetails=function(){this.validationUtilSvc.isNotNullOrEmpty(this.contact)&&this.contact.id!==this.callDetails.callDetails.id&&this.clearPreviousSelections(),this.skillDetails=this.callDetails.skillDetails,this.contact=this.callDetails.callDetails,this.enableTags=!0,this.contact&&"NaturalCalling"===this.contact.callType&&(this.isNaturalCall=!0)},n.prototype.hasSelectedDisposition=function(){return this.validationUtilSvc.isNotNullOrEmpty(this.dispositionResult)},n.prototype.getDispositionDetails=function(){return T.__awaiter(this,void 0,void 0,function(){var n=this;return T.__generator(this,function(t){switch(t.label){case 0:return this.validationUtilSvc.isValidObject(this.dispositionDetails)?[3,2]:[4,this.adimnSvc.getDispositions(this.contact.skillId).then(function(t){n.dispositionDetails=t;for(var e=[],l=0;l<n.dispositionDetails.length;l++)e.push({label:n.dispositionDetails[l].dispositionName,value:n.dispositionDetails[l].dispositionId});n.dispositions=e,n.priDispositions=e,n.populateDispositionResults()})];case 1:return t.sent(),[3,3];case 2:this.populateDispositionResults(),t.label=3;case 3:return[2]}})})},n.prototype.onSelectDisposition=function(n){var t=this.getDispositionObject(n),e=this.dispositions;this.selectedDisposition=n,this.containerSvc.updateDispositionResult(this.contact.id,"Disposition",t),this.validationUtilSvc.isNotNullOrEmpty(n)?(this.secDispositions=this.removeElements(n,e),this.isNaturalCall&&this.toggleDateAndAmount(n)):(this.secDispositions=e,this.requireRescheduleDate=!1,this.requireCommitmentAmount=!1,this.selectedSecondaryDispoition=null)},n.prototype.getDispositionObject=function(n){return this.dispositionDetails.filter(function(t){return t.dispositionId===n})[0]},n.prototype.onSelectSecDisposition=function(n){this.selectedSecondaryDispoition=n;var t=this.getDispositionObject(n);this.containerSvc.updateDispositionResult(this.contact.id,"SecDisposition",t),this.priDispositions=this.removeElements(n,this.dispositions),"NaturalCalling"===this.contact.callType&&(this.isNaturalCall=!0)},n.prototype.removeElements=function(n,t){return t.filter(function(t){return t.value!==n})},n.prototype.toggleDateAndAmount=function(n){var t=this;this.dispositionDetails.forEach(function(e){e.dispositionId===n&&(t.requireCommitmentAmount=e.requireCommitmentAmount,t.requireRescheduleDate=e.requireRescheduleDate)})},n.prototype.onSave=function(){this.skillDetails.requireDisposition?(this.isRequiredFields=!0,this.validateFields()&&this.submitDisposition()):this.selectedDisposition?this.submitDisposition():this.submitAgentState()},n.prototype.closeModal=function(){var t=this,e=this.agentSvc.contacts;this.validationUtilSvc.isNotNullOrEmpty(e)&&e.map(function(n){n.id===t.contact.id&&(t.contact.isDispositionSubmitted=!0,n.isDispositionSubmitted=!0)}),this.localStorageSvc.set(g.Contacts,JSON.stringify(e)),this.contactsSvc.contactDetails(this.contact),this.logger.debug(n.name,"closeModal "+this.contact.id),this.modelSvc.closeModalDialog(!1)},n.prototype.submitAgentState=function(){var n,t=this;n=JSON.parse(this.localStorageSvc.get(g.StateInfo)),this.agentSvc.setAgentState(n.nState.state,n.nState.reason).then(function(n){t.closeModal()})},n.prototype.submitDisposition=function(){var n=this;this.agentSvc.setDisposition(this.contact.id,{primaryDispositionId:this.selectedDisposition,secondaryDispositionId:this.selectedSecondaryDispoition,primaryCommitmentAmount:this.selectedAmount,primaryCallbackTime:this.selectedDate,primaryCallbackNumber:"",primaryDispositionNotes:this.selectedNotes}).then(function(t){delete n.adimnSvc.dispositionList[n.contact.skillId],n.closeModal()})},n.prototype.validateFields=function(){var n=!1;return this.validationUtilSvc.isNotNullOrEmpty(this.selectedDisposition)&&(n=!0,this.isNaturalCall&&(n=this.validateNaturalCall(n))),n},n.prototype.validateNaturalCall=function(n){return this.requireCommitmentAmount&&this.validationUtilSvc.isNotNullOrEmpty(this.selectedAmount)?n=!0:this.requireRescheduleDate&&this.validationUtilSvc.isNotNullOrEmpty(this.selectedDate)&&(n=!0),n},n.prototype.updateTags=function(n){this.containerSvc.updateDispositionResult(this.contact.id,"Tags",n)},n.prototype.onUpdateNotes=function(n){this.containerSvc.updateDispositionResult(this.contact.id,"Notes",n)},n}(),us=o.ob({encapsulation:0,styles:[[".full-height[_ngcontent-%COMP%], html[_ngcontent-%COMP%], html[_ngcontent-%COMP%]   body[_ngcontent-%COMP%]{height:100%}.no-strech[_ngcontent-%COMP%]{flex:0}.strech[_ngcontent-%COMP%]{flex:1;position:relative}.no-scroll[_ngcontent-%COMP%]{overflow:hidden}.full-height-flex[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;justify-content:center}.center-align[_ngcontent-%COMP%]{text-align:center}.cursor-pointer[_ngcontent-%COMP%]{cursor:pointer}.text-wrap[_ngcontent-%COMP%]{word-wrap:break-word}.text-bold[_ngcontent-%COMP%]{font-weight:700}.cdk-overlay-container[_ngcontent-%COMP%]   .slds-modal__container[_ngcontent-%COMP%]{margin:0;padding:0}.cdk-overlay-container[_ngcontent-%COMP%]   .slds-modal__content[_ngcontent-%COMP%]{height:100%}.cdk-global-scrollblock[_ngcontent-%COMP%]{overflow-y:auto!important}@media (min-width:48em){.slds-scope[_ngcontent-%COMP%]   .slds-modal--large[_ngcontent-%COMP%]   .slds-modal__container[_ngcontent-%COMP%], .slds-scope[_ngcontent-%COMP%]   .slds-modal_large[_ngcontent-%COMP%]   .slds-modal__container[_ngcontent-%COMP%]{width:100%;height:100%}}.pull-down[_ngcontent-%COMP%]{position:absolute;bottom:0;width:100%}.dialog-style[_ngcontent-%COMP%]{position:fixed;top:0;background-color:#fff;right:0;left:0;box-shadow:0 0 5px grey;z-index:1001}.schedule-container[_ngcontent-%COMP%]   .fc-widget-content[_ngcontent-%COMP%]{background-color:#fff}.schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%]{opacity:.75;text-indent:3px}.schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-event[_ngcontent-%COMP%]{border-radius:0;cursor:default;color:#01396a;min-height:2rem}.schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-event[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%]{font-weight:700}.schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%]:hover, .schedule-container[_ngcontent-%COMP%]   .fc-event[_ngcontent-%COMP%]:hover{text-decoration:none;color:#01396a}.schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%]   .fc-title[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-event[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-event[_ngcontent-%COMP%]   .fc-title[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-slats[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-slats[_ngcontent-%COMP%]   .fc-title[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-title[_ngcontent-%COMP%]{font-size:.8rem}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-content[_ngcontent-%COMP%]{display:flex}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-title[_ngcontent-%COMP%]{display:inline-block;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.schedule-container[_ngcontent-%COMP%]   .commitment-event[_ngcontent-%COMP%]{background-color:#d9d9d9;border-color:#d9d9d9}.schedule-container[_ngcontent-%COMP%]   .commitment-event[_ngcontent-%COMP%]:hover{cursor:pointer}.schedule-container[_ngcontent-%COMP%]   .fc-header-toolbar[_ngcontent-%COMP%]   .fc-left[_ngcontent-%COMP%]{margin-left:10px}.schedule-container[_ngcontent-%COMP%]   .fc-button-group[_ngcontent-%COMP%]{font-size:.6rem}.schedule-container[_ngcontent-%COMP%]   .fc-button-group[_ngcontent-%COMP%]   .fc-button-primary[_ngcontent-%COMP%]{background-color:#fff;border-color:grey;color:grey;box-shadow:none}.schedule-container[_ngcontent-%COMP%]   .fc-button-group[_ngcontent-%COMP%]   .fc-button-primary[_ngcontent-%COMP%]:not(:disabled):active{box-shadow:none}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]{min-height:1rem}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%]::before{display:none}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid[_ngcontent-%COMP%]   .fc-slats[_ngcontent-%COMP%]   .fc-minor[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-top:0}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-container[_ngcontent-%COMP%]{overflow:visible!important}.slds-scope[_ngcontent-%COMP%]   .slds-button[_ngcontent-%COMP%]:not([disabled]){color:#0672d4}.slds-scope[_ngcontent-%COMP%]   .slds-button.slds-button_brand[_ngcontent-%COMP%]{color:#fff}.slds-scope[_ngcontent-%COMP%]   .slds-button.decline-button[_ngcontent-%COMP%]:not([disabled]){color:#c13834;border-color:#c13834}.slds-scope[_ngcontent-%COMP%]   .slds-button.accept-button[_ngcontent-%COMP%]:not([disabled]){color:#fff}.slds-scope[_ngcontent-%COMP%]   .slds-slider__range[_ngcontent-%COMP%]{-webkit-appearance:none}.slds-scope[_ngcontent-%COMP%]   .slds-slider__range[_ngcontent-%COMP%]::-webkit-slider-thumb{-webkit-appearance:none;appearance:none}.initialize-softphone[_ngcontent-%COMP%]   .slds-spinner[_ngcontent-%COMP%]{margin-left:-6em}.slds-scope[_ngcontent-%COMP%]   .cdk-overlay-container[_ngcontent-%COMP%]{position:absolute}.unread-icon[_ngcontent-%COMP%]{height:.5rem;width:.5rem;border-radius:50%;display:inline-block;background-color:#1589ee}.unread-icon.visited[_ngcontent-%COMP%]{background:0 0}.amount-date-container[_ngcontent-%COMP%]{display:flex}.amount-date-container[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%], .amount-date-container[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{flex:1}.save[_ngcontent-%COMP%]{width:100%}  .slds-scope .slds-textarea{height:5rem;resize:none}.error[_ngcontent-%COMP%]{color:#c13834}"]],data:{}});function ds(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,5,"div",[["class","slds-p-top_x-small"]],null,null,null,null,null)),(n()(),o.qb(1,0,null,null,2,"span",[],null,null,null,null,null)),(n()(),o.Hb(2,null,["",""])),o.Bb(131072,d.i,[d.j,o.h]),(n()(),o.qb(4,0,null,null,1,"app-combo-box",[],null,[[null,"changeEvent"]],function(n,t,e){var l=!0;return"changeEvent"===t&&(l=!1!==n.component.onSelectDisposition(e)&&l),l},ce,ee)),o.pb(5,573440,null,0,te,[S,f],{options:[0,"options"],isMultiSelect:[1,"isMultiSelect"],selectedOptions:[2,"selectedOptions"]},{changeEvent:"changeEvent"})],function(n,t){var e=t.component;n(t,5,0,e.priDispositions,!1,e.selectedDisposition)},function(n,t){n(t,2,0,o.Ib(t,2,0,o.Ab(t,3).transform("disposition")))})}function gs(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,3,"div",[["class","slds-p-top_x-small"]],null,null,null,null,null)),(n()(),o.qb(1,0,null,null,2,"p",[["class","error"]],null,null,null,null,null)),(n()(),o.Hb(2,null,["",""])),o.Bb(131072,d.i,[d.j,o.h])],null,function(n,t){n(t,2,0,o.Ib(t,2,0,o.Ab(t,3).transform("dispositionErrorMsg")))})}function hs(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,5,"div",[["class","slds-p-top_x-small"]],null,null,null,null,null)),(n()(),o.qb(1,0,null,null,2,"span",[],null,null,null,null,null)),(n()(),o.Hb(2,null,["",""])),o.Bb(131072,d.i,[d.j,o.h]),(n()(),o.qb(4,0,null,null,1,"app-combo-box",[],null,[[null,"changeEvent"]],function(n,t,e){var l=!0;return"changeEvent"===t&&(l=!1!==n.component.onSelectSecDisposition(e)&&l),l},ce,ee)),o.pb(5,573440,null,0,te,[S,f],{options:[0,"options"],isMultiSelect:[1,"isMultiSelect"],selectedOptions:[2,"selectedOptions"]},{changeEvent:"changeEvent"})],function(n,t){var e=t.component;n(t,5,0,e.secDispositions,!1,e.selectedSecondaryDispoition)},function(n,t){n(t,2,0,o.Ib(t,2,0,o.Ab(t,3).transform("secDisposition")))})}function ps(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,2,"div",[["class","slds-p-top_x-small"]],null,null,null,null,null)),(n()(),o.qb(1,0,null,null,1,"app-tags",[],null,[[null,"tagsEvent"]],function(n,t,e){var l=!0;return"tagsEvent"===t&&(l=!1!==n.component.updateTags(e)&&l),l},cs,is)),o.pb(2,638976,null,0,os,[qn,p,ot,f,S],{skillId:[0,"skillId"],dispositionResult:[1,"dispositionResult"]},{tagsEvent:"tagsEvent"})],function(n,t){var e=t.component;n(t,2,0,e.skillDetails.skillId,e.dispositionResult)},null)}function fs(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,12,"div",[["class","amount"]],null,null,null,null,null)),(n()(),o.qb(1,0,null,null,11,"ngl-input",[],[[2,"slds-form-element",null],[2,"slds-has-error",null]],null,null,_t.q,_t.e)),o.pb(2,1753088,null,1,Et.yb,[o.h],{label:[0,"label"]},null),o.Fb(335544320,1,{input:0}),o.Bb(131072,d.i,[d.j,o.h]),(n()(),o.qb(5,0,null,0,7,"input",[["ngl",""],["type","text"]],[[8,"placeholder",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"slds-input",null],[1,"aria-describedby",0]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,t,e){var l=!0,i=n.component;return"input"===t&&(l=!1!==o.Ab(n,6)._handleInput(e.target.value)&&l),"blur"===t&&(l=!1!==o.Ab(n,6).onTouched()&&l),"compositionstart"===t&&(l=!1!==o.Ab(n,6)._compositionStart()&&l),"compositionend"===t&&(l=!1!==o.Ab(n,6)._compositionEnd(e.target.value)&&l),"ngModelChange"===t&&(l=!1!==(i.selectedAmount=e)&&l),l},null,null)),o.pb(6,16384,null,0,Mt.b,[o.E,o.k,[2,Mt.a]],null,null),o.Eb(1024,null,Mt.f,function(n){return[n]},[Mt.b]),o.pb(8,671744,null,0,Mt.i,[[8,null],[8,null],[8,null],[6,Mt.f]],{model:[0,"model"]},{update:"ngModelChange"}),o.Eb(2048,null,Mt.g,null,[Mt.i]),o.pb(10,16384,null,0,Mt.h,[[4,Mt.g]],null,null),o.pb(11,16384,[[1,4]],0,Et.zb,[o.k,o.E],null,null),o.Bb(131072,d.i,[d.j,o.h])],function(n,t){var e=t.component;n(t,2,0,o.sb(1,"",o.Ib(t,2,0,o.Ab(t,4).transform("amount")),"")),n(t,8,0,e.selectedAmount)},function(n,t){n(t,1,0,!0,o.Ab(t,2).hasError),n(t,5,0,o.sb(1,"",o.Ib(t,5,0,o.Ab(t,12).transform("selectOption")),""),o.Ab(t,10).ngClassUntouched,o.Ab(t,10).ngClassTouched,o.Ab(t,10).ngClassPristine,o.Ab(t,10).ngClassDirty,o.Ab(t,10).ngClassValid,o.Ab(t,10).ngClassInvalid,o.Ab(t,10).ngClassPending,!0,o.Ab(t,11).describedBy)})}function bs(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,10,"div",[],null,null,null,null,null)),o.pb(1,278528,null,0,Pt.j,[o.s,o.t,o.k,o.E],{ngClass:[0,"ngClass"]},null),o.Cb(2,{"slds-p-left_medium date":0,save:1}),(n()(),o.qb(3,0,null,null,7,"ngl-datepicker-input",[],null,[[null,"valueChange"]],function(n,t,e){var l=!0;return"valueChange"===t&&(l=!1!==(n.component.selectedDate=e)&&l),l},_t.o,_t.c)),o.Eb(5120,null,Mt.f,function(n){return[n]},[Et.ib]),o.Eb(5120,null,Mt.e,function(n){return[n]},[Et.ib]),o.pb(6,278528,null,0,Pt.j,[o.s,o.t,o.k,o.E],{ngClass:[0,"ngClass"]},null),o.Cb(7,{save:0}),o.Eb(512,null,Et.lc,Et.lc,[o.F]),o.pb(9,770048,null,0,Et.ib,[[2,Et.b],o.k,o.E,o.h,Et.lc,o.z,as.c,Et.jb],{label:[0,"label"],value:[1,"value"]},{valueChange:"valueChange"}),o.Bb(131072,d.i,[d.j,o.h])],function(n,t){var e=t.component,l=n(t,2,0,e.requireCommitmentAmount,!e.requireCommitmentAmount);n(t,1,0,l);var i=n(t,7,0,!e.requireCommitmentAmount);n(t,6,0,i),n(t,9,0,o.sb(1,"",o.Ib(t,9,0,o.Ab(t,10).transform("date")),""),e.selectedDate)},null)}function ms(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,4,"div",[["class","slds-p-top_x-small amount-date-container"]],null,null,null,null,null)),(n()(),o.hb(16777216,null,null,1,null,fs)),o.pb(2,16384,null,0,Pt.l,[o.P,o.M],{ngIf:[0,"ngIf"]},null),(n()(),o.hb(16777216,null,null,1,null,bs)),o.pb(4,16384,null,0,Pt.l,[o.P,o.M],{ngIf:[0,"ngIf"]},null)],function(n,t){var e=t.component;n(t,2,0,e.requireCommitmentAmount),n(t,4,0,e.requireRescheduleDate)},null)}function Cs(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,3,"div",[["class","slds-p-top_x-small"]],null,null,null,null,null)),(n()(),o.qb(1,0,null,null,2,"p",[["class","error"]],null,null,null,null,null)),(n()(),o.Hb(2,null,["",""])),o.Bb(131072,d.i,[d.j,o.h])],null,function(n,t){n(t,2,0,o.Ib(t,2,0,o.Ab(t,3).transform("dateErrorMsg")))})}function vs(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,3,"div",[["class","slds-p-top_x-small"]],null,null,null,null,null)),(n()(),o.qb(1,0,null,null,2,"p",[["class","error"]],null,null,null,null,null)),(n()(),o.Hb(2,null,["",""])),o.Bb(131072,d.i,[d.j,o.h])],null,function(n,t){n(t,2,0,o.Ib(t,2,0,o.Ab(t,3).transform("amountErrorMsg")))})}function _s(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,33,"div",[],null,null,null,null,null)),(n()(),o.hb(16777216,null,null,1,null,ds)),o.pb(2,16384,null,0,Pt.l,[o.P,o.M],{ngIf:[0,"ngIf"]},null),(n()(),o.hb(16777216,null,null,1,null,gs)),o.pb(4,16384,null,0,Pt.l,[o.P,o.M],{ngIf:[0,"ngIf"]},null),(n()(),o.hb(16777216,null,null,1,null,hs)),o.pb(6,16384,null,0,Pt.l,[o.P,o.M],{ngIf:[0,"ngIf"]},null),(n()(),o.hb(16777216,null,null,1,null,ps)),o.pb(8,16384,null,0,Pt.l,[o.P,o.M],{ngIf:[0,"ngIf"]},null),(n()(),o.hb(16777216,null,null,1,null,ms)),o.pb(10,16384,null,0,Pt.l,[o.P,o.M],{ngIf:[0,"ngIf"]},null),(n()(),o.hb(16777216,null,null,1,null,Cs)),o.pb(12,16384,null,0,Pt.l,[o.P,o.M],{ngIf:[0,"ngIf"]},null),(n()(),o.hb(16777216,null,null,1,null,vs)),o.pb(14,16384,null,0,Pt.l,[o.P,o.M],{ngIf:[0,"ngIf"]},null),(n()(),o.qb(15,0,null,null,12,"div",[["class","slds-p-top_x-small"]],null,null,null,null,null)),(n()(),o.qb(16,0,null,null,11,"ngl-textarea",[],[[2,"slds-form-element",null],[2,"slds-has-error",null]],null,null,_t.w,_t.k)),o.pb(17,1753088,null,1,Et.fc,[o.h],{label:[0,"label"]},null),o.Fb(335544320,2,{input:0}),o.Bb(131072,d.i,[d.j,o.h]),(n()(),o.qb(20,0,null,0,7,"textarea",[["ngl",""]],[[8,"placeholder",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"slds-textarea",null],[1,"aria-describedby",0]],[[null,"ngModelChange"],[null,"keyup"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,t,e){var l=!0,i=n.component;return"input"===t&&(l=!1!==o.Ab(n,21)._handleInput(e.target.value)&&l),"blur"===t&&(l=!1!==o.Ab(n,21).onTouched()&&l),"compositionstart"===t&&(l=!1!==o.Ab(n,21)._compositionStart()&&l),"compositionend"===t&&(l=!1!==o.Ab(n,21)._compositionEnd(e.target.value)&&l),"ngModelChange"===t&&(l=!1!==(i.selectedNotes=e)&&l),"keyup"===t&&(l=!1!==i.onUpdateNotes(e.target.value)&&l),l},null,null)),o.pb(21,16384,null,0,Mt.b,[o.E,o.k,[2,Mt.a]],null,null),o.Eb(1024,null,Mt.f,function(n){return[n]},[Mt.b]),o.pb(23,671744,null,0,Mt.i,[[8,null],[8,null],[8,null],[6,Mt.f]],{model:[0,"model"]},{update:"ngModelChange"}),o.Eb(2048,null,Mt.g,null,[Mt.i]),o.pb(25,16384,null,0,Mt.h,[[4,Mt.g]],null,null),o.pb(26,16384,[[2,4]],0,Et.gc,[o.k,o.E],null,null),o.Bb(131072,d.i,[d.j,o.h]),(n()(),o.qb(28,0,null,null,5,"div",[["class","slds-p-top_x-small slds-p-bottom_x-small save-button"]],null,null,null,null,null)),(n()(),o.qb(29,0,null,null,4,"button",[["class","save"],["nglButton",""],["type","button"],["variant","brand"]],null,[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.onSave()&&l),l},_t.m,_t.a)),o.Eb(512,null,Et.lc,Et.lc,[o.F]),o.pb(31,638976,null,0,Et.n,[o.k,o.E,Et.lc],{variant:[0,"variant"]},null),(n()(),o.Hb(32,0,["",""])),o.Bb(131072,d.i,[d.j,o.h])],function(n,t){var e=t.component;n(t,2,0,(null==e.priDispositions?null:e.priDispositions.length)>0),n(t,4,0,!e.selectedDisposition&&e.isRequiredFields),n(t,6,0,e.skillDetails.allowSecondaryDisposition&&e.selectedDisposition&&e.secDispositions.length>0),n(t,8,0,null==e.skillDetails?null:e.skillDetails.skillId),n(t,10,0,e.requireRescheduleDate||e.requireCommitmentAmount),n(t,12,0,!e.selectedDate&&e.requireRescheduleDate),n(t,14,0,!e.selectedAmount&&e.requireCommitmentAmount),n(t,17,0,o.sb(1,"",o.Ib(t,17,0,o.Ab(t,19).transform("notes")),"")),n(t,23,0,e.selectedNotes),n(t,31,0,"brand")},function(n,t){n(t,16,0,!0,o.Ab(t,17).hasError),n(t,20,0,o.sb(1,"",o.Ib(t,20,0,o.Ab(t,27).transform("enterNotes")),""),o.Ab(t,25).ngClassUntouched,o.Ab(t,25).ngClassTouched,o.Ab(t,25).ngClassPristine,o.Ab(t,25).ngClassDirty,o.Ab(t,25).ngClassValid,o.Ab(t,25).ngClassInvalid,o.Ab(t,25).ngClassPending,!0,o.Ab(t,26).describedBy),n(t,32,0,o.Ib(t,32,0,o.Ab(t,33).transform("save")))})}var Os=function(){function n(n,t){this.containerSvc=n,this.validationUtilSvc=t,this.nameOpen=!1,this.relateToOpen=!1,this.selectedName="None",this.selectedRelatesTo="None",this.nameList=[{value:"None",label:"None"}],this.relatedToList=[{value:"None",label:"None"}]}return n.prototype.ngOnInit=function(){this.updateNameRelatedTo()},n.prototype.ngOnChanges=function(n){this.updateNameRelatedTo()},n.prototype.updateNameRelatedTo=function(){if(this.contactSfResult){var n=[{value:"None",label:"None"}],t=[{value:"None",label:"None"}],e=this.contactSfResult.relatedList,l=this.contactSfResult.nameList,o=this.contactSfResult.task.relatedTo,i=this.contactSfResult.task.name;for(var s in e)e.hasOwnProperty(s)&&n.push({label:e[s].name,value:s});for(var s in l)l.hasOwnProperty(s)&&t.push({label:l[s].name,value:s});this.relatedToList=n,this.nameList=t,this.selectedName=this.validationUtilSvc.isNullOrEmpty(i)?"None":i,this.selectedRelatesTo=this.validationUtilSvc.isNullOrEmpty(o)?"None":o}},n.prototype.onRelatedToChange=function(n){this.selectedRelatesTo=n,this.containerSvc.contactResultUpdate(this.contactSfResult.contactId,"RelatedTo","None"===n?"":n)},n.prototype.onNameChange=function(n){this.selectedName=n,this.containerSvc.contactResultUpdate(this.contactSfResult.contactId,"Name","None"===n?"":n)},n}(),Ms=o.ob({encapsulation:0,styles:[[""]],data:{}});function Ps(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,12,"div",[["class","names-relatedto"]],null,null,null,null,null)),(n()(),o.qb(1,0,null,null,5,"div",[["class","slds-p-top_medium"]],null,null,null,null,null)),(n()(),o.qb(2,0,null,null,2,"span",[],null,null,null,null,null)),(n()(),o.Hb(3,null,["",""])),o.Bb(131072,d.i,[d.j,o.h]),(n()(),o.qb(5,0,null,null,1,"app-combo-box",[],null,[[null,"changeEvent"]],function(n,t,e){var l=!0;return"changeEvent"===t&&(l=!1!==n.component.onNameChange(e)&&l),l},ce,ee)),o.pb(6,573440,null,0,te,[S,f],{options:[0,"options"],isMultiSelect:[1,"isMultiSelect"],selectedOptions:[2,"selectedOptions"]},{changeEvent:"changeEvent"}),(n()(),o.qb(7,0,null,null,5,"div",[["class","slds-p-top_x-small"]],null,null,null,null,null)),(n()(),o.qb(8,0,null,null,2,"span",[],null,null,null,null,null)),(n()(),o.Hb(9,null,["",""])),o.Bb(131072,d.i,[d.j,o.h]),(n()(),o.qb(11,0,null,null,1,"app-combo-box",[],null,[[null,"changeEvent"]],function(n,t,e){var l=!0;return"changeEvent"===t&&(l=!1!==n.component.onRelatedToChange(e)&&l),l},ce,ee)),o.pb(12,573440,null,0,te,[S,f],{options:[0,"options"],isMultiSelect:[1,"isMultiSelect"],selectedOptions:[2,"selectedOptions"]},{changeEvent:"changeEvent"})],function(n,t){var e=t.component;n(t,6,0,e.nameList,!1,e.selectedName),n(t,12,0,e.relatedToList,!1,e.selectedRelatesTo)},function(n,t){n(t,3,0,o.Ib(t,3,0,o.Ab(t,4).transform("name"))),n(t,9,0,o.Ib(t,9,0,o.Ab(t,10).transform("relatesTo")))})}var Ss=o.ob({encapsulation:0,styles:[[".full-height[_ngcontent-%COMP%], html[_ngcontent-%COMP%], html[_ngcontent-%COMP%]   body[_ngcontent-%COMP%]{height:100%}.no-strech[_ngcontent-%COMP%]{flex:0}.strech[_ngcontent-%COMP%]{flex:1;position:relative}.no-scroll[_ngcontent-%COMP%]{overflow:hidden}.full-height-flex[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;justify-content:center}.center-align[_ngcontent-%COMP%]{text-align:center}.cursor-pointer[_ngcontent-%COMP%]{cursor:pointer}.text-wrap[_ngcontent-%COMP%]{word-wrap:break-word}.text-bold[_ngcontent-%COMP%]{font-weight:700}.cdk-overlay-container[_ngcontent-%COMP%]   .slds-modal__container[_ngcontent-%COMP%]{margin:0;padding:0}.cdk-overlay-container[_ngcontent-%COMP%]   .slds-modal__content[_ngcontent-%COMP%]{height:100%}.cdk-global-scrollblock[_ngcontent-%COMP%]{overflow-y:auto!important}@media (min-width:48em){.slds-scope[_ngcontent-%COMP%]   .slds-modal--large[_ngcontent-%COMP%]   .slds-modal__container[_ngcontent-%COMP%], .slds-scope[_ngcontent-%COMP%]   .slds-modal_large[_ngcontent-%COMP%]   .slds-modal__container[_ngcontent-%COMP%]{width:100%;height:100%}}.pull-down[_ngcontent-%COMP%]{position:absolute;bottom:0;width:100%}.dialog-style[_ngcontent-%COMP%]{position:fixed;top:0;background-color:#fff;right:0;left:0;box-shadow:0 0 5px grey;z-index:1001}.schedule-container[_ngcontent-%COMP%]   .fc-widget-content[_ngcontent-%COMP%]{background-color:#fff}.schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%]{opacity:.75;text-indent:3px}.schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-event[_ngcontent-%COMP%]{border-radius:0;cursor:default;color:#01396a;min-height:2rem}.schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-event[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%]{font-weight:700}.schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%]:hover, .schedule-container[_ngcontent-%COMP%]   .fc-event[_ngcontent-%COMP%]:hover{text-decoration:none;color:#01396a}.schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%]   .fc-title[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-event[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-event[_ngcontent-%COMP%]   .fc-title[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-slats[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-slats[_ngcontent-%COMP%]   .fc-title[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-title[_ngcontent-%COMP%]{font-size:.8rem}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-content[_ngcontent-%COMP%]{display:flex}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-title[_ngcontent-%COMP%]{display:inline-block;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.schedule-container[_ngcontent-%COMP%]   .commitment-event[_ngcontent-%COMP%]{background-color:#d9d9d9;border-color:#d9d9d9}.schedule-container[_ngcontent-%COMP%]   .commitment-event[_ngcontent-%COMP%]:hover{cursor:pointer}.schedule-container[_ngcontent-%COMP%]   .fc-header-toolbar[_ngcontent-%COMP%]   .fc-left[_ngcontent-%COMP%]{margin-left:10px}.schedule-container[_ngcontent-%COMP%]   .fc-button-group[_ngcontent-%COMP%]{font-size:.6rem}.schedule-container[_ngcontent-%COMP%]   .fc-button-group[_ngcontent-%COMP%]   .fc-button-primary[_ngcontent-%COMP%]{background-color:#fff;border-color:grey;color:grey;box-shadow:none}.schedule-container[_ngcontent-%COMP%]   .fc-button-group[_ngcontent-%COMP%]   .fc-button-primary[_ngcontent-%COMP%]:not(:disabled):active{box-shadow:none}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]{min-height:1rem}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%]::before{display:none}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid[_ngcontent-%COMP%]   .fc-slats[_ngcontent-%COMP%]   .fc-minor[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-top:0}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-container[_ngcontent-%COMP%]{overflow:visible!important}.slds-scope[_ngcontent-%COMP%]   .slds-button[_ngcontent-%COMP%]:not([disabled]){color:#0672d4}.slds-scope[_ngcontent-%COMP%]   .slds-button.slds-button_brand[_ngcontent-%COMP%]{color:#fff}.slds-scope[_ngcontent-%COMP%]   .slds-button.decline-button[_ngcontent-%COMP%]:not([disabled]){color:#c13834;border-color:#c13834}.slds-scope[_ngcontent-%COMP%]   .slds-button.accept-button[_ngcontent-%COMP%]:not([disabled]){color:#fff}.slds-scope[_ngcontent-%COMP%]   .slds-slider__range[_ngcontent-%COMP%]{-webkit-appearance:none}.slds-scope[_ngcontent-%COMP%]   .slds-slider__range[_ngcontent-%COMP%]::-webkit-slider-thumb{-webkit-appearance:none;appearance:none}.initialize-softphone[_ngcontent-%COMP%]   .slds-spinner[_ngcontent-%COMP%]{margin-left:-6em}.slds-scope[_ngcontent-%COMP%]   .cdk-overlay-container[_ngcontent-%COMP%]{position:absolute}.unread-icon[_ngcontent-%COMP%]{height:.5rem;width:.5rem;border-radius:50%;display:inline-block;background-color:#1589ee}.unread-icon.visited[_ngcontent-%COMP%]{background:0 0}.disposition-container[_ngcontent-%COMP%]   .back-navigation[_ngcontent-%COMP%]{cursor:pointer}.disposition-container[_ngcontent-%COMP%]   .back-navigation[_ngcontent-%COMP%]   .slds-button[_ngcontent-%COMP%]{color:#706e6b}.disposition-container[_ngcontent-%COMP%]   #disposition-tabs[_ngcontent-%COMP%]     [role=tabpanel]{border:none;padding:0}.disposition-container[_ngcontent-%COMP%]   #disposition-tabs[_ngcontent-%COMP%]     ul .slds-tabs_scoped__link:focus{text-decoration:none!important}.disposition-container[_ngcontent-%COMP%]   #disposition-tabs[_ngcontent-%COMP%]   .slds-icon[_ngcontent-%COMP%]{width:1rem;height:1rem;fill:#01396a}"]],data:{}});function ys(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,3,"div",[],null,null,null,null,null)),(n()(),o.qb(1,0,null,null,2,"div",[["class","slds-p-top_x-small"]],null,null,null,null,null)),(n()(),o.qb(2,0,null,null,1,"app-disposition-details",[],null,null,null,_s,us)),o.pb(3,638976,null,0,rs,[qn,p,Hn,Un,f,ot,Yn,_],{callDetails:[0,"callDetails"]},null)],function(n,t){n(t,3,0,t.component.callDetail)},null)}function ks(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,2,"span",[["class","slds-icon_container"]],null,null,null,null,null)),(n()(),o.qb(1,0,null,null,1,":svg:svg",[["aria-hidden","true"],["class","slds-icon"]],null,null,null,null,null)),(n()(),o.qb(2,0,null,null,0,":svg:use",[[":xlink:href","/_slds/icons/utility-sprite/svg/symbols.svg#picklist_type"]],null,null,null,null,null))],null,null)}function ws(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,2,"span",[["class","slds-icon_container"]],null,null,null,null,null)),(n()(),o.qb(1,0,null,null,1,":svg:svg",[["aria-hidden","true"],["class","slds-icon"]],null,null,null,null,null)),(n()(),o.qb(2,0,null,null,0,":svg:use",[[":xlink:href","/_slds/icons/utility-sprite/svg/symbols.svg#call"]],null,null,null,null,null))],null,null)}function Is(n){return o.Jb(0,[(n()(),o.hb(16777216,null,null,1,null,ks)),o.pb(1,16384,null,0,Pt.l,[o.P,o.M],{ngIf:[0,"ngIf"]},null),(n()(),o.hb(16777216,null,null,1,null,ws)),o.pb(3,16384,null,0,Pt.l,[o.P,o.M],{ngIf:[0,"ngIf"]},null),(n()(),o.Hb(4,null,[" "," "]))],function(n,t){n(t,1,0,"Work Item"===t.parent.context.$implicit.mediaType),n(t,3,0,"Voice"===t.parent.context.$implicit.mediaType)},function(n,t){n(t,4,0,t.parent.context.$implicit.mediaType)})}function Ns(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,1,"app-disposition-details",[],null,null,null,_s,us)),o.pb(1,638976,null,0,rs,[qn,p,Hn,Un,f,ot,Yn,_],{callDetails:[0,"callDetails"]},null)],function(n,t){n(t,1,0,t.parent.context.$implicit)},null)}function xs(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,8,"ngl-tab",[],null,null,null,null,null)),o.pb(1,1064960,null,2,Et.P,[[2,o.M]],{id:[0,"id"]},null),o.Fb(335544320,2,{contentTemplate:0}),o.Fb(335544320,3,{labelTemplate:0}),o.Eb(2048,[[1,4]],Et.M,null,[Et.P]),(n()(),o.hb(0,null,null,1,null,Is)),o.pb(6,16384,[[3,4]],0,Et.N,[o.M],null,null),(n()(),o.hb(0,null,null,1,null,Ns)),o.pb(8,16384,[[2,4]],0,Et.O,[o.M],null,null)],function(n,t){n(t,1,0,o.sb(1,"",t.context.$implicit.mediaType,""))},null)}function As(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,5,"div",[["class","slds-p-top_medium"]],null,null,null,null,null)),(n()(),o.qb(1,0,null,null,4,"ngl-tabset",[["id","disposition-tabs"]],null,[[null,"selectedChange"]],function(n,t,e){var l=!0;return"selectedChange"===t&&(l=!1!==(n.component.selectedTab=e)&&l),l},_t.n,_t.b)),o.pb(2,1097728,null,1,Et.L,[o.k,o.E],{variant:[0,"variant"],setSelected:[1,"setSelected"]},{selectedChange:"selectedChange"}),o.Fb(603979776,1,{tabs:1}),(n()(),o.hb(16777216,null,null,1,null,xs)),o.pb(5,278528,null,0,Pt.k,[o.P,o.M,o.s],{ngForOf:[0,"ngForOf"]},null)],function(n,t){var e=t.component;n(t,2,0,e.variant,e.selectedTab),n(t,5,0,e.omniGroupContacts)},null)}function Ts(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,19,"div",[["class","disposition-container slds-col_padded"]],null,null,null,null,null)),(n()(),o.qb(1,0,null,null,7,"div",[["class","slds-p-top_small slds-p-left_small slds-p-bottom_small slds-border_bottom no-strech back-button"]],null,null,null,null,null)),(n()(),o.qb(2,0,null,null,6,"span",[["class","back-navigation"]],null,[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.onNavigateToHome()&&l),l},null,null)),(n()(),o.qb(3,0,null,null,2,"button",[["class","slds-button slds-button_icon"]],null,null,null,null,null)),(n()(),o.qb(4,0,null,null,1,":svg:svg",[["aria-hidden","true"],["class","slds-button__icon"]],null,null,null,null,null)),(n()(),o.qb(5,0,null,null,0,":svg:use",[[":xlink:href","/_slds/icons/utility-sprite/svg/symbols.svg#back"]],null,null,null,null,null)),(n()(),o.qb(6,0,null,null,2,"span",[["class","slds-m-left_small"]],null,null,null,null,null)),(n()(),o.Hb(7,null,["",""])),o.Bb(131072,d.i,[d.j,o.h]),(n()(),o.qb(9,0,null,null,3,"div",[["class","slds-p-top_medium disposition-label"]],null,null,null,null,null)),(n()(),o.qb(10,0,null,null,2,"div",[["class","slds-text-heading_small"]],null,null,null,null,null)),(n()(),o.Hb(11,null,[" "," "])),o.Bb(131072,d.i,[d.j,o.h]),(n()(),o.qb(13,0,null,null,2,"div",[["class","slds-p-top_x-small"]],null,null,null,null,null)),(n()(),o.qb(14,0,null,null,1,"app-name-relates",[],null,null,null,Ps,Ms)),o.pb(15,638976,null,0,Os,[ot,f],{contactSfResult:[0,"contactSfResult"]},null),(n()(),o.hb(16777216,null,null,1,null,ys)),o.pb(17,16384,null,0,Pt.l,[o.P,o.M],{ngIf:[0,"ngIf"]},null),(n()(),o.hb(16777216,null,null,1,null,As)),o.pb(19,16384,null,0,Pt.l,[o.P,o.M],{ngIf:[0,"ngIf"]},null)],function(n,t){var e=t.component;n(t,15,0,e.contactSfResult),n(t,17,0,e.isHandleSingleContact||!e.isOmniGroup),n(t,19,0,e.isOmniGroup&&!e.isHandleSingleContact&&e.omniGroupContacts&&e.omniGroupContacts.length)},function(n,t){n(t,7,0,o.Ib(t,7,0,o.Ab(t,8).transform("back"))),n(t,11,0,o.Ib(t,11,0,o.Ab(t,12).transform("disposition")))})}function Es(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,1,"app-disposition",[],null,null,null,Ts,Ss)),o.pb(1,770048,null,0,ut,[Hn,f,p,Un,ot,Yn,qn,_],null,null)],function(n,t){n(t,1,0)},null)}var Ds=o.mb("app-disposition",ut,Es,{callDetails:"callDetails"},{},[]),Us=function(){function n(t,e,l,i){this.logger=t,this.validationUtilSvc=e,this.containerSvc=l,this.contactSearchSvc=i,this.updateAccordionState=new o.m,this.searchResult={},this.logger.debug(n.className,"Initialize")}return n.prototype.ngOnChanges=function(){this.populateContactResult()},n.prototype.populateContactResult=function(){this.callDetails={callDetails:this.searchContact,isHandleSingleContact:!1};var t=this.containerSvc.getAllSfResult();if(this.isAccordianOpen=this.showContactDetails?"contactDetails":"",!this.validationUtilSvc.isNullOrEmpty(t)&&t.hasOwnProperty(this.searchContact.id)){this.contactSfResult=t[this.searchContact.id],this.logger.debug(n.className,"Update sfResult contactId "+this.contactSfResult.contactId);var e=this.contactSfResult.results.result;this.queryResultCount=Object.keys(e).length;var l=this.contactSfResult.outboundData;this.noData="","NoObject"===l?this.noData="noObjectsFound":this.contactSfResult.urlPop?this.noData="customUrlPop":void 0===this.queryResultCount||0===this.queryResultCount?this.noData="noDataFound":this.queryResultCount>=1&&this.matchResult(e)}},n.prototype.matchResult=function(n){this.sObjectConfig=this.contactSfResult.results.inboundObjects,this.searchResult={};var t="";for(var e in n)if(n.hasOwnProperty(e)){var l=n[e];if(this.sObjectConfig.hasOwnProperty([l.RecordType])){var o=this.contactSearchSvc.getName(e,l,this.sObjectConfig),i=void 0;if(t=l.RecordType.toUpperCase(),this.searchResult.hasOwnProperty(t))this.searchResult[t].push(i={pageUrl:e,name:o});else{if(this.searchResult[t]=[],1===this.queryResultCount){i={pageUrl:e,name:o,singleMatch:[]};for(var s=1;s<3;s++){var c=this.contactSearchSvc.getObjProperty(l.RecordType,s,this.sObjectConfig);if(null===c||!l.hasOwnProperty(c))break;i.singleMatch.push(l[c])}}else i={pageUrl:e,name:o};this.searchResult[t].push(i)}}}},n.prototype.doScreenPop=function(n){this.containerSvc.doScreenPop(n)},n.prototype.updateAccordionChange=function(){var n=this.validationUtilSvc.isNotNullOrEmpty(this.isAccordianOpen);this.updateAccordionState.emit(n)},n.className="ContactSearchComponent",n}(),qs=o.ob({encapsulation:2,styles:[[".full-height,html,html body{height:100%}.no-strech{flex:0}.strech{flex:1;position:relative}.no-scroll{overflow:hidden}.full-height-flex{height:100%;display:flex;flex-direction:column;justify-content:center}.center-align{text-align:center}.cursor-pointer{cursor:pointer}.text-wrap{word-wrap:break-word}.text-bold{font-weight:700}.cdk-overlay-container .slds-modal__container{margin:0;padding:0}.cdk-overlay-container .slds-modal__content{height:100%}.cdk-global-scrollblock{overflow-y:auto!important}@media (min-width:48em){.slds-scope .slds-modal--large .slds-modal__container,.slds-scope .slds-modal_large .slds-modal__container{width:100%;height:100%}}.pull-down{position:absolute;bottom:0;width:100%}.dialog-style{position:fixed;top:0;background-color:#fff;right:0;left:0;box-shadow:0 0 5px grey;z-index:1001}.schedule-container .fc-widget-content{background-color:#fff}.schedule-container .fc-bgevent{opacity:.75;text-indent:3px}.schedule-container .fc-bgevent,.schedule-container .fc-event{border-radius:0;cursor:default;color:#01396a;min-height:2rem}.schedule-container .fc-bgevent .fc-time,.schedule-container .fc-event .fc-time{font-weight:700}.schedule-container .fc-bgevent:hover,.schedule-container .fc-event:hover{text-decoration:none;color:#01396a}.schedule-container .fc-bgevent .fc-time,.schedule-container .fc-bgevent .fc-title,.schedule-container .fc-event .fc-time,.schedule-container .fc-event .fc-title,.schedule-container .fc-slats .fc-time,.schedule-container .fc-slats .fc-title,.schedule-container .fc-time-grid-event.fc-short .fc-time,.schedule-container .fc-time-grid-event.fc-short .fc-title{font-size:.8rem}.schedule-container .fc-time-grid-event.fc-short .fc-content{display:flex}.schedule-container .fc-time-grid-event.fc-short .fc-title{display:inline-block;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.schedule-container .commitment-event{background-color:#d9d9d9;border-color:#d9d9d9}.schedule-container .commitment-event:hover{cursor:pointer}.schedule-container .fc-header-toolbar .fc-left{margin-left:10px}.schedule-container .fc-button-group{font-size:.6rem}.schedule-container .fc-button-group .fc-button-primary{background-color:#fff;border-color:grey;color:grey;box-shadow:none}.schedule-container .fc-button-group .fc-button-primary:not(:disabled):active{box-shadow:none}.schedule-container .fc-time-grid-event.fc-short{min-height:1rem}.schedule-container .fc-time-grid-event.fc-short .fc-time::before{display:none}.schedule-container .fc-time-grid-event.fc-short .fc-time span{display:inline-block}.schedule-container .fc-time-grid .fc-slats .fc-minor td{border-top:0}.schedule-container .fc-time-grid-container{overflow:visible!important}.slds-scope .slds-button:not([disabled]){color:#0672d4}.slds-scope .slds-button.slds-button_brand{color:#fff}.slds-scope .slds-button.decline-button:not([disabled]){color:#c13834;border-color:#c13834}.slds-scope .slds-button.accept-button:not([disabled]){color:#fff}.slds-scope .slds-slider__range{-webkit-appearance:none}.slds-scope .slds-slider__range::-webkit-slider-thumb{-webkit-appearance:none;appearance:none}.initialize-softphone .slds-spinner{margin-left:-6em}.slds-scope .cdk-overlay-container{position:absolute}.unread-icon{height:.5rem;width:.5rem;border-radius:50%;display:inline-block;background-color:#1589ee}.unread-icon.visited{background:0 0}.slds-scope .contact-search .contact-search-accordion{background-color:#fff;width:100%}.slds-scope .contact-search .contact-search-accordion .slds-accordion__section{padding:.6rem .75rem}.slds-scope .contact-search .contact-search-accordion .slds-accordion__summary-heading{font-size:.75rem;color:#0672d4}.slds-scope .contact-search .contact-search-accordion .search-result{width:100%}.slds-scope .contact-search .contact-search-accordion .search-result .list-heading{clear:both}.slds-scope .contact-search .contact-search-accordion .search-result .list-body{width:90%}.slds-scope .contact-search .contact-search-accordion .search-result .list-body .list-item .list-name{color:#0672d4}.slds-scope .contact-search .contact-search-accordion .search-result .list-body .list-item .list-name:hover{font-weight:700;cursor:pointer}.slds-scope .contact-search .contact-search-accordion .disposition-container{padding:0}.slds-scope .contact-search .contact-search-accordion .disposition-container .back-button,.slds-scope .contact-search .contact-search-accordion .disposition-container .disposition-label,.slds-scope .contact-search .contact-search-accordion .disposition-container .save-button{display:none}.slds-scope .contact-search .notes-area{resize:none;height:6rem}"]],data:{}});function Ls(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,2,"span",[["class","cursor-pointer"]],null,null,null,null,null)),(n()(),o.Hb(1,null,["",""])),o.Bb(131072,d.i,[d.j,o.h])],null,function(n,t){n(t,1,0,o.Ib(t,1,0,o.Ab(t,2).transform("showContactDetails")))})}function Bs(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,2,"span",[["class","cursor-pointer"]],null,null,null,null,null)),(n()(),o.Hb(1,null,["",""])),o.Bb(131072,d.i,[d.j,o.h])],null,function(n,t){n(t,1,0,o.Ib(t,1,0,o.Ab(t,2).transform("hideContactDetails")))})}function Rs(n){return o.Jb(0,[(n()(),o.hb(16777216,null,null,1,null,Ls)),o.pb(1,16384,null,0,Pt.l,[o.P,o.M],{ngIf:[0,"ngIf"]},null),(n()(),o.hb(16777216,null,null,1,null,Bs)),o.pb(3,16384,null,0,Pt.l,[o.P,o.M],{ngIf:[0,"ngIf"]},null),(n()(),o.hb(0,null,null,0))],function(n,t){var e=t.component;n(t,1,0,!e.isAccordianOpen),n(t,3,0,e.isAccordianOpen)},null)}function js(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,2,"div",[],null,null,null,null,null)),(n()(),o.Hb(1,null,["",""])),o.Bb(131072,d.i,[d.j,o.h])],null,function(n,t){var e=t.component;n(t,1,0,o.Ib(t,1,0,o.Ab(t,2).transform(e.noData)))})}function Js(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,1,"div",[],[[8,"title",0]],null,null,null,null)),(n()(),o.Hb(1,null,[" "," "]))],null,function(n,t){n(t,0,0,o.sb(1,"",t.context.$implicit,"")),n(t,1,0,t.context.$implicit)})}function Fs(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,2,null,null,null,null,null,null,null)),(n()(),o.hb(16777216,null,null,1,null,Js)),o.pb(2,278528,null,0,Pt.k,[o.P,o.M,o.s],{ngForOf:[0,"ngForOf"]},null),(n()(),o.hb(0,null,null,0))],function(n,t){n(t,2,0,t.parent.context.$implicit.singleMatch)},null)}function zs(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,5,null,null,null,null,null,null,null)),(n()(),o.qb(1,0,null,null,4,"div",[["class","list-item slds-truncate"]],null,null,null,null,null)),(n()(),o.qb(2,0,null,null,1,"span",[["class","cursor-pointer list-name"]],[[8,"title",0]],[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.doScreenPop(n.context.$implicit.pageUrl)&&l),l},null,null)),(n()(),o.Hb(3,null,["",""])),(n()(),o.hb(16777216,null,null,1,null,Fs)),o.pb(5,16384,null,0,Pt.l,[o.P,o.M],{ngIf:[0,"ngIf"]},null)],function(n,t){n(t,5,0,t.context.$implicit.singleMatch)},function(n,t){n(t,2,0,o.sb(1,"",t.context.$implicit.name,"")),n(t,3,0,t.context.$implicit.name)})}function Hs(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,5,null,null,null,null,null,null,null)),(n()(),o.qb(1,0,null,null,1,"div",[["class","list-heading slds-p-top_x-small"]],null,null,null,null,null)),(n()(),o.Hb(2,null,[""," (",")"])),(n()(),o.qb(3,0,null,null,2,"div",[["class","list-body"]],null,null,null,null,null)),(n()(),o.hb(16777216,null,null,1,null,zs)),o.pb(5,278528,null,0,Pt.k,[o.P,o.M,o.s],{ngForOf:[0,"ngForOf"]},null)],function(n,t){n(t,5,0,t.context.$implicit.value)},function(n,t){n(t,2,0,t.context.$implicit.key,t.context.$implicit.value.length)})}function Ws(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,3,"div",[["class","search-result"]],null,null,null,null,null)),(n()(),o.hb(16777216,null,null,2,null,Hs)),o.pb(2,278528,null,0,Pt.k,[o.P,o.M,o.s],{ngForOf:[0,"ngForOf"]},null),o.Bb(0,Pt.f,[o.t])],function(n,t){var e=t.component;n(t,2,0,o.Ib(t,2,0,o.Ab(t,3).transform(e.searchResult)))},null)}function Vs(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,4,"div",[],null,null,null,null,null)),(n()(),o.hb(16777216,null,null,1,null,js)),o.pb(2,16384,null,0,Pt.l,[o.P,o.M],{ngIf:[0,"ngIf"]},null),(n()(),o.hb(16777216,null,null,1,null,Ws)),o.pb(4,16384,null,0,Pt.l,[o.P,o.M],{ngIf:[0,"ngIf"]},null),(n()(),o.qb(5,0,null,null,1,"app-disposition",[],null,null,null,Ts,Ss)),o.pb(6,770048,null,0,ut,[Hn,f,p,Un,ot,Yn,qn,_],{callDetails:[0,"callDetails"]},null)],function(n,t){var e=t.component;n(t,2,0,e.noData),n(t,4,0,!e.noData),n(t,6,0,e.callDetails)},null)}function Gs(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,6,"div",[["class","contact-search"]],null,null,null,null,null)),(n()(),o.hb(0,[["contactSearchHeader",2]],null,0,null,Rs)),(n()(),o.qb(2,0,null,null,4,"ul",[["class","contact-search-accordion slds-border_top"],["ngl-accordion",""]],null,[[null,"activeNameChange"]],function(n,t,e){var l=!0,o=n.component;return"activeNameChange"===t&&(l=!1!==(o.isAccordianOpen=e)&&l),"activeNameChange"===t&&(l=!1!==o.updateAccordionChange()&&l),l},_t.p,_t.d)),o.pb(3,49152,null,1,Et.wb,[o.k,o.E],{activeName:[0,"activeName"]},{activeNameChange:"activeNameChange"}),o.Fb(603979776,1,{sections:1}),(n()(),o.hb(0,null,null,1,null,Vs)),o.pb(6,16384,[[1,4]],0,Et.hc,[o.M],{label:[0,"label"],name:[1,"name"]},null)],function(n,t){n(t,3,0,t.component.isAccordianOpen),n(t,6,0,o.Ab(t,1),"contactDetails")},null)}var Xs=function(){function n(n,t,e,l,i,s,c){this.agentSvc=n,this.localStorageSvc=t,this.validationUtilSvc=e,this.containerSvc=l,this.salesforceCtiSvc=i,this.modalSvc=s,this.contactsSvc=c,this.transferCall=new o.m,this.isRecordEnabled=!1,this.isMaskEnabled=!1,this.isMuteEnabled=!1,this.holdButtonText="hold",this.muteButtonText="mute",this.recordButtonText="record",this.maskButtonText="mask",this.transferConfButtonText="transferOrConf",this.commitOrMergeText="commit"}return n.prototype.ngOnInit=function(){var n=this;this.containerSvc.updatePermissionsChanges.subscribe(function(){return n.updatePermissions()}),this.agentSvc.updateMuteEvent.subscribe(function(){return n.updateUI()}),this.updatePermissions()},n.prototype.updatePermissions=function(){var n=this;this.isRecordEnabled=!1,this.isMaskEnabled=!1,this.isMuteEnabled=!1;var t=this.localStorageSvc.get(g.Permissions);this.validationUtilSvc.isNotNullOrEmpty(t)&&JSON.parse(t).forEach(function(t){"recordcontact"===t.key.toLowerCase()&&(n.isRecordEnabled=!0),"masking"===t.key.toLowerCase()&&(n.isMaskEnabled=!0),"muteagent"===t.key.toLowerCase()&&(n.isMuteEnabled=!0)}),this.updateUI()},n.prototype.holdResumeClick=function(){this.selectedContact.status===Tn.Holding?this.agentSvc.resumeContact(this.selectedContact.id):this.selectedContact.status===Tn.Active&&this.agentSvc.holdContact(this.selectedContact.id)},n.prototype.muteClick=function(){M.toBoolean(this.localStorageSvc.get(g.AgentMuted))?this.agentSvc.unmuteAgent():this.agentSvc.muteAgent()},n.prototype.maskClick=function(){this.selectedContact.status===Tn.Masking?this.agentSvc.unmaskCall(this.selectedContact.id):this.agentSvc.maskCall(this.selectedContact.id)},n.prototype.recordClick=function(n){!0===this.selectedContact.isLogging?(n.stopPropagation(),n.preventDefault()):this.agentSvc.recordCall(this.selectedContact.id)},n.prototype.endClick=function(){this.agentSvc.endContact(this.selectedContact.id)},n.prototype.dialpadClick=function(){var n=new Wn;n.contentType=l.Dialpad,this.modalSvc.openModalDialog(n),this.validationUtilSvc.isNotNullOrEmpty(this.dialpadButton)&&this.validationUtilSvc.isNotNullOrEmpty(this.dialpadButton.el)&&this.dialpadButton.el.nativeElement.blur()},n.prototype.addressBookClick=function(){this.contactsSvc.transferWorkItem=!1,this.transferCall.emit(!0)},n.prototype.transferClick=function(){this.agentSvc.transferContact()},n.prototype.showTransferFlow=function(){var n=this;this.contactsSvc.transferWorkItem=!1,this.selectedContact.status===Tn.Active?this.agentSvc.holdContact(this.selectedContact.id).then(function(){n.transferCall.emit(!0)}):this.transferCall.emit(!0)},n.prototype.conferenceClick=function(){this.agentSvc.conferenceContacts()},n.prototype.leaveConference=function(){var n=this.contactsSvc.callContacts;if(n.length>=2&&n[0].status===Tn.Joined&&n[1].status===Tn.Joined)for(var t=1;t<n.length;t++)this.agentSvc.endContact(n[t].id)},n.prototype.ngOnChanges=function(){this.updateUI()},n.prototype.updateUI=function(){var n=this;if(!this.validationUtilSvc.isNullOrEmpty(this.selectedContact)){var t=this.selectedContact,e=t.status;this.holdState="disabled",this.muteState="disabled",this.recordState="disabled",this.maskState="disabled",this.dropState="disabled",this.transferState="enabled",this.commitOrMergeState="enabled",this.addressBookState="disabled",this.dialpadState="disabled";var l=!1;this.conferenceControlsSection=!1,this.disableLeaveBtn=!0,this.validationUtilSvc.isNotNullOrEmpty(this.localStorageSvc.get(g.AgentMuted))&&(this.agentMuted=M.toBoolean(this.localStorageSvc.get(g.AgentMuted))),e!==Tn.Incoming&&e!==Tn.Disconnected&&(this.dropState=e===Tn.Holding||e===Tn.Masking||!0===this.agentMuted?"disabled":"selected",this.agentMuted?(this.muteButtonText="muted",this.muteState="slds-button_brand"):(this.muteButtonText="mute",this.muteState=!0===this.isMuteEnabled?"enabled":"disabled"),e!==Tn.Dialing&&e!==Tn.Ringing&&(e===Tn.Masking?(this.maskButtonText="masking",this.maskState="slds-button_brand"):(this.maskButtonText="mask",this.maskState=!0===this.isMaskEnabled?"enabled":"disabled"),!0===t.isLogging?(this.recordButtonText="recording",this.recordState="selected"):(this.recordButtonText="record",this.recordState=!0===this.isRecordEnabled?"enabled":"disabled"),e===Tn.Holding?(this.holdState="slds-button_brand",this.maskState="disabled",this.holdButtonText="resume",this.recordState=t.isLogging?"selected":"disabled"):(this.holdButtonText="hold",e!==Tn.Joined&&e!==Tn.Masking&&(this.holdState="enabled")),this.addressBookState="enabled",this.dialpadState="enabled")),this.callsFromStorage=this.contactsSvc.callContacts,this.callsFromStorage.forEach(function(t){t.status!==Tn.Disconnected&&t.status!==Tn.Ringing&&t.status!==Tn.Dialing||(n.transferState="disabled",l=!0)}),this.conferenceControlsSection=this.containerSvc.isConference(),this.validationUtilSvc.isValidObject(this.callsFromStorage)&&this.callsFromStorage.length>1?this.callsFromStorage[0].status===Tn.Joined?this.disableLeaveBtn=!1:(this.transferConfButtonText="transfer",this.commitOrMergeText="merge"):(this.transferConfButtonText="transferOrConf",this.commitOrMergeText="commit"),(1===this.callsFromStorage.length&&("Consult"===this.callsFromStorage[0].callType||"ReskillProxy"===this.callsFromStorage[0].callType)||l&&this.callsFromStorage.length>1)&&(this.commitOrMergeState="disabled");var o=this.contactsSvc.getOmniGroupCallContacts();1===this.contactsSvc.displayCallContacts.length&&1===o.length&&(this.transferState="disabled",this.commitOrMergeState="disabled")}},n.prototype.navigateToCommit=function(){var n,t=this,e=this.selectedContact,l=this.containerSvc.getSfResult(e.id);if(l){if(this.validationUtilSvc.isValidObject(l.nameList))for(var o in l.nameList)l.nameList.hasOwnProperty(o)&&("003"===o.substring(0,3)?n={id:l.nameList[o].id,objectType:"Contact"}:"00Q"===o.substring(0,3)&&(n={id:l.nameList[o].id,objectType:"Lead"}));else this.getCommitmentDetails(e,"","");n&&this.salesforceCtiSvc.getFirstandLastName(n).then(function(n){t.validationUtilSvc.isNotNullOrEmpty(n)&&t.getCommitmentDetails(e,n.FirstName,n.LastName)})}else this.getCommitmentDetails(e,"","")},n.prototype.getCommitmentDetails=function(n,t,e){var l=new cn;l.firstName=t,l.lastName=e,l.start=new Date,l.target="A",l.phoneNumber=n.inbound?n.ani:n.dnis,l.skillId=M.toNumber(n.skillId),l.notes="",this.showCommitmentDetails(l)},n.prototype.showCommitmentDetails=function(n){var t=new Wn;t.contentType=l.Commitment,t.dataModel=n,this.modalSvc.openModalDialog(t),this.validationUtilSvc.isNotNullOrEmpty(this.commitMergeButton)&&this.validationUtilSvc.isNotNullOrEmpty(this.commitMergeButton.el)&&this.commitMergeButton.el.nativeElement.blur()},n}(),Qs=o.ob({encapsulation:0,styles:[[".full-height[_ngcontent-%COMP%], html[_ngcontent-%COMP%], html[_ngcontent-%COMP%]   body[_ngcontent-%COMP%]{height:100%}.no-strech[_ngcontent-%COMP%]{flex:0}.strech[_ngcontent-%COMP%]{flex:1;position:relative}.no-scroll[_ngcontent-%COMP%]{overflow:hidden}.full-height-flex[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;justify-content:center}.center-align[_ngcontent-%COMP%]{text-align:center}.cursor-pointer[_ngcontent-%COMP%]{cursor:pointer}.text-wrap[_ngcontent-%COMP%]{word-wrap:break-word}.text-bold[_ngcontent-%COMP%]{font-weight:700}.cdk-overlay-container[_ngcontent-%COMP%]   .slds-modal__container[_ngcontent-%COMP%]{margin:0;padding:0}.cdk-overlay-container[_ngcontent-%COMP%]   .slds-modal__content[_ngcontent-%COMP%]{height:100%}.cdk-global-scrollblock[_ngcontent-%COMP%]{overflow-y:auto!important}@media (min-width:48em){.slds-scope[_ngcontent-%COMP%]   .slds-modal--large[_ngcontent-%COMP%]   .slds-modal__container[_ngcontent-%COMP%], .slds-scope[_ngcontent-%COMP%]   .slds-modal_large[_ngcontent-%COMP%]   .slds-modal__container[_ngcontent-%COMP%]{width:100%;height:100%}}.pull-down[_ngcontent-%COMP%]{position:absolute;bottom:0;width:100%}.dialog-style[_ngcontent-%COMP%]{position:fixed;top:0;background-color:#fff;right:0;left:0;box-shadow:0 0 5px grey;z-index:1001}.schedule-container[_ngcontent-%COMP%]   .fc-widget-content[_ngcontent-%COMP%]{background-color:#fff}.schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%]{opacity:.75;text-indent:3px}.schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-event[_ngcontent-%COMP%]{border-radius:0;cursor:default;color:#01396a;min-height:2rem}.schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-event[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%]{font-weight:700}.schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%]:hover, .schedule-container[_ngcontent-%COMP%]   .fc-event[_ngcontent-%COMP%]:hover{text-decoration:none;color:#01396a}.schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%]   .fc-title[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-event[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-event[_ngcontent-%COMP%]   .fc-title[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-slats[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-slats[_ngcontent-%COMP%]   .fc-title[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-title[_ngcontent-%COMP%]{font-size:.8rem}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-content[_ngcontent-%COMP%]{display:flex}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-title[_ngcontent-%COMP%]{display:inline-block;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.schedule-container[_ngcontent-%COMP%]   .commitment-event[_ngcontent-%COMP%]{background-color:#d9d9d9;border-color:#d9d9d9}.schedule-container[_ngcontent-%COMP%]   .commitment-event[_ngcontent-%COMP%]:hover{cursor:pointer}.schedule-container[_ngcontent-%COMP%]   .fc-header-toolbar[_ngcontent-%COMP%]   .fc-left[_ngcontent-%COMP%]{margin-left:10px}.schedule-container[_ngcontent-%COMP%]   .fc-button-group[_ngcontent-%COMP%]{font-size:.6rem}.schedule-container[_ngcontent-%COMP%]   .fc-button-group[_ngcontent-%COMP%]   .fc-button-primary[_ngcontent-%COMP%]{background-color:#fff;border-color:grey;color:grey;box-shadow:none}.schedule-container[_ngcontent-%COMP%]   .fc-button-group[_ngcontent-%COMP%]   .fc-button-primary[_ngcontent-%COMP%]:not(:disabled):active{box-shadow:none}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]{min-height:1rem}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%]::before{display:none}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid[_ngcontent-%COMP%]   .fc-slats[_ngcontent-%COMP%]   .fc-minor[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-top:0}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-container[_ngcontent-%COMP%]{overflow:visible!important}.slds-scope[_ngcontent-%COMP%]   .slds-button[_ngcontent-%COMP%]:not([disabled]){color:#0672d4}.slds-scope[_ngcontent-%COMP%]   .slds-button.slds-button_brand[_ngcontent-%COMP%]{color:#fff}.slds-scope[_ngcontent-%COMP%]   .slds-button.decline-button[_ngcontent-%COMP%]:not([disabled]){color:#c13834;border-color:#c13834}.slds-scope[_ngcontent-%COMP%]   .slds-button.accept-button[_ngcontent-%COMP%]:not([disabled]){color:#fff}.slds-scope[_ngcontent-%COMP%]   .slds-slider__range[_ngcontent-%COMP%]{-webkit-appearance:none}.slds-scope[_ngcontent-%COMP%]   .slds-slider__range[_ngcontent-%COMP%]::-webkit-slider-thumb{-webkit-appearance:none;appearance:none}.initialize-softphone[_ngcontent-%COMP%]   .slds-spinner[_ngcontent-%COMP%]{margin-left:-6em}.slds-scope[_ngcontent-%COMP%]   .cdk-overlay-container[_ngcontent-%COMP%]{position:absolute}.unread-icon[_ngcontent-%COMP%]{height:.5rem;width:.5rem;border-radius:50%;display:inline-block;background-color:#1589ee}.unread-icon.visited[_ngcontent-%COMP%]{background:0 0}.call-controls[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;margin-bottom:.25rem}.call-controls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:.75rem;overflow:hidden;text-overflow:ellipsis;width:31%;flex-grow:0;margin-top:.2rem;margin-left:.2rem;padding-left:.4rem;padding-right:.4rem;outline:0;white-space:nowrap;display:inline-block}.call-controls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus{box-shadow:none}.call-controls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover:not([disabled]){background-color:#f2f2f2}.call-controls[_ngcontent-%COMP%]   button.slds-button_brand[_ngcontent-%COMP%]:hover:not([disabled]){background-color:#1b5297}.call-controls[_ngcontent-%COMP%]   .enabled[_ngcontent-%COMP%]{color:#0672d4;border-color:#dddbda;background-color:#fff;box-shadow:none}.call-controls[_ngcontent-%COMP%]   .selected[_ngcontent-%COMP%]{color:#c13834;border-color:#c13834;background-color:#fff;box-shadow:none}.top-padding[_ngcontent-%COMP%]{padding-top:1px}"]],data:{}});function $s(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,52,"div",[],null,null,null,null,null)),(n()(),o.qb(1,0,null,null,33,"div",[["class","call-controls slds-border_top"]],null,null,null,null,null)),(n()(),o.qb(2,0,null,null,5,"button",[["nglButton",""]],[[8,"disabled",0]],[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.muteClick()&&l),l},_t.m,_t.a)),o.pb(3,278528,null,0,Pt.j,[o.s,o.t,o.k,o.E],{ngClass:[0,"ngClass"]},null),o.Eb(512,null,Et.lc,Et.lc,[o.F]),o.pb(5,638976,null,0,Et.n,[o.k,o.E,Et.lc],null,null),(n()(),o.Hb(6,0,["",""])),o.Bb(131072,d.i,[d.j,o.h]),(n()(),o.qb(8,0,null,null,5,"button",[["nglButton",""]],[[8,"disabled",0]],[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.recordClick(e)&&l),l},_t.m,_t.a)),o.pb(9,278528,null,0,Pt.j,[o.s,o.t,o.k,o.E],{ngClass:[0,"ngClass"]},null),o.Eb(512,null,Et.lc,Et.lc,[o.F]),o.pb(11,638976,null,0,Et.n,[o.k,o.E,Et.lc],null,null),(n()(),o.Hb(12,0,["",""])),o.Bb(131072,d.i,[d.j,o.h]),(n()(),o.qb(14,0,null,null,5,"button",[["nglButton",""]],[[8,"disabled",0]],[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.maskClick()&&l),l},_t.m,_t.a)),o.pb(15,278528,null,0,Pt.j,[o.s,o.t,o.k,o.E],{ngClass:[0,"ngClass"]},null),o.Eb(512,null,Et.lc,Et.lc,[o.F]),o.pb(17,638976,null,0,Et.n,[o.k,o.E,Et.lc],null,null),(n()(),o.Hb(18,0,["",""])),o.Bb(131072,d.i,[d.j,o.h]),(n()(),o.qb(20,0,null,null,4,"button",[["nglButton",""]],[[8,"disabled",0]],[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.dialpadClick()&&l),l},_t.m,_t.a)),o.Eb(512,null,Et.lc,Et.lc,[o.F]),o.pb(22,638976,[[1,4],["dialpad",4]],0,Et.n,[o.k,o.E,Et.lc],null,null),(n()(),o.Hb(23,0,["",""])),o.Bb(131072,d.i,[d.j,o.h]),(n()(),o.qb(25,0,null,null,4,"button",[["nglButton",""]],[[8,"disabled",0]],[[null,"click"]],function(n,t,e){var l=!0,o=n.component;return"click"===t&&(l=!1!==(1===o.callsFromStorage.length?o.navigateToCommit():o.conferenceClick())&&l),l},_t.m,_t.a)),o.Eb(512,null,Et.lc,Et.lc,[o.F]),o.pb(27,638976,[[2,4],["commitMerge",4]],0,Et.n,[o.k,o.E,Et.lc],null,null),(n()(),o.Hb(28,0,["",""])),o.Bb(131072,d.i,[d.j,o.h]),(n()(),o.qb(30,0,null,null,4,"button",[["nglButton",""]],[[8,"disabled",0]],[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.addressBookClick()&&l),l},_t.m,_t.a)),o.Eb(512,null,Et.lc,Et.lc,[o.F]),o.pb(32,638976,null,0,Et.n,[o.k,o.E,Et.lc],null,null),(n()(),o.Hb(33,0,["",""])),o.Bb(131072,d.i,[d.j,o.h]),(n()(),o.qb(35,0,null,null,17,"div",[["class","call-controls slds-border_top top-padding"]],null,null,null,null,null)),(n()(),o.qb(36,0,null,null,5,"button",[["nglButton",""]],[[8,"disabled",0]],[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.endClick()&&l),l},_t.m,_t.a)),o.pb(37,278528,null,0,Pt.j,[o.s,o.t,o.k,o.E],{ngClass:[0,"ngClass"]},null),o.Eb(512,null,Et.lc,Et.lc,[o.F]),o.pb(39,638976,null,0,Et.n,[o.k,o.E,Et.lc],null,null),(n()(),o.Hb(40,0,["",""])),o.Bb(131072,d.i,[d.j,o.h]),(n()(),o.qb(42,0,null,null,4,"button",[["nglButton",""]],[[8,"disabled",0]],[[null,"click"]],function(n,t,e){var l=!0,o=n.component;return"click"===t&&(l=!1!==(1===o.callsFromStorage.length?o.showTransferFlow():o.transferClick())&&l),l},_t.m,_t.a)),o.Eb(512,null,Et.lc,Et.lc,[o.F]),o.pb(44,638976,null,0,Et.n,[o.k,o.E,Et.lc],null,null),(n()(),o.Hb(45,0,["",""])),o.Bb(131072,d.i,[d.j,o.h]),(n()(),o.qb(47,0,null,null,5,"button",[["nglButton",""]],[[8,"disabled",0]],[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.holdResumeClick()&&l),l},_t.m,_t.a)),o.pb(48,278528,null,0,Pt.j,[o.s,o.t,o.k,o.E],{ngClass:[0,"ngClass"]},null),o.Eb(512,null,Et.lc,Et.lc,[o.F]),o.pb(50,638976,null,0,Et.n,[o.k,o.E,Et.lc],null,null),(n()(),o.Hb(51,0,["",""])),o.Bb(131072,d.i,[d.j,o.h])],function(n,t){var e=t.component;n(t,3,0,e.muteState),n(t,5,0),n(t,9,0,e.recordState),n(t,11,0),n(t,15,0,e.maskState),n(t,17,0),n(t,22,0),n(t,27,0),n(t,32,0),n(t,37,0,e.dropState),n(t,39,0),n(t,44,0),n(t,48,0,e.holdState),n(t,50,0)},function(n,t){var e=t.component;n(t,2,0,"disabled"===e.muteState),n(t,6,0,o.Ib(t,6,0,o.Ab(t,7).transform(e.muteButtonText))),n(t,8,0,"disabled"===e.recordState),n(t,12,0,o.Ib(t,12,0,o.Ab(t,13).transform(e.recordButtonText))),n(t,14,0,"disabled"===e.maskState),n(t,18,0,o.Ib(t,18,0,o.Ab(t,19).transform(e.maskButtonText))),n(t,20,0,"disabled"===e.dialpadState),n(t,23,0,o.Ib(t,23,0,o.Ab(t,24).transform("dialpad"))),n(t,25,0,"disabled"===e.commitOrMergeState),n(t,28,0,o.Ib(t,28,0,o.Ab(t,29).transform(e.commitOrMergeText))),n(t,30,0,"disabled"===e.addressBookState),n(t,33,0,o.Ib(t,33,0,o.Ab(t,34).transform("addressBookButton"))),n(t,36,0,"disabled"===e.dropState),n(t,40,0,o.Ib(t,40,0,o.Ab(t,41).transform("end"))),n(t,42,0,"disabled"===e.transferState),n(t,45,0,o.Ib(t,45,0,o.Ab(t,46).transform(e.transferConfButtonText))),n(t,47,0,"disabled"===e.holdState),n(t,51,0,o.Ib(t,51,0,o.Ab(t,52).transform(e.holdButtonText)))})}function Ks(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,35,"div",[],null,null,null,null,null)),(n()(),o.qb(1,0,null,null,16,"div",[["class","call-controls slds-border_top"]],null,null,null,null,null)),(n()(),o.qb(2,0,null,null,5,"button",[["nglButton",""]],[[8,"disabled",0]],[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.muteClick()&&l),l},_t.m,_t.a)),o.pb(3,278528,null,0,Pt.j,[o.s,o.t,o.k,o.E],{ngClass:[0,"ngClass"]},null),o.Eb(512,null,Et.lc,Et.lc,[o.F]),o.pb(5,638976,null,0,Et.n,[o.k,o.E,Et.lc],null,null),(n()(),o.Hb(6,0,["",""])),o.Bb(131072,d.i,[d.j,o.h]),(n()(),o.qb(8,0,null,null,4,"button",[["nglButton",""]],null,[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.dialpadClick()&&l),l},_t.m,_t.a)),o.Eb(512,null,Et.lc,Et.lc,[o.F]),o.pb(10,638976,[[1,4],["dialpad",4]],0,Et.n,[o.k,o.E,Et.lc],null,null),(n()(),o.Hb(11,0,["",""])),o.Bb(131072,d.i,[d.j,o.h]),(n()(),o.qb(13,0,null,null,4,"button",[["nglButton",""]],[[8,"disabled",0]],[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.addressBookClick()&&l),l},_t.m,_t.a)),o.Eb(512,null,Et.lc,Et.lc,[o.F]),o.pb(15,638976,null,0,Et.n,[o.k,o.E,Et.lc],null,null),(n()(),o.Hb(16,0,["",""])),o.Bb(131072,d.i,[d.j,o.h]),(n()(),o.qb(18,0,null,null,17,"div",[["class","call-controls slds-border_top top-padding"]],null,null,null,null,null)),(n()(),o.qb(19,0,null,null,4,"button",[["nglButton",""]],[[8,"disabled",0]],[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.leaveConference()&&l),l},_t.m,_t.a)),o.Eb(512,null,Et.lc,Et.lc,[o.F]),o.pb(21,638976,null,0,Et.n,[o.k,o.E,Et.lc],null,null),(n()(),o.Hb(22,0,["",""])),o.Bb(131072,d.i,[d.j,o.h]),(n()(),o.qb(24,0,null,null,5,"button",[["nglButton",""]],[[8,"disabled",0]],[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.recordClick(e)&&l),l},_t.m,_t.a)),o.pb(25,278528,null,0,Pt.j,[o.s,o.t,o.k,o.E],{ngClass:[0,"ngClass"]},null),o.Eb(512,null,Et.lc,Et.lc,[o.F]),o.pb(27,638976,null,0,Et.n,[o.k,o.E,Et.lc],null,null),(n()(),o.Hb(28,0,["",""])),o.Bb(131072,d.i,[d.j,o.h]),(n()(),o.qb(30,0,null,null,5,"button",[["nglButton",""]],[[8,"disabled",0]],[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.maskClick()&&l),l},_t.m,_t.a)),o.pb(31,278528,null,0,Pt.j,[o.s,o.t,o.k,o.E],{ngClass:[0,"ngClass"]},null),o.Eb(512,null,Et.lc,Et.lc,[o.F]),o.pb(33,638976,null,0,Et.n,[o.k,o.E,Et.lc],null,null),(n()(),o.Hb(34,0,["",""])),o.Bb(131072,d.i,[d.j,o.h])],function(n,t){var e=t.component;n(t,3,0,e.muteState),n(t,5,0),n(t,10,0),n(t,15,0),n(t,21,0),n(t,25,0,e.recordState),n(t,27,0),n(t,31,0,e.maskState),n(t,33,0)},function(n,t){var e=t.component;n(t,2,0,"disabled"===e.muteState),n(t,6,0,o.Ib(t,6,0,o.Ab(t,7).transform(e.muteButtonText))),n(t,11,0,o.Ib(t,11,0,o.Ab(t,12).transform("dialpad"))),n(t,13,0,e.isMaxConferenceReached),n(t,16,0,o.Ib(t,16,0,o.Ab(t,17).transform("addContact"))),n(t,19,0,e.disableLeaveBtn),n(t,22,0,o.Ib(t,22,0,o.Ab(t,23).transform("leave"))),n(t,24,0,"disabled"===e.recordState),n(t,28,0,o.Ib(t,28,0,o.Ab(t,29).transform(e.recordButtonText))),n(t,30,0,"disabled"===e.maskState),n(t,34,0,o.Ib(t,34,0,o.Ab(t,35).transform(e.maskButtonText)))})}function Ys(n){return o.Jb(0,[o.Fb(671088640,1,{dialpadButton:0}),o.Fb(671088640,2,{commitMergeButton:0}),(n()(),o.hb(16777216,null,null,1,null,$s)),o.pb(3,16384,null,0,Pt.l,[o.P,o.M],{ngIf:[0,"ngIf"]},null),(n()(),o.hb(16777216,null,null,1,null,Ks)),o.pb(5,16384,null,0,Pt.l,[o.P,o.M],{ngIf:[0,"ngIf"]},null)],function(n,t){var e=t.component;n(t,3,0,!e.conferenceControlsSection),n(t,5,0,e.conferenceControlsSection)},null)}var Zs=function(){function n(n,t,e){this.validationUtilSvc=n,this.agentSvc=t,this.contactsSvc=e,this.transferCall=new o.m,this.holdButtonText="hold"}return n.prototype.ngOnChanges=function(){this.updateUI()},n.prototype.transferClick=function(){this.contactsSvc.transferWorkItem=!0,this.contactsSvc.transferWorkItemId=this.selectedContact.id,this.transferCall.emit(!0)},n.prototype.holdResumeClick=function(){this.selectedContact.status===Tn.Holding?this.agentSvc.resumeContact(this.selectedContact.id):this.selectedContact.status===Tn.Active&&this.agentSvc.holdContact(this.selectedContact.id)},n.prototype.endClick=function(){this.agentSvc.endContact(this.selectedContact.id)},n.prototype.updateUI=function(){if(!this.validationUtilSvc.isNullOrEmpty(this.selectedContact)){var n=this.selectedContact.status;this.dropState="disabled",this.holdState="disabled",this.transferState="disabled",n!==Tn.Disconnected&&n!==Tn.Interrupted&&(n===Tn.Holding?(this.holdState="slds-button_brand",this.holdButtonText="resume"):(this.holdState="enabled",this.holdButtonText="hold",this.dropState="selected",this.transferState="enabled"))}},n}(),nc=o.ob({encapsulation:0,styles:[[".full-height[_ngcontent-%COMP%], html[_ngcontent-%COMP%], html[_ngcontent-%COMP%]   body[_ngcontent-%COMP%]{height:100%}.no-strech[_ngcontent-%COMP%]{flex:0}.strech[_ngcontent-%COMP%]{flex:1;position:relative}.no-scroll[_ngcontent-%COMP%]{overflow:hidden}.full-height-flex[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;justify-content:center}.center-align[_ngcontent-%COMP%]{text-align:center}.cursor-pointer[_ngcontent-%COMP%]{cursor:pointer}.text-wrap[_ngcontent-%COMP%]{word-wrap:break-word}.text-bold[_ngcontent-%COMP%]{font-weight:700}.cdk-overlay-container[_ngcontent-%COMP%]   .slds-modal__container[_ngcontent-%COMP%]{margin:0;padding:0}.cdk-overlay-container[_ngcontent-%COMP%]   .slds-modal__content[_ngcontent-%COMP%]{height:100%}.cdk-global-scrollblock[_ngcontent-%COMP%]{overflow-y:auto!important}@media (min-width:48em){.slds-scope[_ngcontent-%COMP%]   .slds-modal--large[_ngcontent-%COMP%]   .slds-modal__container[_ngcontent-%COMP%], .slds-scope[_ngcontent-%COMP%]   .slds-modal_large[_ngcontent-%COMP%]   .slds-modal__container[_ngcontent-%COMP%]{width:100%;height:100%}}.pull-down[_ngcontent-%COMP%]{position:absolute;bottom:0;width:100%}.dialog-style[_ngcontent-%COMP%]{position:fixed;top:0;background-color:#fff;right:0;left:0;box-shadow:0 0 5px grey;z-index:1001}.schedule-container[_ngcontent-%COMP%]   .fc-widget-content[_ngcontent-%COMP%]{background-color:#fff}.schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%]{opacity:.75;text-indent:3px}.schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-event[_ngcontent-%COMP%]{border-radius:0;cursor:default;color:#01396a;min-height:2rem}.schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-event[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%]{font-weight:700}.schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%]:hover, .schedule-container[_ngcontent-%COMP%]   .fc-event[_ngcontent-%COMP%]:hover{text-decoration:none;color:#01396a}.schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%]   .fc-title[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-event[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-event[_ngcontent-%COMP%]   .fc-title[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-slats[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-slats[_ngcontent-%COMP%]   .fc-title[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-title[_ngcontent-%COMP%]{font-size:.8rem}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-content[_ngcontent-%COMP%]{display:flex}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-title[_ngcontent-%COMP%]{display:inline-block;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.schedule-container[_ngcontent-%COMP%]   .commitment-event[_ngcontent-%COMP%]{background-color:#d9d9d9;border-color:#d9d9d9}.schedule-container[_ngcontent-%COMP%]   .commitment-event[_ngcontent-%COMP%]:hover{cursor:pointer}.schedule-container[_ngcontent-%COMP%]   .fc-header-toolbar[_ngcontent-%COMP%]   .fc-left[_ngcontent-%COMP%]{margin-left:10px}.schedule-container[_ngcontent-%COMP%]   .fc-button-group[_ngcontent-%COMP%]{font-size:.6rem}.schedule-container[_ngcontent-%COMP%]   .fc-button-group[_ngcontent-%COMP%]   .fc-button-primary[_ngcontent-%COMP%]{background-color:#fff;border-color:grey;color:grey;box-shadow:none}.schedule-container[_ngcontent-%COMP%]   .fc-button-group[_ngcontent-%COMP%]   .fc-button-primary[_ngcontent-%COMP%]:not(:disabled):active{box-shadow:none}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]{min-height:1rem}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%]::before{display:none}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid[_ngcontent-%COMP%]   .fc-slats[_ngcontent-%COMP%]   .fc-minor[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-top:0}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-container[_ngcontent-%COMP%]{overflow:visible!important}.slds-scope[_ngcontent-%COMP%]   .slds-button[_ngcontent-%COMP%]:not([disabled]){color:#0672d4}.slds-scope[_ngcontent-%COMP%]   .slds-button.slds-button_brand[_ngcontent-%COMP%]{color:#fff}.slds-scope[_ngcontent-%COMP%]   .slds-button.decline-button[_ngcontent-%COMP%]:not([disabled]){color:#c13834;border-color:#c13834}.slds-scope[_ngcontent-%COMP%]   .slds-button.accept-button[_ngcontent-%COMP%]:not([disabled]){color:#fff}.slds-scope[_ngcontent-%COMP%]   .slds-slider__range[_ngcontent-%COMP%]{-webkit-appearance:none}.slds-scope[_ngcontent-%COMP%]   .slds-slider__range[_ngcontent-%COMP%]::-webkit-slider-thumb{-webkit-appearance:none;appearance:none}.initialize-softphone[_ngcontent-%COMP%]   .slds-spinner[_ngcontent-%COMP%]{margin-left:-6em}.slds-scope[_ngcontent-%COMP%]   .cdk-overlay-container[_ngcontent-%COMP%]{position:absolute}.unread-icon[_ngcontent-%COMP%]{height:.5rem;width:.5rem;border-radius:50%;display:inline-block;background-color:#1589ee}.unread-icon.visited[_ngcontent-%COMP%]{background:0 0}.work-item-controls[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;margin-bottom:.25rem}.work-item-controls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:.75rem;overflow:hidden;text-overflow:ellipsis;width:31%;flex-grow:0;margin-top:.2rem;margin-left:.2rem;padding-left:.4rem;padding-right:.4rem;outline:0;white-space:nowrap;display:inline-block}.work-item-controls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus{box-shadow:none}.work-item-controls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover:not([disabled]){background-color:#f2f2f2}.work-item-controls[_ngcontent-%COMP%]   button.slds-button_brand[_ngcontent-%COMP%]:hover:not([disabled]){background-color:#1b5297}.work-item-controls[_ngcontent-%COMP%]   .enabled[_ngcontent-%COMP%]{color:#0672d4;border-color:#dddbda;background-color:#fff;box-shadow:none}.work-item-controls[_ngcontent-%COMP%]   .selected[_ngcontent-%COMP%]{color:#c13834;border-color:#c13834;background-color:#fff;box-shadow:none}.top-padding[_ngcontent-%COMP%]{padding-top:1px}"]],data:{}});function tc(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,19,"div",[],null,null,null,null,null)),(n()(),o.qb(1,0,null,null,18,"div",[["class","work-item-controls slds-border_top"]],null,null,null,null,null)),(n()(),o.qb(2,0,null,null,5,"button",[["nglButton",""]],[[8,"disabled",0]],[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.endClick()&&l),l},_t.m,_t.a)),o.pb(3,278528,null,0,Pt.j,[o.s,o.t,o.k,o.E],{ngClass:[0,"ngClass"]},null),o.Eb(512,null,Et.lc,Et.lc,[o.F]),o.pb(5,638976,null,0,Et.n,[o.k,o.E,Et.lc],null,null),(n()(),o.Hb(6,0,["",""])),o.Bb(131072,d.i,[d.j,o.h]),(n()(),o.qb(8,0,null,null,5,"button",[["nglButton",""]],[[8,"disabled",0]],[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.transferClick()&&l),l},_t.m,_t.a)),o.pb(9,278528,null,0,Pt.j,[o.s,o.t,o.k,o.E],{ngClass:[0,"ngClass"]},null),o.Eb(512,null,Et.lc,Et.lc,[o.F]),o.pb(11,638976,null,0,Et.n,[o.k,o.E,Et.lc],null,null),(n()(),o.Hb(12,0,["",""])),o.Bb(131072,d.i,[d.j,o.h]),(n()(),o.qb(14,0,null,null,5,"button",[["nglButton",""]],[[8,"disabled",0]],[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.holdResumeClick()&&l),l},_t.m,_t.a)),o.pb(15,278528,null,0,Pt.j,[o.s,o.t,o.k,o.E],{ngClass:[0,"ngClass"]},null),o.Eb(512,null,Et.lc,Et.lc,[o.F]),o.pb(17,638976,null,0,Et.n,[o.k,o.E,Et.lc],null,null),(n()(),o.Hb(18,0,["",""])),o.Bb(131072,d.i,[d.j,o.h])],function(n,t){var e=t.component;n(t,3,0,e.dropState),n(t,5,0),n(t,9,0,e.transferState),n(t,11,0),n(t,15,0,e.holdState),n(t,17,0)},function(n,t){var e=t.component;n(t,2,0,"disabled"===e.dropState),n(t,6,0,o.Ib(t,6,0,o.Ab(t,7).transform("end"))),n(t,8,0,"disabled"===e.transferState),n(t,12,0,o.Ib(t,12,0,o.Ab(t,13).transform("transfer"))),n(t,14,0,"disabled"===e.holdState),n(t,18,0,o.Ib(t,18,0,o.Ab(t,19).transform(e.holdButtonText)))})}var ec,lc,oc,ic=function(){function n(n,t,e){this.containerSvc=n,this.localStorageSvc=t,this.validationUtilSvc=e,this.indicators=[]}return n.prototype.ngOnInit=function(){var n=this;this.containerSvc.contactIndicators.subscribe(function(t){n.filterContactIndicators(t)})},n.prototype.filterContactIndicators=function(n){var t=this;this.validationUtilSvc.isNotNullOrEmpty(n)&&this.validationUtilSvc.isNotNullOrEmpty(this.selectedContact)&&(this.indicators=n.filter(function(n){return n.contactID===t.selectedContact.id}))},n.prototype.ngOnChanges=function(){var n=JSON.parse(this.localStorageSvc.get(g.ContactIndicators));this.filterContactIndicators(n)},n}(),sc=o.ob({encapsulation:0,styles:[[".full-height[_ngcontent-%COMP%], html[_ngcontent-%COMP%], html[_ngcontent-%COMP%]   body[_ngcontent-%COMP%]{height:100%}.no-strech[_ngcontent-%COMP%]{flex:0}.strech[_ngcontent-%COMP%]{flex:1;position:relative}.no-scroll[_ngcontent-%COMP%]{overflow:hidden}.full-height-flex[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;justify-content:center}.center-align[_ngcontent-%COMP%]{text-align:center}.cursor-pointer[_ngcontent-%COMP%]{cursor:pointer}.text-wrap[_ngcontent-%COMP%]{word-wrap:break-word}.text-bold[_ngcontent-%COMP%]{font-weight:700}.cdk-overlay-container[_ngcontent-%COMP%]   .slds-modal__container[_ngcontent-%COMP%]{margin:0;padding:0}.cdk-overlay-container[_ngcontent-%COMP%]   .slds-modal__content[_ngcontent-%COMP%]{height:100%}.cdk-global-scrollblock[_ngcontent-%COMP%]{overflow-y:auto!important}@media (min-width:48em){.slds-scope[_ngcontent-%COMP%]   .slds-modal--large[_ngcontent-%COMP%]   .slds-modal__container[_ngcontent-%COMP%], .slds-scope[_ngcontent-%COMP%]   .slds-modal_large[_ngcontent-%COMP%]   .slds-modal__container[_ngcontent-%COMP%]{width:100%;height:100%}}.pull-down[_ngcontent-%COMP%]{position:absolute;bottom:0;width:100%}.dialog-style[_ngcontent-%COMP%]{position:fixed;top:0;background-color:#fff;right:0;left:0;box-shadow:0 0 5px grey;z-index:1001}.schedule-container[_ngcontent-%COMP%]   .fc-widget-content[_ngcontent-%COMP%]{background-color:#fff}.schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%]{opacity:.75;text-indent:3px}.schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-event[_ngcontent-%COMP%]{border-radius:0;cursor:default;color:#01396a;min-height:2rem}.schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-event[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%]{font-weight:700}.schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%]:hover, .schedule-container[_ngcontent-%COMP%]   .fc-event[_ngcontent-%COMP%]:hover{text-decoration:none;color:#01396a}.schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%]   .fc-title[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-event[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-event[_ngcontent-%COMP%]   .fc-title[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-slats[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-slats[_ngcontent-%COMP%]   .fc-title[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-title[_ngcontent-%COMP%]{font-size:.8rem}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-content[_ngcontent-%COMP%]{display:flex}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-title[_ngcontent-%COMP%]{display:inline-block;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.schedule-container[_ngcontent-%COMP%]   .commitment-event[_ngcontent-%COMP%]{background-color:#d9d9d9;border-color:#d9d9d9}.schedule-container[_ngcontent-%COMP%]   .commitment-event[_ngcontent-%COMP%]:hover{cursor:pointer}.schedule-container[_ngcontent-%COMP%]   .fc-header-toolbar[_ngcontent-%COMP%]   .fc-left[_ngcontent-%COMP%]{margin-left:10px}.schedule-container[_ngcontent-%COMP%]   .fc-button-group[_ngcontent-%COMP%]{font-size:.6rem}.schedule-container[_ngcontent-%COMP%]   .fc-button-group[_ngcontent-%COMP%]   .fc-button-primary[_ngcontent-%COMP%]{background-color:#fff;border-color:grey;color:grey;box-shadow:none}.schedule-container[_ngcontent-%COMP%]   .fc-button-group[_ngcontent-%COMP%]   .fc-button-primary[_ngcontent-%COMP%]:not(:disabled):active{box-shadow:none}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]{min-height:1rem}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%]::before{display:none}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid[_ngcontent-%COMP%]   .fc-slats[_ngcontent-%COMP%]   .fc-minor[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-top:0}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-container[_ngcontent-%COMP%]{overflow:visible!important}.slds-scope[_ngcontent-%COMP%]   .slds-button[_ngcontent-%COMP%]:not([disabled]){color:#0672d4}.slds-scope[_ngcontent-%COMP%]   .slds-button.slds-button_brand[_ngcontent-%COMP%]{color:#fff}.slds-scope[_ngcontent-%COMP%]   .slds-button.decline-button[_ngcontent-%COMP%]:not([disabled]){color:#c13834;border-color:#c13834}.slds-scope[_ngcontent-%COMP%]   .slds-button.accept-button[_ngcontent-%COMP%]:not([disabled]){color:#fff}.slds-scope[_ngcontent-%COMP%]   .slds-slider__range[_ngcontent-%COMP%]{-webkit-appearance:none}.slds-scope[_ngcontent-%COMP%]   .slds-slider__range[_ngcontent-%COMP%]::-webkit-slider-thumb{-webkit-appearance:none;appearance:none}.initialize-softphone[_ngcontent-%COMP%]   .slds-spinner[_ngcontent-%COMP%]{margin-left:-6em}.slds-scope[_ngcontent-%COMP%]   .cdk-overlay-container[_ngcontent-%COMP%]{position:absolute}.unread-icon[_ngcontent-%COMP%]{height:.5rem;width:.5rem;border-radius:50%;display:inline-block;background-color:#1589ee}.unread-icon.visited[_ngcontent-%COMP%]{background:0 0}.contact-indicator[_ngcontent-%COMP%]{position:relative;height:2.2rem}.contact-indicator[_ngcontent-%COMP%]   .indicators[_ngcontent-%COMP%]{background:#f7f7f7;overflow:hidden;position:absolute;width:100%;z-index:99;height:2.1rem}.contact-indicator[_ngcontent-%COMP%]   .indicators[_ngcontent-%COMP%]:hover{height:auto;overflow-y:auto}.contact-indicator[_ngcontent-%COMP%]   .indicators[_ngcontent-%COMP%]:hover.call-indicators{max-height:9rem}.contact-indicator[_ngcontent-%COMP%]   .indicators[_ngcontent-%COMP%]:hover.wi-indicators{max-height:4.7rem}.contact-indicator[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{background-color:#fff}.contact-indicator[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{cursor:pointer}"]],data:{}});function cc(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,2,null,null,null,null,null,null,null)),(n()(),o.qb(1,0,null,null,1,"app-indicator-list",[],null,null,null,qo,Eo)),o.pb(2,49152,null,0,To,[Bn,O,_,qn,tt,S],{indicator:[0,"indicator"]},null)],function(n,t){n(t,2,0,t.context.$implicit)},null)}function ac(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,4,"div",[["class","contact-indicator slds-border_top"]],null,null,null,null,null)),(n()(),o.qb(1,0,null,null,3,"div",[["class","indicators slds-p-horizontal_xx-small"]],null,null,null,null,null)),o.pb(2,278528,null,0,Pt.j,[o.s,o.t,o.k,o.E],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(n()(),o.hb(16777216,null,null,1,null,cc)),o.pb(4,278528,null,0,Pt.k,[o.P,o.M,o.s],{ngForOf:[0,"ngForOf"]},null)],function(n,t){var e=t.component;n(t,2,0,"indicators slds-p-horizontal_xx-small",e.selectedContact&&"CallContactEvent"==e.selectedContact.contactType?"call-indicators":"wi-indicators"),n(t,4,0,e.indicators)},null)}function rc(n){return o.Jb(0,[(n()(),o.hb(16777216,null,null,1,null,ac)),o.pb(1,16384,null,0,Pt.l,[o.P,o.M],{ngIf:[0,"ngIf"]},null)],function(n,t){var e=t.component;n(t,1,0,e.indicators&&e.indicators.length)},null)}!function(n){n.AgentSessionStart="AgentSessionStart",n.AgentState="AgentState",n.AgentLeg="AgentLeg",n.AgentSessionEnd="AgentSessionEnd",n.RemoteAgentSessionEnd="RemoteAgentSessionEnd",n.UpdateUnavailableCodes="UpdateUnavailableCodes",n.CallContactEvent="CallContactEvent",n.UpdateAgentMessages="UpdateMessages",n.UpdateSkills="UpdateSkills",n.UpdatePermissions="UpdatePermissions",n.Mute="Mute",n.UpdateIndicators="UpdateIndicators",n.PromiseKeeper="PromiseKeeper",n.PromiseKeeperStatus="PromiseKeeperStatus",n.Indicator="Indicator",n.UpdateCallbacks="UpdateCallbacks",n.WorkItemContactEvent="WorkItemContactEvent",n.MchAgentSettingsChangeEvent="MchAgentSettingsChangeEvent",n.VoiceMailContactEvent="VoiceMailContactEvent"}(ec||(ec={})),function(n){n.LoggedOut="loggedOut",n.Available="available",n.Unavailable="unavailable",n.InboundContact="inboundContact",n.OutboundContact="outboundContact",n.InboundConsult="inboundConsult",n.OutboundConsult="outboundConsult",n.Dialer="dialer",n.LoggedIn="loggedIn"}(lc||(lc={})),function(n){n.Dialing="Dialing",n.Ringing="Ringing",n.Incoming="Incoming",n.Active="Active",n.Holding="Holding",n.Masking="Masking",n.Disconnected="Disconnected",n.Joined="Joined",n.Interrupted="Interrupted"}(oc||(oc={}));var uc=function(){function n(n,t,e,l,o,i,s,c,a,r,u,d,g,h){this.agentSvc=n,this.logger=t,this.navigationUtilSvc=e,this.localStorageSvc=l,this.changeDetector=o,this.validationUtilSvc=i,this.adminSvc=s,this.modelSvc=c,this.contactSearchSvc=a,this.containerSvc=r,this.route=u,this.localizationSvc=d,this.contactsSvc=g,this.workItemTabFocusSvc=h,this.callContacts=[],this.workItemContacts=[],this.omniGroupContacts=[],this.callTransferFlag=!1,this.contactSearchOpen=!1,this.isContactSwitching=!1,this.isMchEnabled=!1,this.showFocusIndicator=!1,this.contactSearchPanelHeight=0,this.showSearchPanel=!0}return n.prototype.ngOnInit=function(){var t=this;this.logger.debug(n.className,"Initialize"),this.localStorageSvc.set(g.RouterUrl,"/contacts"),this.agentSvc.isPolling||(this.logger.info(n.className,"Triggering GetNextEvent"),this.agentSvc.getNextEvent()),this.isMchEnabled=this.contactsSvc.isMchEnabled(),this.updateContactsView(),this.onContactsUpdate(this.contactsSvc.contacts),this.contactSfResult=this.containerSvc.getContactSfResult(),this.contactUpdateEvent=this.agentSvc.contactUpdateEvent.subscribe(function(n){t.onContactsUpdate(n)}),this.containerSvc.updateSfResult.subscribe(function(n){t.contactSfResult=t.containerSvc.getContactSfResult(n)}),this.toggleAgentTransferEvent=this.containerSvc.toggleAgentTransfer.subscribe(function(n){t.callTransferFlag=n}),this.updateContactsViewEvent=this.contactsSvc.updateContactsView.subscribe(function(){t.updateContactsView()}),this.focusWorkItemEvent=this.workItemTabFocusSvc.focusWorkItemEvent.subscribe(function(n){t.validationUtilSvc.isNullOrEmpty(n)||t.focusWorkItemContact(n)}),this.workItemTabFocusSvc.canScreenpop&&(this.focusSalesforceRecordForWorkItemContact(),this.workItemTabFocusSvc.canScreenpop=!1),this.contactDetails=this.contactsSvc.showContactDetails.subscribe(function(n){t.showContactDetails(n)})},n.prototype.focusWorkItemContact=function(t){var e=this;this.contactsSvc.displayWorkItemContacts.filter(function(n){return n.id===t.id}).length>0||(this.logger.debug(n.className,"Focusing WorkItem Contact Id: "+t.id+" Status: "+t.status),this.contactsSvc.isMchEnabled()&&t.status!==Tn.Active&&t.status!==Tn.Disconnected?this.agentSvc.activateContact(t.id).then(function(){e.setSelectedWorkItemContact(t)}):(this.setSelectedWorkItemContact(t),this.updateContactsView()))},n.prototype.focusSalesforceRecordForWorkItemContact=function(){var n=this.contactsSvc.displayWorkItemContacts;if(n.length>0){var t=this.containerSvc.getSfResult(n[0].id);this.validationUtilSvc.isNullOrEmpty(t)||this.validationUtilSvc.isNullOrEmpty(t.task)||this.validationUtilSvc.isNullOrEmpty(t.task.relatedTo)||this.workItemTabFocusSvc.focusSalesforceRecord(t.task.relatedTo)}},n.prototype.setSelectedWorkItemContact=function(n){this.contactsSvc.setSelectedContact(n),this.contactsSvc.updateDisplayContacts(n)},n.prototype.onContactsUpdate=function(n){for(var t=n,e=0;e<t.length;e++)t[e].finalState&&this.validationUtilSvc.isNotNullOrEmpty(this.contactSfResult)&&this.contactSfResult.contactId===t[e].id&&delete this.contactSfResult;if(this.openDispositionPanel(t),this.validationUtilSvc.isValidObject(this.primaryContact)){this.getSkillDetails(this.primaryContact.skillId);var l=this.localStorageSvc.get(g.ContactSearchOpen);l=!!this.validationUtilSvc.isNullOrEmpty(l)||M.toBoolean(l),this.contactSearchOpen=this.agentSvc.contacts.length<=1&&l}},n.prototype.getSkillDetails=function(n){var t=this;return new Promise(function(e){t.adminSvc.getSkillDetails(n).then(function(n){e(n)})})},n.prototype.openDispositionPanel=function(n){var t=this;this.isMchEnabled?n.forEach(function(n){"Disconnected"!==n.status||n.finalState||t.createDispositionObject(n)}):1===this.contactsSvc.contacts.length&&this.primaryContact&&("Disconnected"!==this.primaryContact.status||this.primaryContact.finalState||this.createDispositionObject(this.primaryContact))},n.prototype.createDispositionObject=function(n){var t=this;n.isDispositionSubmitted?n.isDispositionSubmitted&&(this.contactSearchOpen=!1):this.getSkillDetails(n.skillId).then(function(e){if(t.contactSearchOpen=!1,e.hasDisposition){var o=new Wn;o.contentType=l.Disposition,o.dataModel={callDetails:n,isHandleSingleContact:!0},t.modelSvc.openModalDialog(o)}})},n.prototype.navigateToHome=function(){this.contactsSvc.transferWorkItem=!1,this.navigationUtilSvc.navigate(["/home",{isLoaded:!0}])},n.prototype.updateContactsView=function(){this.callContacts=this.contactsSvc.displayCallContacts,this.workItemContacts=this.contactsSvc.displayWorkItemContacts,this.omniGroupContacts=this.contactsSvc.displayOmniGroupContacts,this.isMaxConferenceReached=!0,this.updateSelectedContact(),this.showFocusIndicator=this.setFocusIndicator(),this.contactSearchPanelHeight=this.getContactSearchPanelHeight();var n=this.omniGroupContacts.concat(this.callContacts,this.workItemContacts);n&&0===n.length&&this.navigateToHome()},n.prototype.updateSelectedContact=function(){var n,t=this.isMchEnabled?this.contactsSvc.elevatedContacts.concat(this.callContacts.concat(this.workItemContacts)):this.contactsSvc.contacts,e=t&&t.length?t.filter(function(n){return n.focused}):[];n=this.validationUtilSvc.isNotNullOrEmptyArray(e)?e[0]:this.contactsSvc.findLastUpdatedContact(t);var l=this.contactsSvc.callContacts;l.length>1&&(l[0].status===Tn.Joined||l[0].status===Tn.Masking)&&l[1].status===Tn.Joined&&(this.isMaxConferenceReached=l[0].status===Tn.Masking||this.containerSvc.isMaxConferenceLimitReached(),n.contactType===ec.CallContactEvent&&(n=l[0])),this.selectedContact=n,this.showContactDetails(this.selectedContact)},n.prototype.getSearchResultContact=function(n){return this.validationUtilSvc.isValidObject(n)&&("CallContactEvent"===n.contactType&&("Consult"===n.callType||"ReskillProxy"===n.callType||"PersonalQueue"===n.callType)||n.isDispositionSubmitted)?null:n},n.prototype.setFocusIndicator=function(){var n=!0,t=!1,e=this.omniGroupContacts.concat(this.callContacts,this.workItemContacts),l=this.contactsSvc.callContacts;return l.length>1&&(l[0].status===Tn.Joined||l[0].status===Tn.Masking)&&l[1].status===Tn.Joined&&(t=!0),(!this.isMchEnabled&&this.callContacts.length>1||1===e.length||t&&this.callContacts.length>1)&&(n=!1),n},n.prototype.getContactSearchPanelHeight=function(){var n=this.validationUtilSvc.isNotNullOrEmptyArray(this.omniGroupContacts)?this.omniGroupContacts.length:0,t=this.validationUtilSvc.isNotNullOrEmptyArray(this.callContacts)?this.callContacts.length:0,e=this.validationUtilSvc.isNotNullOrEmptyArray(this.workItemContacts)?this.workItemContacts.length:0,l=0;return this.showFocusIndicator?(l=t?l+55*t:l,l=e?l+55*e:l,l=n?l+80*n:l):l=n?l+80*n:55,l},n.prototype.toggleContact=function(n){this.contactsSvc.updateFocusedContact(n.id)},n.prototype.trackContacts=function(n,t){return t.id},n.prototype.ngAfterViewInit=function(){this.route.snapshot.paramMap.get("isLoaded")&&(this.agentSvc.loadData(),this.changeDetector.detectChanges())},n.prototype.transferCall=function(n){this.callTransferFlag=n},n.prototype.showContactDetails=function(n){this.isMchEnabled?(this.primaryContact=this.getSearchResultContact(n),this.showSearchPanel=!!this.validationUtilSvc.isValidObject(this.primaryContact)):(this.primaryContact=this.containerSvc.getFirstContact(),this.showSearchPanel=!!this.validationUtilSvc.isValidObject(this.primaryContact)&&!this.primaryContact.isDispositionSubmitted)},n.prototype.contactBarClick=function(n){var t=this.omniGroupContacts.concat(this.callContacts,this.workItemContacts),e=this.contactsSvc.getOmniGroupCallContacts();if(this.isMchEnabled&&t.length>1&&(n.contactType!==ec.CallContactEvent||1===this.callContacts.length&&0===e.length))return this.selectedContact=n.status===Tn.Joined?this.contactsSvc.callContacts[0]:n,this.showContactDetails(this.selectedContact),this.toggleContact(this.selectedContact),void this.localStorageSvc.set(g.LastAttentedContactId,this.selectedContact.id);(this.isMchEnabled?this.contactsSvc.callContacts:this.contactsSvc.contacts).length>1&&n.status!==Tn.Joined&&(n.status===Tn.Holding?this.resumeContact(n):(this.selectedContact=n,this.showContactDetails(this.selectedContact),this.toggleContact(n)))},n.prototype.resumeContact=function(n){var t=this;(this.isMchEnabled?this.contactsSvc.callContacts:this.contactsSvc.contacts).forEach(function(e){e.id!==n.id&&(e.status===Tn.Masking?t.agentSvc.unmaskCall(e.id).then(function(){t.agentSvc.holdContact(e.id).then(function(){t.agentSvc.resumeContact(n.id).then(function(){t.toggleContact(n)})})}):e.status===Tn.Active?t.agentSvc.holdContact(e.id).then(function(){t.agentSvc.resumeContact(n.id).then(function(){t.toggleContact(n)})}):t.agentSvc.resumeContact(n.id).then(function(){t.toggleContact(n)}))})},n.prototype.updateAccordionState=function(n){this.contactSearchOpen=n,this.localStorageSvc.set(g.ContactSearchOpen,n)},n.prototype.omniGroupBarClick=function(n){this.toggleContact(n),this.contactsSvc.callContacts.length>1&&n.contactType===ec.CallContactEvent&&n.status===Tn.Holding?this.resumeContact(n):(this.selectedContact=n,this.primaryContact=this.selectedContact),this.showContactDetails(this.primaryContact)},n.prototype.ngOnDestroy=function(){this.logger.debug(n.className,"Destroy"),this.validationUtilSvc.isNotNullOrUndefined(this.contactUpdateEvent)&&this.contactUpdateEvent.unsubscribe(),this.validationUtilSvc.isNotNullOrUndefined(this.toggleAgentTransferEvent)&&this.toggleAgentTransferEvent.unsubscribe(),this.validationUtilSvc.isNotNullOrUndefined(this.updateContactsViewEvent)&&this.updateContactsViewEvent.unsubscribe(),this.validationUtilSvc.isNotNullOrUndefined(this.focusWorkItemEvent)&&this.focusWorkItemEvent.unsubscribe(),this.validationUtilSvc.isNotNullOrUndefined(this.contactDetails)&&this.contactDetails.unsubscribe()},n.className="ContactsComponent",n}(),dc=o.ob({encapsulation:0,styles:[[".full-height[_ngcontent-%COMP%], html[_ngcontent-%COMP%], html[_ngcontent-%COMP%]   body[_ngcontent-%COMP%]{height:100%}.no-strech[_ngcontent-%COMP%]{flex:0}.strech[_ngcontent-%COMP%]{flex:1;position:relative}.no-scroll[_ngcontent-%COMP%]{overflow:hidden}.full-height-flex[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;justify-content:center}.center-align[_ngcontent-%COMP%]{text-align:center}.cursor-pointer[_ngcontent-%COMP%]{cursor:pointer}.text-wrap[_ngcontent-%COMP%]{word-wrap:break-word}.text-bold[_ngcontent-%COMP%]{font-weight:700}.cdk-overlay-container[_ngcontent-%COMP%]   .slds-modal__container[_ngcontent-%COMP%]{margin:0;padding:0}.cdk-overlay-container[_ngcontent-%COMP%]   .slds-modal__content[_ngcontent-%COMP%]{height:100%}.cdk-global-scrollblock[_ngcontent-%COMP%]{overflow-y:auto!important}@media (min-width:48em){.slds-scope[_ngcontent-%COMP%]   .slds-modal--large[_ngcontent-%COMP%]   .slds-modal__container[_ngcontent-%COMP%], .slds-scope[_ngcontent-%COMP%]   .slds-modal_large[_ngcontent-%COMP%]   .slds-modal__container[_ngcontent-%COMP%]{width:100%;height:100%}}.pull-down[_ngcontent-%COMP%]{position:absolute;bottom:0;width:100%}.dialog-style[_ngcontent-%COMP%]{position:fixed;top:0;background-color:#fff;right:0;left:0;box-shadow:0 0 5px grey;z-index:1001}.schedule-container[_ngcontent-%COMP%]   .fc-widget-content[_ngcontent-%COMP%]{background-color:#fff}.schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%]{opacity:.75;text-indent:3px}.schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-event[_ngcontent-%COMP%]{border-radius:0;cursor:default;color:#01396a;min-height:2rem}.schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-event[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%]{font-weight:700}.schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%]:hover, .schedule-container[_ngcontent-%COMP%]   .fc-event[_ngcontent-%COMP%]:hover{text-decoration:none;color:#01396a}.schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%]   .fc-title[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-event[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-event[_ngcontent-%COMP%]   .fc-title[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-slats[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-slats[_ngcontent-%COMP%]   .fc-title[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-title[_ngcontent-%COMP%]{font-size:.8rem}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-content[_ngcontent-%COMP%]{display:flex}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-title[_ngcontent-%COMP%]{display:inline-block;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.schedule-container[_ngcontent-%COMP%]   .commitment-event[_ngcontent-%COMP%]{background-color:#d9d9d9;border-color:#d9d9d9}.schedule-container[_ngcontent-%COMP%]   .commitment-event[_ngcontent-%COMP%]:hover{cursor:pointer}.schedule-container[_ngcontent-%COMP%]   .fc-header-toolbar[_ngcontent-%COMP%]   .fc-left[_ngcontent-%COMP%]{margin-left:10px}.schedule-container[_ngcontent-%COMP%]   .fc-button-group[_ngcontent-%COMP%]{font-size:.6rem}.schedule-container[_ngcontent-%COMP%]   .fc-button-group[_ngcontent-%COMP%]   .fc-button-primary[_ngcontent-%COMP%]{background-color:#fff;border-color:grey;color:grey;box-shadow:none}.schedule-container[_ngcontent-%COMP%]   .fc-button-group[_ngcontent-%COMP%]   .fc-button-primary[_ngcontent-%COMP%]:not(:disabled):active{box-shadow:none}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]{min-height:1rem}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%]::before{display:none}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid[_ngcontent-%COMP%]   .fc-slats[_ngcontent-%COMP%]   .fc-minor[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-top:0}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-container[_ngcontent-%COMP%]{overflow:visible!important}.slds-scope[_ngcontent-%COMP%]   .slds-button[_ngcontent-%COMP%]:not([disabled]){color:#0672d4}.slds-scope[_ngcontent-%COMP%]   .slds-button.slds-button_brand[_ngcontent-%COMP%]{color:#fff}.slds-scope[_ngcontent-%COMP%]   .slds-button.decline-button[_ngcontent-%COMP%]:not([disabled]){color:#c13834;border-color:#c13834}.slds-scope[_ngcontent-%COMP%]   .slds-button.accept-button[_ngcontent-%COMP%]:not([disabled]){color:#fff}.slds-scope[_ngcontent-%COMP%]   .slds-slider__range[_ngcontent-%COMP%]{-webkit-appearance:none}.slds-scope[_ngcontent-%COMP%]   .slds-slider__range[_ngcontent-%COMP%]::-webkit-slider-thumb{-webkit-appearance:none;appearance:none}.initialize-softphone[_ngcontent-%COMP%]   .slds-spinner[_ngcontent-%COMP%]{margin-left:-6em}.slds-scope[_ngcontent-%COMP%]   .cdk-overlay-container[_ngcontent-%COMP%]{position:absolute}.unread-icon[_ngcontent-%COMP%]{height:.5rem;width:.5rem;border-radius:50%;display:inline-block;background-color:#1589ee}.unread-icon.visited[_ngcontent-%COMP%]{background:0 0}.display-flex[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%}.multiple-call-panel[_ngcontent-%COMP%]{width:100%;color:#fff;margin-bottom:1px;padding-left:1rem;background-color:#4bca81}.contacts-comp[_ngcontent-%COMP%]   .back-navigation[_ngcontent-%COMP%]{cursor:pointer}.contacts-comp[_ngcontent-%COMP%]   .back-navigation[_ngcontent-%COMP%]   .slds-button[_ngcontent-%COMP%]{color:#706e6b}.contact-container[_ngcontent-%COMP%]{overflow:hidden}.show-contact__search[_ngcontent-%COMP%]{position:absolute;overflow-y:auto;width:100%;bottom:0;background-color:#fff}.call-bar-container[_ngcontent-%COMP%]{flex-basis:0;overflow-y:auto}.selected-contact[_ngcontent-%COMP%]{border-left:8px solid #1b5297}"]],data:{}});function gc(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,2,"span",[["class","slds-m-left_small"]],null,null,null,null,null)),(n()(),o.Hb(1,null,["",""])),o.Bb(131072,d.i,[d.j,o.h])],null,function(n,t){n(t,1,0,o.Ib(t,1,0,o.Ab(t,2).transform("home")))})}function hc(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,2,"span",[["class","slds-m-left_small"]],null,null,null,null,null)),(n()(),o.Hb(1,null,["",""])),o.Bb(131072,d.i,[d.j,o.h])],null,function(n,t){n(t,1,0,o.Ib(t,1,0,o.Ab(t,2).transform("back")))})}function pc(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,4,"div",[["class","no-strech"]],null,null,null,null,null)),o.pb(1,278528,null,0,Pt.j,[o.s,o.t,o.k,o.E],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),o.Cb(2,{"selected-contact":0}),(n()(),o.qb(3,0,null,null,1,"app-omni-group-contact-bar",[],null,[[null,"updateSelectedContact"]],function(n,t,e){var l=!0;return"updateSelectedContact"===t&&(l=!1!==n.component.omniGroupBarClick(e)&&l),l},Rt,Ut)),o.pb(4,770048,null,0,Dt,[S,P,f,qn,Un,p,ot],{omniGroupContact:[0,"omniGroupContact"],contactSfResult:[1,"contactSfResult"]},{updateSelectedContact:"updateSelectedContact"})],function(n,t){var e=t.component,l=n(t,2,0,e.showFocusIndicator&&e.selectedContact.omniGroupId===t.context.$implicit.omniGroupId);n(t,1,0,"no-strech",l),n(t,4,0,t.context.$implicit,e.contactSfResult)},null)}function fc(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,4,"div",[["class","no-strech"]],null,null,null,null,null)),o.pb(1,278528,null,0,Pt.j,[o.s,o.t,o.k,o.E],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),o.Cb(2,{"selected-contact":0}),(n()(),o.qb(3,0,null,null,1,"app-call-contact-bar",[],null,[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.contactBarClick(n.context.$implicit)&&l),l},Gt,Jt)),o.pb(4,704512,null,0,jt,[qn,P,f,S,Un,ot,p],{callContact:[0,"callContact"],contactSfResult:[1,"contactSfResult"]},null)],function(n,t){var e=t.component,l=n(t,2,0,e.showFocusIndicator&&(e.selectedContact.id===t.context.$implicit.id||"Joined"===e.selectedContact.status));n(t,1,0,"no-strech",l),n(t,4,0,t.context.$implicit,e.contactSfResult)},null)}function bc(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,4,"div",[["class","no-strech"]],null,null,null,null,null)),o.pb(1,278528,null,0,Pt.j,[o.s,o.t,o.k,o.E],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),o.Cb(2,{"selected-contact":0}),(n()(),o.qb(3,0,null,null,1,"app-work-item-contact-bar",[],null,[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.contactBarClick(n.context.$implicit)&&l),l},ne,Zt)),o.pb(4,704512,null,0,Yt,[qn,P,f,S,ot],{workItemContact:[0,"workItemContact"],contactSfResult:[1,"contactSfResult"]},null)],function(n,t){var e=t.component,l=n(t,2,0,e.showFocusIndicator&&e.selectedContact.id===t.context.$implicit.id);n(t,1,0,"no-strech",l),n(t,4,0,t.context.$implicit,e.contactSfResult)},null)}function mc(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,2,"div",[["class","strech"]],null,null,null,null,null)),(n()(),o.qb(1,0,null,null,1,"app-call-contact-panel",[],null,null,null,ns,Ki)),o.pb(2,704512,null,0,$i,[qn,P,f],{selectedContact:[0,"selectedContact"],contactSfResult:[1,"contactSfResult"]},null)],function(n,t){var e=t.component;n(t,2,0,e.selectedContact,e.contactSfResult)},null)}function Cc(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,2,"div",[["class","strech"]],null,null,null,null,null)),(n()(),o.qb(1,0,null,null,1,"app-work-item-contact-panel",[],null,null,null,ls,es)),o.pb(2,704512,null,0,ts,[qn,P,f,S,ot],{selectedContact:[0,"selectedContact"],contactSfResult:[1,"contactSfResult"]},null)],function(n,t){var e=t.component;n(t,2,0,e.selectedContact,e.contactSfResult)},null)}function vc(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,6,"div",[],null,null,null,null,null)),o.pb(1,278528,null,0,Pt.j,[o.s,o.t,o.k,o.E],{ngClass:[0,"ngClass"]},null),o.Cb(2,{"show-contact__search":0}),o.pb(3,278528,null,0,Pt.o,[o.t,o.k,o.E],{ngStyle:[0,"ngStyle"]},null),o.Cb(4,{top:0}),(n()(),o.qb(5,0,null,null,1,"app-contact-search",[],null,[[null,"updateAccordionState"]],function(n,t,e){var l=!0;return"updateAccordionState"===t&&(l=!1!==n.component.updateAccordionState(e)&&l),l},Gs,qs)),o.pb(6,573440,null,0,Us,[_,f,ot,Jn],{contactSfResult:[0,"contactSfResult"],searchContact:[1,"searchContact"],showContactDetails:[2,"showContactDetails"]},{updateAccordionState:"updateAccordionState"})],function(n,t){var e=t.component,l=n(t,2,0,e.contactSearchOpen);n(t,1,0,l);var o=n(t,4,0,e.contactSearchOpen?e.contactSearchPanelHeight+"px":"0px");n(t,3,0,o),n(t,6,0,e.contactSfResult,e.primaryContact,e.contactSearchOpen)},null)}function _c(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,2,"div",[],null,null,null,null,null)),(n()(),o.qb(1,0,null,null,1,"app-call-controls",[],null,[[null,"transferCall"]],function(n,t,e){var l=!0;return"transferCall"===t&&(l=!1!==n.component.transferCall(e)&&l),l},Ys,Qs)),o.pb(2,638976,null,0,Xs,[Un,p,f,ot,Bn,Hn,Yn],{selectedContact:[0,"selectedContact"],isMaxConferenceReached:[1,"isMaxConferenceReached"]},{transferCall:"transferCall"})],function(n,t){var e=t.component;n(t,2,0,e.selectedContact,e.isMaxConferenceReached)},null)}function Oc(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,2,"div",[],null,null,null,null,null)),(n()(),o.qb(1,0,null,null,1,"app-work-item-controls",[],null,[[null,"transferCall"]],function(n,t,e){var l=!0;return"transferCall"===t&&(l=!1!==n.component.transferCall(e)&&l),l},tc,nc)),o.pb(2,573440,null,0,Zs,[f,Un,Yn],{selectedContact:[0,"selectedContact"]},{transferCall:"transferCall"})],function(n,t){n(t,2,0,t.component.selectedContact)},null)}function Mc(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,3,"div",[["class","display-flex"]],null,null,null,null,null)),(n()(),o.qb(1,0,null,null,2,"div",[["class","strech"]],null,null,null,null,null)),(n()(),o.qb(2,0,null,null,1,"app-agent-transfer",[],null,[[null,"transferCall"]],function(n,t,e){var l=!0;return"transferCall"===t&&(l=!1!==n.component.transferCall(e)&&l),l},ho,Ql)),o.pb(3,245760,null,0,Xl,[Un,ot,p,f,A,Hn,Yn,_],null,{transferCall:"transferCall"})],function(n,t){n(t,3,0)},null)}function Pc(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,39,"div",[["class","slds-grid slds-grid_vertical full-height contacts-comp"]],null,null,null,null,null)),(n()(),o.qb(1,0,[["homePanel",1]],null,8,"div",[["class","slds-p-top_small slds-p-left_small slds-p-bottom_small slds-border_bottom no-strech"]],null,null,null,null,null)),(n()(),o.qb(2,0,null,null,7,"span",[["class","back-navigation"]],null,[[null,"click"]],function(n,t,e){var l=!0,o=n.component;return"click"===t&&(l=!1!==(o.callTransferFlag?o.transferCall(!1):o.navigateToHome())&&l),l},null,null)),(n()(),o.qb(3,0,null,null,2,"button",[["class","slds-button slds-button_icon"]],null,null,null,null,null)),(n()(),o.qb(4,0,null,null,1,":svg:svg",[["aria-hidden","true"],["class","slds-button__icon"]],null,null,null,null,null)),(n()(),o.qb(5,0,null,null,0,":svg:use",[[":xlink:href","/_slds/icons/utility-sprite/svg/symbols.svg#back"]],null,null,null,null,null)),(n()(),o.hb(16777216,null,null,1,null,gc)),o.pb(7,16384,null,0,Pt.l,[o.P,o.M],{ngIf:[0,"ngIf"]},null),(n()(),o.hb(16777216,null,null,1,null,hc)),o.pb(9,16384,null,0,Pt.l,[o.P,o.M],{ngIf:[0,"ngIf"]},null),(n()(),o.qb(10,0,null,null,29,"div",[["class","strech contact-container"]],null,null,null,null,null)),(n()(),o.qb(11,0,null,null,26,"div",[["class","display-flex"]],null,null,null,null,null)),o.pb(12,278528,null,0,Pt.o,[o.t,o.k,o.E],{ngStyle:[0,"ngStyle"]},null),o.Cb(13,{display:0}),(n()(),o.qb(14,0,null,null,15,"div",[["class","strech"]],null,null,null,null,null)),(n()(),o.qb(15,0,null,null,14,"div",[["class","display-flex"]],null,null,null,null,null)),(n()(),o.qb(16,0,null,null,11,"div",[["class","strech call-bar-container"]],null,null,null,null,null)),(n()(),o.qb(17,0,null,null,10,"div",[["class","display-flex"]],null,null,null,null,null)),(n()(),o.hb(16777216,null,null,1,null,pc)),o.pb(19,278528,null,0,Pt.k,[o.P,o.M,o.s],{ngForOf:[0,"ngForOf"]},null),(n()(),o.hb(16777216,null,null,1,null,fc)),o.pb(21,278528,null,0,Pt.k,[o.P,o.M,o.s],{ngForOf:[0,"ngForOf"],ngForTrackBy:[1,"ngForTrackBy"]},null),(n()(),o.hb(16777216,null,null,1,null,bc)),o.pb(23,278528,null,0,Pt.k,[o.P,o.M,o.s],{ngForOf:[0,"ngForOf"],ngForTrackBy:[1,"ngForTrackBy"]},null),(n()(),o.hb(16777216,null,null,1,null,mc)),o.pb(25,16384,null,0,Pt.l,[o.P,o.M],{ngIf:[0,"ngIf"]},null),(n()(),o.hb(16777216,null,null,1,null,Cc)),o.pb(27,16384,null,0,Pt.l,[o.P,o.M],{ngIf:[0,"ngIf"]},null),(n()(),o.hb(16777216,null,null,1,null,vc)),o.pb(29,16384,null,0,Pt.l,[o.P,o.M],{ngIf:[0,"ngIf"]},null),(n()(),o.qb(30,0,null,null,2,"div",[["class","no-strech"]],null,null,null,null,null)),(n()(),o.qb(31,0,null,null,1,"app-contact-indicators",[],null,null,null,rc,sc)),o.pb(32,638976,null,0,ic,[ot,p,f],{selectedContact:[0,"selectedContact"]},null),(n()(),o.qb(33,0,null,null,4,"div",[["class","no-strech"]],null,null,null,null,null)),(n()(),o.hb(16777216,null,null,1,null,_c)),o.pb(35,16384,null,0,Pt.l,[o.P,o.M],{ngIf:[0,"ngIf"]},null),(n()(),o.hb(16777216,null,null,1,null,Oc)),o.pb(37,16384,null,0,Pt.l,[o.P,o.M],{ngIf:[0,"ngIf"]},null),(n()(),o.hb(16777216,null,null,1,null,Mc)),o.pb(39,16384,null,0,Pt.l,[o.P,o.M],{ngIf:[0,"ngIf"]},null)],function(n,t){var e=t.component;n(t,7,0,!e.callTransferFlag),n(t,9,0,e.callTransferFlag);var l=n(t,13,0,e.callTransferFlag?"none":"flex");n(t,12,0,l),n(t,19,0,e.omniGroupContacts),n(t,21,0,e.callContacts,e.trackContacts),n(t,23,0,e.workItemContacts,e.trackContacts),n(t,25,0,e.selectedContact&&"CallContactEvent"===e.selectedContact.contactType),n(t,27,0,e.selectedContact&&"WorkItemContactEvent"===e.selectedContact.contactType),n(t,29,0,e.showSearchPanel),n(t,32,0,e.selectedContact),n(t,35,0,e.selectedContact&&"CallContactEvent"===e.selectedContact.contactType),n(t,37,0,e.selectedContact&&"WorkItemContactEvent"===e.selectedContact.contactType),n(t,39,0,e.callTransferFlag)},null)}function Sc(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,1,"app-contacts",[],null,null,null,Pc,dc)),o.pb(1,4440064,null,0,uc,[Un,_,A,p,o.h,f,qn,Hn,Jn,ot,x.a,S,Yn,lt],null,null)],function(n,t){n(t,1,0)},null)}var yc=o.mb("app-contacts",uc,Sc,{},{},[]),kc=o.ob({encapsulation:2,styles:[[".full-height,html,html body{height:100%}.no-strech{flex:0}.strech{flex:1;position:relative}.no-scroll{overflow:hidden}.full-height-flex{height:100%;display:flex;flex-direction:column;justify-content:center}.center-align{text-align:center}.cursor-pointer{cursor:pointer}.text-wrap{word-wrap:break-word}.text-bold{font-weight:700}.cdk-overlay-container .slds-modal__container{margin:0;padding:0}.cdk-overlay-container .slds-modal__content{height:100%}.cdk-global-scrollblock{overflow-y:auto!important}@media (min-width:48em){.slds-scope .slds-modal--large .slds-modal__container,.slds-scope .slds-modal_large .slds-modal__container{width:100%;height:100%}}.pull-down{position:absolute;bottom:0;width:100%}.dialog-style{position:fixed;top:0;background-color:#fff;right:0;left:0;box-shadow:0 0 5px grey;z-index:1001}.schedule-container .fc-widget-content{background-color:#fff}.schedule-container .fc-bgevent{opacity:.75;text-indent:3px}.schedule-container .fc-bgevent,.schedule-container .fc-event{border-radius:0;cursor:default;color:#01396a;min-height:2rem}.schedule-container .fc-bgevent .fc-time,.schedule-container .fc-event .fc-time{font-weight:700}.schedule-container .fc-bgevent:hover,.schedule-container .fc-event:hover{text-decoration:none;color:#01396a}.schedule-container .fc-bgevent .fc-time,.schedule-container .fc-bgevent .fc-title,.schedule-container .fc-event .fc-time,.schedule-container .fc-event .fc-title,.schedule-container .fc-slats .fc-time,.schedule-container .fc-slats .fc-title,.schedule-container .fc-time-grid-event.fc-short .fc-time,.schedule-container .fc-time-grid-event.fc-short .fc-title{font-size:.8rem}.schedule-container .fc-time-grid-event.fc-short .fc-content{display:flex}.schedule-container .fc-time-grid-event.fc-short .fc-title{display:inline-block;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.schedule-container .commitment-event{background-color:#d9d9d9;border-color:#d9d9d9}.schedule-container .commitment-event:hover{cursor:pointer}.schedule-container .fc-header-toolbar .fc-left{margin-left:10px}.schedule-container .fc-button-group{font-size:.6rem}.schedule-container .fc-button-group .fc-button-primary{background-color:#fff;border-color:grey;color:grey;box-shadow:none}.schedule-container .fc-button-group .fc-button-primary:not(:disabled):active{box-shadow:none}.schedule-container .fc-time-grid-event.fc-short{min-height:1rem}.schedule-container .fc-time-grid-event.fc-short .fc-time::before{display:none}.schedule-container .fc-time-grid-event.fc-short .fc-time span{display:inline-block}.schedule-container .fc-time-grid .fc-slats .fc-minor td{border-top:0}.schedule-container .fc-time-grid-container{overflow:visible!important}.slds-scope .slds-button:not([disabled]){color:#0672d4}.slds-scope .slds-button.slds-button_brand{color:#fff}.slds-scope .slds-button.decline-button:not([disabled]){color:#c13834;border-color:#c13834}.slds-scope .slds-button.accept-button:not([disabled]){color:#fff}.slds-scope .slds-slider__range{-webkit-appearance:none}.slds-scope .slds-slider__range::-webkit-slider-thumb{-webkit-appearance:none;appearance:none}.initialize-softphone .slds-spinner{margin-left:-6em}.slds-scope .cdk-overlay-container{position:absolute}.unread-icon{height:.5rem;width:.5rem;border-radius:50%;display:inline-block;background-color:#1589ee}.unread-icon.visited{background:0 0}.slds-scope .notes-control.notes-style{height:calc(100vh - 260px)}.slds-scope .destructive-control.destructive-button:not([disabled]){border-color:#c13834;color:#c13834}.slds-scope .delete-button-popoup.slds-button_success:not([disabled]){color:#fff}.title-style{font-size:1.2em}"]],data:{}});function wc(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,2,"label",[],null,null,null,null,null)),(n()(),o.Hb(1,null,["",""])),o.Bb(131072,d.i,[d.j,o.h])],null,function(n,t){n(t,1,0,o.Ib(t,1,0,o.Ab(t,2).transform("notes")))})}function Ic(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,2,"div",[["class","slds-col_padded slds-text-color_error text-wrap"]],null,null,null,null,null)),(n()(),o.Hb(1,null,[" "," "])),o.Bb(131072,d.i,[d.j,o.h])],null,function(n,t){var e=t.component;n(t,1,0,o.Ib(t,1,0,o.Ab(t,2).transform(e.error)))})}function Nc(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,14,"div",[["class","dialog-style"]],null,null,null,null,null)),(n()(),o.qb(1,0,null,null,4,"div",[["class","slds-grid slds-grid_vertical-align-center slds-m-top_x-small"]],null,null,null,null,null)),(n()(),o.qb(2,0,null,null,3,"div",[["class","slds-col_padded"]],null,null,null,null,null)),(n()(),o.qb(3,0,null,null,2,"label",[],null,null,null,null,null)),(n()(),o.Hb(4,null,["",""])),o.Bb(131072,d.i,[d.j,o.h]),(n()(),o.qb(6,0,null,null,8,"div",[["class","slds-grid slds-grid_vertical-align-center slds-m-top_large slds-m-bottom_small"]],null,null,null,null,null)),(n()(),o.qb(7,0,null,null,3,"div",[["class","slds-col_padded slds-size_1-of-2"]],null,null,null,null,null)),(n()(),o.qb(8,0,null,null,2,"button",[["class","slds-button destructive-control destructive-button slds-button_stretch"]],null,[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.close(!0)&&l),l},null,null)),(n()(),o.Hb(9,null,["",""])),o.Bb(131072,d.i,[d.j,o.h]),(n()(),o.qb(11,0,null,null,3,"div",[["class","slds-col_padded slds-size_1-of-2"]],null,null,null,null,null)),(n()(),o.qb(12,0,null,null,2,"button",[["class","delete-button-popoup slds-button slds-button_success slds-button_stretch"]],null,[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.deleteCommitment()&&l),l},null,null)),(n()(),o.Hb(13,null,["",""])),o.Bb(131072,d.i,[d.j,o.h])],null,function(n,t){n(t,4,0,o.Ib(t,4,0,o.Ab(t,5).transform("commitmentDeleteConfirmationMsg"))),n(t,9,0,o.Ib(t,9,0,o.Ab(t,10).transform("cancel"))),n(t,13,0,o.Ib(t,13,0,o.Ab(t,14).transform("delete")))})}function xc(n){return o.Jb(0,[(n()(),o.hb(0,[["notesLabel",2]],null,0,null,wc)),(n()(),o.qb(1,0,null,null,33,"div",[],null,null,null,null,null)),(n()(),o.qb(2,0,null,null,7,"div",[["class","slds-p-around_small title-style"]],null,null,null,null,null)),(n()(),o.qb(3,0,null,null,2,"label",[],null,null,null,null,null)),(n()(),o.Hb(4,null,["",""])),o.Bb(131072,d.i,[d.j,o.h]),(n()(),o.qb(6,0,null,null,3,"span",[["class","slds-icon_container slds-float_right cursor-pointer"]],[[8,"title",0]],[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.close()&&l),l},null,null)),o.Bb(131072,d.i,[d.j,o.h]),(n()(),o.qb(8,0,null,null,1,":svg:svg",[["aria-hidden","true"],["class","slds-icon slds-icon-text-light slds-icon_x-small"]],null,null,null,null,null)),(n()(),o.qb(9,0,null,null,0,":svg:use",[[":xlink:href","/_slds/icons/utility-sprite/svg/symbols.svg#close"]],null,null,null,null,null)),(n()(),o.qb(10,0,null,null,2,"div",[["class","slds-grid slds-grid_vertical-align-center slds-m-top_small"]],null,null,null,null,null)),(n()(),o.hb(16777216,null,null,1,null,Ic)),o.pb(12,16384,null,0,Pt.l,[o.P,o.M],{ngIf:[0,"ngIf"]},null),(n()(),o.qb(13,0,null,null,12,"div",[["class","slds-grid slds-grid_vertical-align-center slds-m-top_small"]],null,null,null,null,null)),(n()(),o.qb(14,0,null,null,11,"div",[["class","slds-col_padded"]],null,null,null,null,null)),(n()(),o.qb(15,0,null,null,10,"ngl-textarea",[],[[2,"slds-form-element",null],[2,"slds-has-error",null]],null,null,_t.w,_t.k)),o.pb(16,1753088,null,1,Et.fc,[o.h],{label:[0,"label"]},null),o.Fb(335544320,1,{input:0}),(n()(),o.qb(18,0,null,0,7,"textarea",[["class","notes-control notes-style"],["ngl",""]],[[8,"placeholder",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"slds-textarea",null],[1,"aria-describedby",0]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,t,e){var l=!0,i=n.component;return"input"===t&&(l=!1!==o.Ab(n,19)._handleInput(e.target.value)&&l),"blur"===t&&(l=!1!==o.Ab(n,19).onTouched()&&l),"compositionstart"===t&&(l=!1!==o.Ab(n,19)._compositionStart()&&l),"compositionend"===t&&(l=!1!==o.Ab(n,19)._compositionEnd(e.target.value)&&l),"ngModelChange"===t&&(l=!1!==(i.deleteNotes=e)&&l),l},null,null)),o.pb(19,16384,null,0,Mt.b,[o.E,o.k,[2,Mt.a]],null,null),o.Eb(1024,null,Mt.f,function(n){return[n]},[Mt.b]),o.pb(21,671744,null,0,Mt.i,[[8,null],[8,null],[8,null],[6,Mt.f]],{model:[0,"model"]},{update:"ngModelChange"}),o.Eb(2048,null,Mt.g,null,[Mt.i]),o.pb(23,16384,null,0,Mt.h,[[4,Mt.g]],null,null),o.pb(24,16384,[[1,4]],0,Et.gc,[o.k,o.E],null,null),o.Bb(131072,d.i,[d.j,o.h]),(n()(),o.qb(26,0,null,null,8,"div",[["class","slds-grid slds-grid_vertical-align-center slds-m-bottom_small pull-down"]],null,null,null,null,null)),(n()(),o.qb(27,0,null,null,3,"div",[["class","slds-col_padded slds-size_1-of-2"]],null,null,null,null,null)),(n()(),o.qb(28,0,null,null,2,"button",[["class","slds-button slds-button_neutral slds-button_stretch"]],null,[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.close()&&l),l},null,null)),(n()(),o.Hb(29,null,["",""])),o.Bb(131072,d.i,[d.j,o.h]),(n()(),o.qb(31,0,null,null,3,"div",[["class","slds-col_padded slds-size_1-of-2"]],null,null,null,null,null)),(n()(),o.qb(32,0,null,null,2,"button",[["class","slds-button destructive-control destructive-button slds-button_stretch"]],null,[[null,"click"]],function(n,t,e){var l=!0,o=n.component;return"click"===t&&(e.target.blur(),l=!1!==o.showConfirmationDialog()&&l),l},null,null)),(n()(),o.Hb(33,null,["",""])),o.Bb(131072,d.i,[d.j,o.h]),(n()(),o.hb(16777216,null,null,1,null,Nc)),o.pb(36,16384,null,0,Pt.l,[o.P,o.M],{ngIf:[0,"ngIf"]},null)],function(n,t){var e=t.component;n(t,12,0,e.hasError),n(t,16,0,o.Ab(t,0)),n(t,21,0,e.deleteNotes),n(t,36,0,e.showConfirmDialog)},function(n,t){n(t,4,0,o.Ib(t,4,0,o.Ab(t,5).transform("deleteCommitment"))),n(t,6,0,o.sb(1,"",o.Ib(t,6,0,o.Ab(t,7).transform("close")),"")),n(t,15,0,!0,o.Ab(t,16).hasError),n(t,18,0,o.sb(1,"",o.Ib(t,18,0,o.Ab(t,25).transform("deleteNotes")),""),o.Ab(t,23).ngClassUntouched,o.Ab(t,23).ngClassTouched,o.Ab(t,23).ngClassPristine,o.Ab(t,23).ngClassDirty,o.Ab(t,23).ngClassValid,o.Ab(t,23).ngClassInvalid,o.Ab(t,23).ngClassPending,!0,o.Ab(t,24).describedBy),n(t,29,0,o.Ib(t,29,0,o.Ab(t,30).transform("cancel"))),n(t,33,0,o.Ib(t,33,0,o.Ab(t,34).transform("delete")))})}var Ac=e("VLNC"),Tc=o.ob({encapsulation:2,styles:[[".slds-scope .slds-form-element__legend{font-weight:400}.time-dropdown .dropDown .combox-down-icon svg{display:none}.slds-scope .slds-textarea{resize:none}.slds-scope .slds-datepicker td{padding:0}.slds-scope .timezone-dropdown .dropDown #dropdown-menu{max-height:26vh}.commitment-content .button-overflow{white-space:nowrap;text-overflow:ellipsis;overflow:hidden}"]],data:{}});function Ec(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,2,"label",[],null,null,null,null,null)),(n()(),o.Hb(1,null,["",""])),o.Bb(131072,d.i,[d.j,o.h])],null,function(n,t){n(t,1,0,o.Ib(t,1,0,o.Ab(t,2).transform("firstName")))})}function Dc(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,2,"label",[],null,null,null,null,null)),(n()(),o.Hb(1,null,["",""])),o.Bb(131072,d.i,[d.j,o.h])],null,function(n,t){n(t,1,0,o.Ib(t,1,0,o.Ab(t,2).transform("lastName")))})}function Uc(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,2,"label",[],null,null,null,null,null)),(n()(),o.Hb(1,null,["",""])),o.Bb(131072,d.i,[d.j,o.h])],null,function(n,t){n(t,1,0,o.Ib(t,1,0,o.Ab(t,2).transform("phone")))})}function qc(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,2,"label",[],null,null,null,null,null)),(n()(),o.Hb(1,null,["",""])),o.Bb(131072,d.i,[d.j,o.h])],null,function(n,t){n(t,1,0,o.Ib(t,1,0,o.Ab(t,2).transform("me")))})}function Lc(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,2,"label",[],null,null,null,null,null)),(n()(),o.Hb(1,null,["",""])),o.Bb(131072,d.i,[d.j,o.h])],null,function(n,t){n(t,1,0,o.Ib(t,1,0,o.Ab(t,2).transform("skill")))})}function Bc(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,2,"label",[],null,null,null,null,null)),(n()(),o.Hb(1,null,["",""])),o.Bb(131072,d.i,[d.j,o.h])],null,function(n,t){n(t,1,0,o.Ib(t,1,0,o.Ab(t,2).transform("scheduledFor")))})}function Rc(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,2,"label",[],null,null,null,null,null)),(n()(),o.Hb(1,null,["",""])),o.Bb(131072,d.i,[d.j,o.h])],null,function(n,t){n(t,1,0,o.Ib(t,1,0,o.Ab(t,2).transform("date")))})}function jc(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,2,"label",[],null,null,null,null,null)),(n()(),o.Hb(1,null,["",""])),o.Bb(131072,d.i,[d.j,o.h])],null,function(n,t){n(t,1,0,o.Ib(t,1,0,o.Ab(t,2).transform("time")))})}function Jc(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,2,"label",[],null,null,null,null,null)),(n()(),o.Hb(1,null,["",""])),o.Bb(131072,d.i,[d.j,o.h])],null,function(n,t){n(t,1,0,o.Ib(t,1,0,o.Ab(t,2).transform("selectDate")))})}function Fc(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,2,"label",[],null,null,null,null,null)),(n()(),o.Hb(1,null,["",""])),o.Bb(131072,d.i,[d.j,o.h])],null,function(n,t){n(t,1,0,o.Ib(t,1,0,o.Ab(t,2).transform("selectTime")))})}function zc(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,2,"label",[],null,null,null,null,null)),(n()(),o.Hb(1,null,["",""])),o.Bb(131072,d.i,[d.j,o.h])],null,function(n,t){n(t,1,0,o.Ib(t,1,0,o.Ab(t,2).transform("timezone")))})}function Hc(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,2,"label",[],null,null,null,null,null)),(n()(),o.Hb(1,null,["",""])),o.Bb(131072,d.i,[d.j,o.h])],null,function(n,t){n(t,1,0,o.Ib(t,1,0,o.Ab(t,2).transform("notes")))})}function Wc(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,3,"span",[["class","slds-icon_container slds-float_right cursor-pointer"]],[[8,"title",0]],[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.close()&&l),l},null,null)),o.Bb(131072,d.i,[d.j,o.h]),(n()(),o.qb(2,0,null,null,1,":svg:svg",[["aria-hidden","true"],["class","slds-icon slds-icon-text-light slds-icon_x-small"]],null,null,null,null,null)),(n()(),o.qb(3,0,null,null,0,":svg:use",[[":xlink:href","/_slds/icons/utility-sprite/svg/symbols.svg#close"]],null,null,null,null,null))],null,function(n,t){n(t,0,0,o.sb(1,"",o.Ib(t,0,0,o.Ab(t,1).transform("close")),""))})}function Vc(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,2,"div",[["class","slds-text-color_error text-wrap slds-p-top_xx-small"]],null,null,null,null,null)),(n()(),o.Hb(1,null,[" "," "])),o.Bb(131072,d.i,[d.j,o.h])],null,function(n,t){var e=t.component;n(t,1,0,o.Ib(t,1,0,o.Ab(t,2).transform(e.error)))})}function Gc(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,6,"div",[["class","slds-grid slds-grid_vertical-align-center slds-m-top_x-small"]],null,null,null,null,null)),(n()(),o.qb(1,0,null,null,5,"div",[["class","slds-col_padded"]],null,null,null,null,null)),(n()(),o.qb(2,0,null,null,2,"label",[],null,null,null,null,null)),(n()(),o.Hb(3,null,["",""])),o.Bb(131072,d.i,[d.j,o.h]),(n()(),o.qb(5,0,null,null,1,"label",[["class","slds-m-left_xx-small"]],null,null,null,null,null)),(n()(),o.Hb(6,null,["",""]))],null,function(n,t){var e=t.component;n(t,3,0,o.Ib(t,3,0,o.Ab(t,4).transform("commitmentReminderMsg"))),n(t,6,0,e.displayTime)})}function Xc(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,4,"div",[["class","slds-col_padded slds-size_1-of-2"]],null,null,null,null,null)),(n()(),o.qb(1,0,null,null,3,"button",[["class","slds-button slds-button_neutral slds-button_stretch button-overflow"]],[[8,"disabled",0],[8,"title",0]],[[null,"click"]],function(n,t,e){var l=!0,o=n.component;return"click"===t&&(e.target.blur(),l=!1!==o.deleteCommitment()&&l),l},null,null)),o.Bb(131072,d.i,[d.j,o.h]),(n()(),o.Hb(3,null,["",""])),o.Bb(131072,d.i,[d.j,o.h])],null,function(n,t){var e=t.component;n(t,1,0,null==e.commitmentModel?null:e.commitmentModel.isReschedule,o.sb(1,"",o.Ib(t,1,1,o.Ab(t,2).transform("deleteCommitment")),"")),n(t,3,0,o.Ib(t,3,0,o.Ab(t,4).transform("deleteCommitment")))})}function Qc(n){return o.Jb(0,[o.Fb(402653184,1,{deleteComponentRef:0}),(n()(),o.hb(0,[["firstNameLabel",2]],null,0,null,Ec)),(n()(),o.hb(0,[["lastNameLabel",2]],null,0,null,Dc)),(n()(),o.hb(0,[["phoneLabel",2]],null,0,null,Uc)),(n()(),o.hb(0,[["meLabel",2]],null,0,null,qc)),(n()(),o.hb(0,[["skillLabel",2]],null,0,null,Lc)),(n()(),o.hb(0,[["scheduledForLabel",2]],null,0,null,Bc)),(n()(),o.hb(0,[["dateLabel",2]],null,0,null,Rc)),(n()(),o.hb(0,[["timeLabel",2]],null,0,null,jc)),(n()(),o.hb(0,[["selectDateLabel",2]],null,0,null,Jc)),(n()(),o.hb(0,[["selectTimeLabel",2]],null,0,null,Fc)),(n()(),o.hb(0,[["timezoneLabel",2]],null,0,null,zc)),(n()(),o.hb(0,[["notesLabel",2]],null,0,null,Hc)),(n()(),o.qb(13,0,null,null,118,"div",[["class","commitment-content"]],null,null,null,null,null)),(n()(),o.qb(14,0,null,null,7,"div",[["class","slds-p-around_x-small"]],null,null,null,null,null)),(n()(),o.qb(15,0,null,null,2,"label",[],null,null,null,null,null)),(n()(),o.Hb(16,null,["",""])),o.Bb(131072,d.i,[d.j,o.h]),(n()(),o.hb(16777216,null,null,1,null,Wc)),o.pb(19,16384,null,0,Pt.l,[o.P,o.M],{ngIf:[0,"ngIf"]},null),(n()(),o.hb(16777216,null,null,1,null,Vc)),o.pb(21,16384,null,0,Pt.l,[o.P,o.M],{ngIf:[0,"ngIf"]},null),(n()(),o.qb(22,0,null,null,24,"div",[["class","slds-grid slds-grid_vertical-align-center"]],null,null,null,null,null)),(n()(),o.qb(23,0,null,null,11,"div",[["class","slds-col_padded"]],null,null,null,null,null)),(n()(),o.qb(24,0,null,null,10,"ngl-input",[],[[2,"slds-form-element",null],[2,"slds-has-error",null]],null,null,_t.q,_t.e)),o.pb(25,1753088,null,1,Et.yb,[o.h],{label:[0,"label"]},null),o.Fb(335544320,2,{input:0}),(n()(),o.qb(27,0,null,0,7,"input",[["ngl",""],["type","input"]],[[8,"placeholder",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"slds-input",null],[1,"aria-describedby",0]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,t,e){var l=!0,i=n.component;return"input"===t&&(l=!1!==o.Ab(n,28)._handleInput(e.target.value)&&l),"blur"===t&&(l=!1!==o.Ab(n,28).onTouched()&&l),"compositionstart"===t&&(l=!1!==o.Ab(n,28)._compositionStart()&&l),"compositionend"===t&&(l=!1!==o.Ab(n,28)._compositionEnd(e.target.value)&&l),"ngModelChange"===t&&(l=!1!==(i.commitmentModel.firstName=e)&&l),l},null,null)),o.pb(28,16384,null,0,Mt.b,[o.E,o.k,[2,Mt.a]],null,null),o.Eb(1024,null,Mt.f,function(n){return[n]},[Mt.b]),o.pb(30,671744,null,0,Mt.i,[[8,null],[8,null],[8,null],[6,Mt.f]],{isDisabled:[0,"isDisabled"],model:[1,"model"]},{update:"ngModelChange"}),o.Eb(2048,null,Mt.g,null,[Mt.i]),o.pb(32,16384,null,0,Mt.h,[[4,Mt.g]],null,null),o.pb(33,16384,[[2,4]],0,Et.zb,[o.k,o.E],null,null),o.Bb(131072,d.i,[d.j,o.h]),(n()(),o.qb(35,0,null,null,11,"div",[["class","slds-col_padded"]],null,null,null,null,null)),(n()(),o.qb(36,0,null,null,10,"ngl-input",[],[[2,"slds-form-element",null],[2,"slds-has-error",null]],null,null,_t.q,_t.e)),o.pb(37,1753088,null,1,Et.yb,[o.h],{label:[0,"label"]},null),o.Fb(335544320,3,{input:0}),(n()(),o.qb(39,0,null,0,7,"input",[["ngl",""],["type","input"]],[[8,"placeholder",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"slds-input",null],[1,"aria-describedby",0]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,t,e){var l=!0,i=n.component;return"input"===t&&(l=!1!==o.Ab(n,40)._handleInput(e.target.value)&&l),"blur"===t&&(l=!1!==o.Ab(n,40).onTouched()&&l),"compositionstart"===t&&(l=!1!==o.Ab(n,40)._compositionStart()&&l),"compositionend"===t&&(l=!1!==o.Ab(n,40)._compositionEnd(e.target.value)&&l),"ngModelChange"===t&&(l=!1!==(i.commitmentModel.lastName=e)&&l),l},null,null)),o.pb(40,16384,null,0,Mt.b,[o.E,o.k,[2,Mt.a]],null,null),o.Eb(1024,null,Mt.f,function(n){return[n]},[Mt.b]),o.pb(42,671744,null,0,Mt.i,[[8,null],[8,null],[8,null],[6,Mt.f]],{isDisabled:[0,"isDisabled"],model:[1,"model"]},{update:"ngModelChange"}),o.Eb(2048,null,Mt.g,null,[Mt.i]),o.pb(44,16384,null,0,Mt.h,[[4,Mt.g]],null,null),o.pb(45,16384,[[3,4]],0,Et.zb,[o.k,o.E],null,null),o.Bb(131072,d.i,[d.j,o.h]),(n()(),o.qb(47,0,null,null,12,"div",[["class","slds-grid slds-grid_vertical-align-center slds-m-top_xx-small"]],null,null,null,null,null)),(n()(),o.qb(48,0,null,null,11,"div",[["class","slds-col_padded"]],null,null,null,null,null)),(n()(),o.qb(49,0,null,null,10,"ngl-input",[],[[2,"slds-form-element",null],[2,"slds-has-error",null]],null,null,_t.q,_t.e)),o.pb(50,1753088,null,1,Et.yb,[o.h],{label:[0,"label"]},null),o.Fb(335544320,4,{input:0}),(n()(),o.qb(52,0,null,0,7,"input",[["ngl",""],["type","input"]],[[8,"placeholder",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"slds-input",null],[1,"aria-describedby",0]],[[null,"keypress"],[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,t,e){var l=!0,i=n.component;return"input"===t&&(l=!1!==o.Ab(n,53)._handleInput(e.target.value)&&l),"blur"===t&&(l=!1!==o.Ab(n,53).onTouched()&&l),"compositionstart"===t&&(l=!1!==o.Ab(n,53)._compositionStart()&&l),"compositionend"===t&&(l=!1!==o.Ab(n,53)._compositionEnd(e.target.value)&&l),"keypress"===t&&(l=!1!==i.allowNumberAndPlusOnly(e)&&l),"ngModelChange"===t&&(l=!1!==(i.commitmentModel.phoneNumber=e)&&l),l},null,null)),o.pb(53,16384,null,0,Mt.b,[o.E,o.k,[2,Mt.a]],null,null),o.Eb(1024,null,Mt.f,function(n){return[n]},[Mt.b]),o.pb(55,671744,null,0,Mt.i,[[8,null],[8,null],[8,null],[6,Mt.f]],{isDisabled:[0,"isDisabled"],model:[1,"model"]},{update:"ngModelChange"}),o.Eb(2048,null,Mt.g,null,[Mt.i]),o.pb(57,16384,null,0,Mt.h,[[4,Mt.g]],null,null),o.pb(58,16384,[[4,4]],0,Et.zb,[o.k,o.E],null,null),o.Bb(131072,d.i,[d.j,o.h]),(n()(),o.qb(60,0,null,null,13,"div",[["class","slds-grid slds-grid_vertical-align-center slds-m-top_xx-small"]],null,null,null,null,null)),(n()(),o.qb(61,0,null,null,12,"div",[["class","slds-col_padded"]],null,null,null,null,null)),(n()(),o.qb(62,0,null,null,11,"fieldset",[["ngl-radio-group",""]],[[2,"slds-form-element",null],[2,"slds-has-error",null]],null,null,_t.t,_t.h)),o.pb(63,573440,null,0,Et.Rb,[],{label:[0,"label"]},null),(n()(),o.qb(64,0,null,0,4,"ngl-radio-option",[],[[2,"slds-radio",null],[2,"slds-button",null],[2,"slds-radio_button",null]],null,null,_t.u,_t.i)),o.pb(65,1294336,null,1,Et.Sb,[Et.Rb,o.h],{label:[0,"label"]},null),o.Fb(335544320,5,{input:0}),(n()(),o.qb(67,0,null,0,1,"input",[["ngl",""],["type","radio"]],[[8,"checked",0],[8,"disabled",0],[1,"name",0],[1,"aria-describedby",0]],[[null,"change"]],function(n,t,e){var l=!0;return"change"===t&&(l=!1!==n.component.onTargetChange("A")&&l),l},null,null)),o.pb(68,16384,[[5,4]],0,Et.Tb,[o.k,o.E],null,null),(n()(),o.qb(69,0,null,0,4,"ngl-radio-option",[],[[2,"slds-radio",null],[2,"slds-button",null],[2,"slds-radio_button",null]],null,null,_t.u,_t.i)),o.pb(70,1294336,null,1,Et.Sb,[Et.Rb,o.h],{label:[0,"label"]},null),o.Fb(335544320,6,{input:0}),(n()(),o.qb(72,0,null,0,1,"input",[["ngl",""],["type","radio"]],[[8,"checked",0],[8,"disabled",0],[1,"name",0],[1,"aria-describedby",0]],[[null,"change"]],function(n,t,e){var l=!0;return"change"===t&&(l=!1!==n.component.onTargetChange("S")&&l),l},null,null)),o.pb(73,16384,[[6,4]],0,Et.Tb,[o.k,o.E],null,null),(n()(),o.qb(74,0,null,null,6,"div",[["class","slds-m-top_xx-small"]],null,null,null,null,null)),(n()(),o.qb(75,0,null,null,5,"div",[["class","slds-m-around_small "]],null,null,null,null,null)),(n()(),o.qb(76,0,null,null,2,"span",[],null,null,null,null,null)),(n()(),o.Hb(77,null,["",""])),o.Bb(131072,d.i,[d.j,o.h]),(n()(),o.qb(79,0,null,null,1,"app-combo-box",[["selectedLabels","selectSkill"]],null,[[null,"changeEvent"]],function(n,t,e){var l=!0;return"changeEvent"===t&&(l=!1!==n.component.onSelectSkill(e)&&l),l},ce,ee)),o.pb(80,573440,null,0,te,[S,f],{options:[0,"options"],isMultiSelect:[1,"isMultiSelect"],selectedOptions:[2,"selectedOptions"],disabled:[3,"disabled"],selectedLabels:[4,"selectedLabels"]},{changeEvent:"changeEvent"}),(n()(),o.qb(81,0,null,null,19,"div",[["class","slds-grid slds-grid_vertical-align-center slds-m-top_xx-small"]],null,null,null,null,null)),(n()(),o.qb(82,0,null,null,8,"div",[["class","slds-col_padded slds-size_1-of-2"]],null,null,null,null,null)),(n()(),o.qb(83,0,null,null,7,"ngl-datepicker-input",[["class","cursor-pointer"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],function(n,t,e){var l=!0;return"ngModelChange"===t&&(l=!1!==(n.component.commitmentModel.start=e)&&l),l},_t.o,_t.c)),o.Eb(512,null,Et.lc,Et.lc,[o.F]),o.pb(85,770048,null,0,Et.ib,[[2,Et.b],o.k,o.E,o.h,Et.lc,o.z,as.c,Et.jb],{label:[0,"label"],placeholder:[1,"placeholder"],min:[2,"min"],showToday:[3,"showToday"]},null),o.Eb(1024,null,Mt.e,function(n){return[n]},[Et.ib]),o.Eb(1024,null,Mt.f,function(n){return[n]},[Et.ib]),o.pb(88,671744,null,0,Mt.i,[[8,null],[6,Mt.e],[8,null],[6,Mt.f]],{model:[0,"model"]},{update:"ngModelChange"}),o.Eb(2048,null,Mt.g,null,[Mt.i]),o.pb(90,16384,null,0,Mt.h,[[4,Mt.g]],null,null),(n()(),o.qb(91,0,null,null,9,"div",[["class","slds-col_padded slds-size_1-of-2"]],null,null,null,null,null)),(n()(),o.qb(92,0,null,null,8,"div",[["class","slds-input-has-icon slds-input-has-icon_right slds-m-top_xx-small time-dropdown slds-p-bottom_xx-small"]],null,null,null,null,null)),(n()(),o.qb(93,0,null,null,2,"span",[],null,null,null,null,null)),(n()(),o.Hb(94,null,["",""])),o.Bb(131072,d.i,[d.j,o.h]),(n()(),o.qb(96,0,null,null,1,"app-combo-box",[["editable","true"]],null,[[null,"textChangedEvent"],[null,"changeEvent"]],function(n,t,e){var l=!0,o=n.component;return"textChangedEvent"===t&&(l=!1!==o.onTimeChanged(e)&&l),"changeEvent"===t&&(l=!1!==o.onSelectTime(e)&&l),l},ce,ee)),o.pb(97,573440,null,0,te,[S,f],{options:[0,"options"],isMultiSelect:[1,"isMultiSelect"],selectedOptions:[2,"selectedOptions"],editable:[3,"editable"],selectedLabels:[4,"selectedLabels"]},{changeEvent:"changeEvent",textChangedEvent:"textChangedEvent"}),(n()(),o.qb(98,0,null,null,2,"span",[["class","slds-icon_container slds-icon-utility-clock slds-input__icon slds-input__icon_right slds-p-top_x-small cursor-pointer"]],null,null,null,null,null)),(n()(),o.qb(99,0,null,null,1,":svg:svg",[["aria-hidden","true"],["class","slds-icon slds-icon slds-icon_x-small slds-icon-text-default"]],null,null,null,null,null)),(n()(),o.qb(100,0,null,null,0,":svg:use",[[":xlink:href","/_slds/icons/utility-sprite/svg/symbols.svg#clock"]],null,null,null,null,null)),(n()(),o.qb(101,0,null,null,6,"div",[["class","slds-m-top_xx-small"]],null,null,null,null,null)),(n()(),o.qb(102,0,null,null,5,"div",[["class","slds-m-around_small timezone-dropdown"]],null,null,null,null,null)),(n()(),o.qb(103,0,null,null,2,"span",[],null,null,null,null,null)),(n()(),o.Hb(104,null,["",""])),o.Bb(131072,d.i,[d.j,o.h]),(n()(),o.qb(106,0,null,null,1,"app-combo-box",[],null,[[null,"changeEvent"]],function(n,t,e){var l=!0;return"changeEvent"===t&&(l=!1!==n.component.onSelectTimezone(e)&&l),l},ce,ee)),o.pb(107,573440,null,0,te,[S,f],{options:[0,"options"],isMultiSelect:[1,"isMultiSelect"],selectedOptions:[2,"selectedOptions"]},{changeEvent:"changeEvent"}),(n()(),o.qb(108,0,null,null,12,"div",[["class","slds-grid slds-grid_vertical-align-center slds-m-top_xx-small"]],null,null,null,null,null)),(n()(),o.qb(109,0,null,null,11,"div",[["class","slds-col_padded"]],null,null,null,null,null)),(n()(),o.qb(110,0,null,null,10,"ngl-textarea",[],[[2,"slds-form-element",null],[2,"slds-has-error",null]],null,null,_t.w,_t.k)),o.pb(111,1753088,null,1,Et.fc,[o.h],{label:[0,"label"]},null),o.Fb(335544320,7,{input:0}),(n()(),o.qb(113,0,null,0,7,"textarea",[["ngl",""]],[[8,"placeholder",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"slds-textarea",null],[1,"aria-describedby",0]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,t,e){var l=!0,i=n.component;return"input"===t&&(l=!1!==o.Ab(n,114)._handleInput(e.target.value)&&l),"blur"===t&&(l=!1!==o.Ab(n,114).onTouched()&&l),"compositionstart"===t&&(l=!1!==o.Ab(n,114)._compositionStart()&&l),"compositionend"===t&&(l=!1!==o.Ab(n,114)._compositionEnd(e.target.value)&&l),"ngModelChange"===t&&(l=!1!==(i.commitmentModel.notes=e)&&l),l},null,null)),o.pb(114,16384,null,0,Mt.b,[o.E,o.k,[2,Mt.a]],null,null),o.Eb(1024,null,Mt.f,function(n){return[n]},[Mt.b]),o.pb(116,671744,null,0,Mt.i,[[8,null],[8,null],[8,null],[6,Mt.f]],{isDisabled:[0,"isDisabled"],model:[1,"model"]},{update:"ngModelChange"}),o.Eb(2048,null,Mt.g,null,[Mt.i]),o.pb(118,16384,null,0,Mt.h,[[4,Mt.g]],null,null),o.pb(119,16384,[[7,4]],0,Et.gc,[o.k,o.E],null,null),o.Bb(131072,d.i,[d.j,o.h]),(n()(),o.hb(16777216,null,null,1,null,Gc)),o.pb(122,16384,null,0,Pt.l,[o.P,o.M],{ngIf:[0,"ngIf"]},null),(n()(),o.qb(123,0,null,null,8,"div",[["class","slds-grid slds-grid_vertical-align-center slds-m-top_large slds-p-bottom_small"]],null,null,null,null,null)),(n()(),o.hb(16777216,null,null,1,null,Xc)),o.pb(125,16384,null,0,Pt.l,[o.P,o.M],{ngIf:[0,"ngIf"]},null),(n()(),o.qb(126,0,null,null,5,"div",[["class","slds-col_padded"]],null,null,null,null,null)),o.pb(127,278528,null,0,Pt.j,[o.s,o.t,o.k,o.E],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),o.Cb(128,{"slds-size_1-of-2":0,"slds-size_1-of-1":1}),(n()(),o.qb(129,0,null,null,2,"button",[["class","slds-button slds-button_brand slds-button_stretch"]],[[8,"disabled",0]],[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.saveCommitment()&&l),l},null,null)),(n()(),o.Hb(130,null,["",""])),o.Bb(131072,d.i,[d.j,o.h]),(n()(),o.qb(132,0,null,null,6,"ngl-modal",[],null,[[null,"keydown.esc"],[null,"click"]],function(n,t,e){var l=!0;return"keydown.esc"===t&&(l=!1!==o.Ab(n,133).close(e)&&l),"click"===t&&(l=!1!==o.Ab(n,133).clickOutside(e)&&l),l},_t.r,_t.f)),o.pb(133,1753088,null,3,Et.Fb,[as.c,Pt.c,po.d,o.k],{size:[0,"size"],open:[1,"open"]},null),o.Fb(335544320,8,{headerTpl:0}),o.Fb(335544320,9,{taglineTpl:0}),o.Fb(335544320,10,{footer:0}),(n()(),o.qb(137,0,null,0,1,"app-commitment-delete",[],null,[[null,"modalCloseEvent"]],function(n,t,e){var l=!0;return"modalCloseEvent"===t&&(l=!1!==n.component.close(e)&&l),l},xc,kc)),o.pb(138,245760,[[1,4]],0,ct,[qn,_,f],{callbackId:[0,"callbackId"]},{modalCloseEvent:"modalCloseEvent"})],function(n,t){var e=t.component;n(t,19,0,!(null!=e.commitmentModel&&e.commitmentModel.isReschedule)),n(t,21,0,e.hasError),n(t,25,0,o.Ab(t,1)),n(t,30,0,null==e.commitmentModel?null:e.commitmentModel.isReschedule,null==e.commitmentModel?null:e.commitmentModel.firstName),n(t,37,0,o.Ab(t,2)),n(t,42,0,null==e.commitmentModel?null:e.commitmentModel.isReschedule,null==e.commitmentModel?null:e.commitmentModel.lastName),n(t,50,0,o.Ab(t,3)),n(t,55,0,null==e.commitmentModel?null:e.commitmentModel.isReschedule,null==e.commitmentModel?null:e.commitmentModel.phoneNumber),n(t,63,0,o.Ab(t,6)),n(t,65,0,o.Ab(t,4)),n(t,70,0,o.Ab(t,5)),n(t,80,0,e.agentOutboundSkills,!1,e.selectedSkill,null==e.commitmentModel?null:e.commitmentModel.isReschedule,"selectSkill"),n(t,85,0,o.Ab(t,7),o.Ab(t,9),e.dateMin,!1),n(t,88,0,null==e.commitmentModel?null:e.commitmentModel.start),n(t,97,0,e.timeOptions,!1,e.selectedTime,"true",e.selectedLabels),n(t,107,0,e.timezones,!1,e.selectedTimezone),n(t,111,0,o.Ab(t,12)),n(t,116,0,null==e.commitmentModel?null:e.commitmentModel.isReschedule,null==e.commitmentModel?null:e.commitmentModel.notes),n(t,122,0,null==e.commitmentModel?null:e.commitmentModel.isReschedule),n(t,125,0,null!=(null==e.commitmentModel?null:e.commitmentModel.id));var l=n(t,128,0,null!=(null==e.commitmentModel?null:e.commitmentModel.id),null==(null==e.commitmentModel?null:e.commitmentModel.id));n(t,127,0,"slds-col_padded",l),n(t,133,0,"large",e.deleteModalOpen),n(t,138,0,null==e.commitmentModel?null:e.commitmentModel.id)},function(n,t){var e=t.component;n(t,16,0,o.Ib(t,16,0,o.Ab(t,17).transform("scheduleCommitment"))),n(t,24,0,!0,o.Ab(t,25).hasError),n(t,27,0,o.sb(1,"",o.Ib(t,27,0,o.Ab(t,34).transform("inputText")),""),o.Ab(t,32).ngClassUntouched,o.Ab(t,32).ngClassTouched,o.Ab(t,32).ngClassPristine,o.Ab(t,32).ngClassDirty,o.Ab(t,32).ngClassValid,o.Ab(t,32).ngClassInvalid,o.Ab(t,32).ngClassPending,!0,o.Ab(t,33).describedBy),n(t,36,0,!0,o.Ab(t,37).hasError),n(t,39,0,o.sb(1,"",o.Ib(t,39,0,o.Ab(t,46).transform("inputText")),""),o.Ab(t,44).ngClassUntouched,o.Ab(t,44).ngClassTouched,o.Ab(t,44).ngClassPristine,o.Ab(t,44).ngClassDirty,o.Ab(t,44).ngClassValid,o.Ab(t,44).ngClassInvalid,o.Ab(t,44).ngClassPending,!0,o.Ab(t,45).describedBy),n(t,49,0,!0,o.Ab(t,50).hasError),n(t,52,0,o.sb(1,"",o.Ib(t,52,0,o.Ab(t,59).transform("inputText")),""),o.Ab(t,57).ngClassUntouched,o.Ab(t,57).ngClassTouched,o.Ab(t,57).ngClassPristine,o.Ab(t,57).ngClassDirty,o.Ab(t,57).ngClassValid,o.Ab(t,57).ngClassInvalid,o.Ab(t,57).ngClassPending,!0,o.Ab(t,58).describedBy),n(t,62,0,!0,o.Ab(t,63).hasError),n(t,64,0,o.Ab(t,65).isTypeList,o.Ab(t,65).isTypeButton,o.Ab(t,65).isTypeButton),n(t,67,0,"A"===(null==e.commitmentModel?null:e.commitmentModel.target),null==e.commitmentModel?null:e.commitmentModel.isReschedule,o.Ab(t,68).name,o.Ab(t,68).describedBy),n(t,69,0,o.Ab(t,70).isTypeList,o.Ab(t,70).isTypeButton,o.Ab(t,70).isTypeButton),n(t,72,0,"S"===(null==e.commitmentModel?null:e.commitmentModel.target),null==e.commitmentModel?null:e.commitmentModel.isReschedule,o.Ab(t,73).name,o.Ab(t,73).describedBy),n(t,77,0,o.Ib(t,77,0,o.Ab(t,78).transform("skill"))),n(t,83,0,o.Ab(t,90).ngClassUntouched,o.Ab(t,90).ngClassTouched,o.Ab(t,90).ngClassPristine,o.Ab(t,90).ngClassDirty,o.Ab(t,90).ngClassValid,o.Ab(t,90).ngClassInvalid,o.Ab(t,90).ngClassPending),n(t,94,0,o.Ib(t,94,0,o.Ab(t,95).transform("time"))),n(t,104,0,o.Ib(t,104,0,o.Ab(t,105).transform("timezone"))),n(t,110,0,!0,o.Ab(t,111).hasError),n(t,113,0,o.sb(1,"",o.Ib(t,113,0,o.Ab(t,120).transform("scheduleNotes")),""),o.Ab(t,118).ngClassUntouched,o.Ab(t,118).ngClassTouched,o.Ab(t,118).ngClassPristine,o.Ab(t,118).ngClassDirty,o.Ab(t,118).ngClassValid,o.Ab(t,118).ngClassInvalid,o.Ab(t,118).ngClassPending,!0,o.Ab(t,119).describedBy),n(t,129,0,e.isSaveDisabled),n(t,130,0,o.Ib(t,130,0,o.Ab(t,131).transform("save")))})}function $c(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,2,"app-commitment-detail",[],null,null,null,Qc,Tc)),o.Eb(512,null,st,st,[]),o.pb(2,245760,null,0,rt,[qn,_,st,f,Dn,Ac.a,Bn,p,Hn,o.h,Un,P],null,null)],function(n,t){n(t,2,0)},null)}var Kc=o.mb("app-commitment-detail",rt,$c,{commitmentModel:"commitmentModel"},{},[]),Yc=function(){function n(n){this.element=n}return n.prototype.onInputChange=function(n){var t=this.element.nativeElement.value;this.element.nativeElement.value=t.replace(/[^0-9 #*+]*/g,""),t!==this.element.nativeElement.value&&n.stopPropagation()},n}(),Zc=o.ob({encapsulation:0,styles:[[".full-height[_ngcontent-%COMP%], html[_ngcontent-%COMP%], html[_ngcontent-%COMP%]   body[_ngcontent-%COMP%]{height:100%}.no-strech[_ngcontent-%COMP%]{flex:0}.strech[_ngcontent-%COMP%]{flex:1;position:relative}.no-scroll[_ngcontent-%COMP%]{overflow:hidden}.full-height-flex[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;justify-content:center}.center-align[_ngcontent-%COMP%]{text-align:center}.cursor-pointer[_ngcontent-%COMP%]{cursor:pointer}.text-wrap[_ngcontent-%COMP%]{word-wrap:break-word}.text-bold[_ngcontent-%COMP%]{font-weight:700}.cdk-overlay-container[_ngcontent-%COMP%]   .slds-modal__container[_ngcontent-%COMP%]{margin:0;padding:0}.cdk-overlay-container[_ngcontent-%COMP%]   .slds-modal__content[_ngcontent-%COMP%]{height:100%}.cdk-global-scrollblock[_ngcontent-%COMP%]{overflow-y:auto!important}@media (min-width:48em){.slds-scope[_ngcontent-%COMP%]   .slds-modal--large[_ngcontent-%COMP%]   .slds-modal__container[_ngcontent-%COMP%], .slds-scope[_ngcontent-%COMP%]   .slds-modal_large[_ngcontent-%COMP%]   .slds-modal__container[_ngcontent-%COMP%]{width:100%;height:100%}}.pull-down[_ngcontent-%COMP%]{position:absolute;bottom:0;width:100%}.dialog-style[_ngcontent-%COMP%]{position:fixed;top:0;background-color:#fff;right:0;left:0;box-shadow:0 0 5px grey;z-index:1001}.schedule-container[_ngcontent-%COMP%]   .fc-widget-content[_ngcontent-%COMP%]{background-color:#fff}.schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%]{opacity:.75;text-indent:3px}.schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-event[_ngcontent-%COMP%]{border-radius:0;cursor:default;color:#01396a;min-height:2rem}.schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-event[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%]{font-weight:700}.schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%]:hover, .schedule-container[_ngcontent-%COMP%]   .fc-event[_ngcontent-%COMP%]:hover{text-decoration:none;color:#01396a}.schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%]   .fc-title[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-event[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-event[_ngcontent-%COMP%]   .fc-title[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-slats[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-slats[_ngcontent-%COMP%]   .fc-title[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-title[_ngcontent-%COMP%]{font-size:.8rem}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-content[_ngcontent-%COMP%]{display:flex}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-title[_ngcontent-%COMP%]{display:inline-block;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.schedule-container[_ngcontent-%COMP%]   .commitment-event[_ngcontent-%COMP%]{background-color:#d9d9d9;border-color:#d9d9d9}.schedule-container[_ngcontent-%COMP%]   .commitment-event[_ngcontent-%COMP%]:hover{cursor:pointer}.schedule-container[_ngcontent-%COMP%]   .fc-header-toolbar[_ngcontent-%COMP%]   .fc-left[_ngcontent-%COMP%]{margin-left:10px}.schedule-container[_ngcontent-%COMP%]   .fc-button-group[_ngcontent-%COMP%]{font-size:.6rem}.schedule-container[_ngcontent-%COMP%]   .fc-button-group[_ngcontent-%COMP%]   .fc-button-primary[_ngcontent-%COMP%]{background-color:#fff;border-color:grey;color:grey;box-shadow:none}.schedule-container[_ngcontent-%COMP%]   .fc-button-group[_ngcontent-%COMP%]   .fc-button-primary[_ngcontent-%COMP%]:not(:disabled):active{box-shadow:none}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]{min-height:1rem}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%]::before{display:none}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid[_ngcontent-%COMP%]   .fc-slats[_ngcontent-%COMP%]   .fc-minor[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-top:0}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-container[_ngcontent-%COMP%]{overflow:visible!important}.slds-scope[_ngcontent-%COMP%]   .slds-button[_ngcontent-%COMP%]:not([disabled]){color:#0672d4}.slds-scope[_ngcontent-%COMP%]   .slds-button.slds-button_brand[_ngcontent-%COMP%]{color:#fff}.slds-scope[_ngcontent-%COMP%]   .slds-button.decline-button[_ngcontent-%COMP%]:not([disabled]){color:#c13834;border-color:#c13834}.slds-scope[_ngcontent-%COMP%]   .slds-button.accept-button[_ngcontent-%COMP%]:not([disabled]){color:#fff}.slds-scope[_ngcontent-%COMP%]   .slds-slider__range[_ngcontent-%COMP%]{-webkit-appearance:none}.slds-scope[_ngcontent-%COMP%]   .slds-slider__range[_ngcontent-%COMP%]::-webkit-slider-thumb{-webkit-appearance:none;appearance:none}.initialize-softphone[_ngcontent-%COMP%]   .slds-spinner[_ngcontent-%COMP%]{margin-left:-6em}.slds-scope[_ngcontent-%COMP%]   .cdk-overlay-container[_ngcontent-%COMP%]{position:absolute}.unread-icon[_ngcontent-%COMP%]{height:.5rem;width:.5rem;border-radius:50%;display:inline-block;background-color:#1589ee}.unread-icon.visited[_ngcontent-%COMP%]{background:0 0}.dial-pad-height[_ngcontent-%COMP%]{height:100%}.input-text-size[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{font-size:.9em;padding:0 1rem 0 .5rem}.input-text-size[_ngcontent-%COMP%]::-webkit-input-placeholder, select[_ngcontent-%COMP%]::-webkit-input-placeholder{font-size:.9em}.input-text-size[_ngcontent-%COMP%]::-ms-input-placeholder, select[_ngcontent-%COMP%]::-ms-input-placeholder{font-size:.9em}.input-text-size[_ngcontent-%COMP%]::placeholder, select[_ngcontent-%COMP%]::placeholder{font-size:.9em}.icons-right[_ngcontent-%COMP%]{right:.3rem}.skills-dropdown[_ngcontent-%COMP%]{font-size:.9em;padding:0 1.2rem 0 .5rem;display:inline-block;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;text-align:left;cursor:pointer}.selected-dropdown-item[_ngcontent-%COMP%]{width:90%;display:inline-block;overflow:hidden;text-overflow:ellipsis}.dropdown-icon[_ngcontent-%COMP%]{top:.5rem;right:.5rem;position:absolute;opacity:.8}.dropdown-container[_ngcontent-%COMP%]{max-height:10rem;overflow-y:auto;width:100%}.hide-elements[_ngcontent-%COMP%]{visibility:hidden}.numbers[_ngcontent-%COMP%]{font-size:1rem}.alphabets[_ngcontent-%COMP%]{font-size:.7rem}.dialpad-button-section[_ngcontent-%COMP%]{top:1%}.dialpad-button-section[_ngcontent-%COMP%]   .call-button[_ngcontent-%COMP%]{width:100%;padding-left:1rem;padding-right:1rem;font-size:.9em;margin-left:0}"]],data:{}});function na(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,2,"span",[],null,null,null,null,null)),(n()(),o.Hb(1,null,["",""])),o.Bb(131072,d.i,[d.j,o.h])],null,function(n,t){n(t,1,0,o.Ib(t,1,0,o.Ab(t,2).transform("selectSkill")))})}function ta(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,1,"span",[["class","selected-dropdown-item"]],[[8,"title",0]],null,null,null,null)),(n()(),o.Hb(1,null,["",""]))],null,function(n,t){var e=t.component;n(t,0,0,e.selectedObPhoneSkill.label),n(t,1,0,e.selectedObPhoneSkill.label)})}function ea(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,4,"li",[["class","slds-dropdown__item"]],null,null,null,null,null)),(n()(),o.qb(1,0,null,null,3,"a",[["nglDropdownItem",""],["role","menuitem"],["tabindex","0"]],null,[[null,"click"],[null,"focus"],[null,"blur"]],function(n,t,e){var l=!0,i=n.component;return"focus"===t&&(l=!1!==o.Ab(n,2).onFocus()&&l),"blur"===t&&(l=!1!==o.Ab(n,2).onBlur()&&l),"click"===t&&(i.onSelectSkill(n.context.$implicit),l=0!=(i.open=!1)&&l),l},null,null)),o.pb(2,16384,[[2,4]],0,Et.Cb,[o.k],null,null),(n()(),o.qb(3,0,null,null,1,"p",[["class","slds-truncate"]],[[8,"title",0]],null,null,null,null)),(n()(),o.Hb(4,null,["",""]))],null,function(n,t){n(t,3,0,t.context.$implicit.label),n(t,4,0,t.context.$implicit.label)})}function la(n){return o.Jb(0,[o.Fb(402653184,1,{inputNumber:0}),(n()(),o.qb(1,0,null,null,109,"div",[["class","slds-grid slds-wrap slds-p-around_small dial-pad-height"]],null,null,null,null,null)),(n()(),o.qb(2,0,null,null,10,"div",[["class","slds-col slds-size_2-of-2 slds-is-relative"]],null,null,null,null,null)),(n()(),o.qb(3,0,null,null,2,"div",[["class","slds-text-heading_small slds-show_inline-block"]],null,null,null,null,null)),(n()(),o.Hb(4,null,[" "," "])),o.Bb(131072,d.i,[d.j,o.h]),(n()(),o.qb(6,0,null,null,6,"span",[["class","slds-icon_container slds-float_right cursor-pointer"]],[[8,"title",0]],[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.close()&&l),l},null,null)),o.Bb(131072,d.i,[d.j,o.h]),(n()(),o.qb(8,0,null,null,1,":svg:svg",[["aria-hidden","true"],["class","slds-icon slds-icon-text-light slds-icon_x-small"]],null,null,null,null,null)),(n()(),o.qb(9,0,null,null,0,":svg:use",[[":xlink:href","/_slds/icons/utility-sprite/svg/symbols.svg#close"]],null,null,null,null,null)),(n()(),o.qb(10,0,null,null,2,"span",[["class","slds-assistive-text"]],null,null,null,null,null)),(n()(),o.Hb(11,null,["",""])),o.Bb(131072,d.i,[d.j,o.h]),(n()(),o.qb(13,0,null,null,28,"div",[["class","slds-col slds-form-element slds-m-top_large slds-is-relative"]],null,null,null,null,null)),o.pb(14,278528,null,0,Pt.j,[o.s,o.t,o.k,o.E],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(n()(),o.qb(15,0,null,null,10,"div",[["class","slds-form-element__control \n                slds-input-has-icon \n                slds-input-has-icon_right \n                slds-show_inline-block\n                slds-size_1-of-2"]],null,null,null,null,null)),(n()(),o.qb(16,0,[[1,0],["dialer",1]],null,2,"input",[["appDigitOnly",""],["autocomplete","off"],["class","slds-input input-text-size"],["type","text"]],[[8,"placeholder",0]],[[null,"input"]],function(n,t,e){var l=!0,i=n.component;return"input"===t&&(l=!1!==o.Ab(n,17).onInputChange(e)&&l),"input"===t&&(l=!1!==i.onInput(e)&&l),l},null,null)),o.pb(17,16384,null,0,Yc,[o.k],null,null),o.Bb(131072,d.i,[d.j,o.h]),(n()(),o.qb(19,0,null,null,6,"button",[["class","slds-button \n                     slds-button_icon \n                     slds-input__icon \n                     slds-input__icon_right\n                     icons-right"]],[[8,"title",0]],[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.onClear()&&l),l},null,null)),o.Bb(131072,d.i,[d.j,o.h]),(n()(),o.qb(21,0,null,null,1,":svg:svg",[["aria-hidden","true"],["class","slds-button__icon slds-icon-text-light"]],null,null,null,null,null)),(n()(),o.qb(22,0,null,null,0,":svg:use",[[":xlink:href","/_slds/icons/utility-sprite/svg/symbols.svg#clear"]],null,null,null,null,null)),(n()(),o.qb(23,0,null,null,2,"span",[["class","slds-assistive-text"]],null,null,null,null,null)),(n()(),o.Hb(24,null,["",""])),o.Bb(131072,d.i,[d.j,o.h]),(n()(),o.qb(26,0,null,null,15,"span",[["class","slds-show_inline-block \n                 slds-size_1-of-2\n                 slds-p-left_small"],["nglDropdown",""]],[[2,"slds-dropdown-trigger",null],[2,"slds-dropdown-trigger_click",null]],[[null,"openChange"],[null,"keydown.esc"],[null,"keydown.tab"],[null,"keydown.arrowdown"],[null,"keydown.arrowup"]],function(n,t,e){var l=!0,i=n.component;return"keydown.esc"===t&&(l=!1!==o.Ab(n,27).onKeydownClose("esc")&&l),"keydown.tab"===t&&(l=!1!==o.Ab(n,27).onKeydownClose("tab")&&l),"keydown.arrowdown"===t&&(l=!1!==o.Ab(n,27).onKeydownFocusNext(e,"next")&&l),"keydown.arrowup"===t&&(l=!1!==o.Ab(n,27).onKeydownFocusNext(e,"previous")&&l),"openChange"===t&&(l=!1!==(i.open=e)&&l),l},null,null)),o.pb(27,212992,null,1,Et.Bb,[o.k,o.E],{isOpen:[0,"isOpen"]},{isOpenChange:"openChange"}),o.Fb(603979776,2,{items:1}),(n()(),o.qb(29,0,null,null,8,"div",[["aria-haspopup","true"],["class","slds-input slds-button_neutral skills-dropdown"],["nglDropdownTrigger",""]],null,[[null,"click"],[null,"keydown.arrowdown"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==o.Ab(n,30).toggleOpen()&&l),"keydown.arrowdown"===t&&(l=!1!==o.Ab(n,30).onKeyDownOpen(e)&&l),l},null,null)),o.pb(30,147456,null,0,Et.Db,[o.k,Et.Bb],null,null),(n()(),o.hb(16777216,null,null,1,null,na)),o.pb(32,16384,null,0,Pt.l,[o.P,o.M],{ngIf:[0,"ngIf"]},null),(n()(),o.hb(16777216,null,null,1,null,ta)),o.pb(34,16384,null,0,Pt.l,[o.P,o.M],{ngIf:[0,"ngIf"]},null),(n()(),o.qb(35,0,null,null,2,"ngl-icon",[["class","slds-icon_container slds-input__icon slds-float_right slds-input__icon_right dropdown-icon"],["iconName","down"],["size","x-small"],["variant","default"]],null,null,null,_t.x,_t.l)),o.Eb(512,null,Et.lc,Et.lc,[o.F]),o.pb(37,638976,null,0,Et.kc,[o.k,Et.lc],{iconName:[0,"iconName"],variant:[1,"variant"],size:[2,"size"]},null),(n()(),o.qb(38,0,null,null,3,"div",[["class","slds-dropdown slds-dropdown_left dropdown-container"]],null,null,null,null,null)),(n()(),o.qb(39,0,null,null,2,"ul",[["class","dropdown__list"],["role","menu"]],null,null,null,null,null)),(n()(),o.hb(16777216,null,null,1,null,ea)),o.pb(41,278528,null,0,Pt.k,[o.P,o.M,o.s],{ngForOf:[0,"ngForOf"]},null),(n()(),o.qb(42,0,null,null,61,"div",[["class","slds-col slds-size_2-of-2 slds-p-around_x-large"]],null,null,null,null,null)),(n()(),o.qb(43,0,null,null,60,"div",[["class","slds-grid slds-wrap slds-gutters slds-m-top_xx-large"]],null,null,null,null,null)),(n()(),o.qb(44,0,null,null,4,"div",[["class","slds-col slds-size_1-of-3 slds-p-around_small"],["role","button"]],null,[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.onDial(1)&&l),l},null,null)),(n()(),o.qb(45,0,null,null,1,"div",[["class","slds-text-align_center slds-text-link_reset numbers"]],null,null,null,null,null)),(n()(),o.Hb(-1,null,["1"])),(n()(),o.qb(47,0,null,null,1,"div",[["class","slds-text-align_center alphabets"]],null,null,null,null,null)),(n()(),o.Hb(-1,null,["\xa0"])),(n()(),o.qb(49,0,null,null,4,"div",[["class","slds-col slds-size_1-of-3 slds-p-around_small"],["role","button"]],null,[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.onDial(2)&&l),l},null,null)),(n()(),o.qb(50,0,null,null,1,"div",[["class","slds-text-align_center slds-text-link_reset numbers"]],null,null,null,null,null)),(n()(),o.Hb(-1,null,["2"])),(n()(),o.qb(52,0,null,null,1,"div",[["class","slds-text-align_center alphabets"]],null,null,null,null,null)),(n()(),o.Hb(-1,null,["ABC"])),(n()(),o.qb(54,0,null,null,4,"div",[["class","slds-col slds-size_1-of-3 slds-p-around_small"],["role","button"]],null,[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.onDial(3)&&l),l},null,null)),(n()(),o.qb(55,0,null,null,1,"div",[["class","slds-text-align_center slds-text-link_reset numbers"]],null,null,null,null,null)),(n()(),o.Hb(-1,null,["3"])),(n()(),o.qb(57,0,null,null,1,"div",[["class","slds-text-align_center alphabets"]],null,null,null,null,null)),(n()(),o.Hb(-1,null,["DEF"])),(n()(),o.qb(59,0,null,null,4,"div",[["class","slds-col slds-size_1-of-3 slds-p-around_small"],["role","button"]],null,[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.onDial(4)&&l),l},null,null)),(n()(),o.qb(60,0,null,null,1,"div",[["class","slds-text-align_center slds-text-link_reset numbers"]],null,null,null,null,null)),(n()(),o.Hb(-1,null,["4"])),(n()(),o.qb(62,0,null,null,1,"div",[["class","slds-text-align_center alphabets"]],null,null,null,null,null)),(n()(),o.Hb(-1,null,["GHI"])),(n()(),o.qb(64,0,null,null,4,"div",[["class","slds-col slds-size_1-of-3 slds-p-around_small"],["role","button"]],null,[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.onDial(5)&&l),l},null,null)),(n()(),o.qb(65,0,null,null,1,"div",[["class","slds-text-align_center slds-text-link_reset numbers"]],null,null,null,null,null)),(n()(),o.Hb(-1,null,["5"])),(n()(),o.qb(67,0,null,null,1,"div",[["class","slds-text-align_center alphabets"]],null,null,null,null,null)),(n()(),o.Hb(-1,null,["JKL"])),(n()(),o.qb(69,0,null,null,4,"div",[["class","slds-col slds-size_1-of-3 slds-p-around_small"],["role","button"]],null,[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.onDial(6)&&l),l},null,null)),(n()(),o.qb(70,0,null,null,1,"div",[["class","slds-text-align_center slds-text-link_reset numbers"]],null,null,null,null,null)),(n()(),o.Hb(-1,null,["6"])),(n()(),o.qb(72,0,null,null,1,"div",[["class","slds-text-align_center alphabets"]],null,null,null,null,null)),(n()(),o.Hb(-1,null,["MNO"])),(n()(),o.qb(74,0,null,null,4,"div",[["class","slds-col slds-size_1-of-3 slds-p-around_small"],["role","button"]],null,[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.onDial(7)&&l),l},null,null)),(n()(),o.qb(75,0,null,null,1,"div",[["class","slds-text-align_center slds-text-link_reset numbers"]],null,null,null,null,null)),(n()(),o.Hb(-1,null,["7"])),(n()(),o.qb(77,0,null,null,1,"div",[["class","slds-text-align_center alphabets"]],null,null,null,null,null)),(n()(),o.Hb(-1,null,["PQRS"])),(n()(),o.qb(79,0,null,null,4,"div",[["class","slds-col slds-size_1-of-3 slds-p-around_small"],["role","button"]],null,[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.onDial(8)&&l),l},null,null)),(n()(),o.qb(80,0,null,null,1,"div",[["class","slds-text-align_center slds-text-link_reset numbers"]],null,null,null,null,null)),(n()(),o.Hb(-1,null,["8"])),(n()(),o.qb(82,0,null,null,1,"div",[["class","slds-text-align_center alphabets"]],null,null,null,null,null)),(n()(),o.Hb(-1,null,["TUV"])),(n()(),o.qb(84,0,null,null,4,"div",[["class","slds-col slds-size_1-of-3 slds-p-around_small"],["role","button"]],null,[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.onDial(9)&&l),l},null,null)),(n()(),o.qb(85,0,null,null,1,"div",[["class","slds-text-align_center slds-text-link_reset numbers"]],null,null,null,null,null)),(n()(),o.Hb(-1,null,["9"])),(n()(),o.qb(87,0,null,null,1,"div",[["class","slds-text-align_center alphabets"]],null,null,null,null,null)),(n()(),o.Hb(-1,null,["WXYZ"])),(n()(),o.qb(89,0,null,null,4,"div",[["class","slds-col slds-size_1-of-3 slds-p-around_small"],["role","button"]],null,[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.onDial("*")&&l),l},null,null)),(n()(),o.qb(90,0,null,null,1,"div",[["class","slds-text-align_center slds-text-link_reset numbers"]],null,null,null,null,null)),(n()(),o.Hb(-1,null,["*"])),(n()(),o.qb(92,0,null,null,1,"div",[["class","slds-text-align_center alphabets"]],null,null,null,null,null)),(n()(),o.Hb(-1,null,["\xa0"])),(n()(),o.qb(94,0,null,null,4,"div",[["class","slds-col slds-size_1-of-3 slds-p-around_small"],["role","button"]],null,[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.onDial(0)&&l),l},null,null)),(n()(),o.qb(95,0,null,null,1,"div",[["class","slds-text-align_center slds-text-link_reset numbers"]],null,null,null,null,null)),(n()(),o.Hb(-1,null,["0"])),(n()(),o.qb(97,0,null,null,1,"div",[["class","slds-text-align_center alphabets"]],null,null,null,null,null)),(n()(),o.Hb(-1,null,["+"])),(n()(),o.qb(99,0,null,null,4,"div",[["class","slds-col slds-size_1-of-3 slds-p-around_small"],["role","button"]],null,[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.onDial("#")&&l),l},null,null)),(n()(),o.qb(100,0,null,null,1,"div",[["class","slds-text-align_center slds-text-link_reset numbers"]],null,null,null,null,null)),(n()(),o.Hb(-1,null,["#"])),(n()(),o.qb(102,0,null,null,1,"div",[["class","slds-text-align_center alphabets"]],null,null,null,null,null)),(n()(),o.Hb(-1,null,["\xa0"])),(n()(),o.qb(104,0,null,null,6,"div",[["class","slds-col slds-size_2-of-2 slds-m-top_xx-large slds-is-relative dialpad-button-section"]],null,null,null,null,null)),(n()(),o.qb(105,0,null,null,5,"button",[["class","slds-button slds-show call-button"]],[[8,"disabled",0]],[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.onMakeCall()&&l),l},null,null)),o.pb(106,278528,null,0,Pt.j,[o.s,o.t,o.k,o.E],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),o.pb(107,278528,null,0,Pt.o,[o.t,o.k,o.E],{ngStyle:[0,"ngStyle"]},null),o.Cb(108,{visibility:0}),(n()(),o.Hb(109,null,[" "," "])),o.Bb(131072,d.i,[d.j,o.h])],function(n,t){var e=t.component;n(t,14,0,"slds-col slds-form-element slds-m-top_large slds-is-relative",e.showCallButton?"":"hide-elements"),n(t,27,0,e.open),n(t,32,0,!e.selectedObPhoneSkill),n(t,34,0,e.selectedObPhoneSkill),n(t,37,0,"down","default","x-small"),n(t,41,0,e.obPhoneSkills),n(t,106,0,"slds-button slds-show call-button",e.isCallDisabled?"":"slds-button_brand");var l=n(t,108,0,e.showCallButton?"":"hidden");n(t,107,0,l)},function(n,t){var e=t.component;n(t,4,0,o.Ib(t,4,0,o.Ab(t,5).transform("outboundCall"))),n(t,6,0,o.sb(1,"",o.Ib(t,6,0,o.Ab(t,7).transform("close")),"")),n(t,11,0,o.Ib(t,11,0,o.Ab(t,12).transform("close"))),n(t,16,0,o.sb(1,"",o.Ib(t,16,0,o.Ab(t,18).transform("enterPhoneNumber")),"")),n(t,19,0,o.sb(1,"",o.Ib(t,19,0,o.Ab(t,20).transform("clear")),"")),n(t,24,0,o.Ib(t,24,0,o.Ab(t,25).transform("clear"))),n(t,26,0,!0,!0),n(t,105,0,e.isCallDisabled),n(t,109,0,o.Ib(t,109,0,o.Ab(t,110).transform("call")))})}function oa(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,1,"app-dialpad",[],null,[["document","keydown"]],function(n,t,e){var l=!0;return"document:keydown"===t&&(l=!1!==o.Ab(n,1).keyEvent(e)&&l),l},la,Zc)),o.pb(1,245760,null,0,dt,[Un,Hn,f,ot,Yn,_],null,null)],function(n,t){n(t,1,0)},null)}var ia=o.mb("app-dialpad",dt,oa,{},{},[]),sa=o.ob({encapsulation:0,styles:[[".full-height[_ngcontent-%COMP%], html[_ngcontent-%COMP%], html[_ngcontent-%COMP%]   body[_ngcontent-%COMP%]{height:100%}.no-strech[_ngcontent-%COMP%]{flex:0}.strech[_ngcontent-%COMP%]{flex:1;position:relative}.no-scroll[_ngcontent-%COMP%]{overflow:hidden}.full-height-flex[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;justify-content:center}.center-align[_ngcontent-%COMP%]{text-align:center}.cursor-pointer[_ngcontent-%COMP%]{cursor:pointer}.text-wrap[_ngcontent-%COMP%]{word-wrap:break-word}.text-bold[_ngcontent-%COMP%]{font-weight:700}.cdk-overlay-container[_ngcontent-%COMP%]   .slds-modal__container[_ngcontent-%COMP%]{margin:0;padding:0}.cdk-overlay-container[_ngcontent-%COMP%]   .slds-modal__content[_ngcontent-%COMP%]{height:100%}.cdk-global-scrollblock[_ngcontent-%COMP%]{overflow-y:auto!important}@media (min-width:48em){.slds-scope[_ngcontent-%COMP%]   .slds-modal--large[_ngcontent-%COMP%]   .slds-modal__container[_ngcontent-%COMP%], .slds-scope[_ngcontent-%COMP%]   .slds-modal_large[_ngcontent-%COMP%]   .slds-modal__container[_ngcontent-%COMP%]{width:100%;height:100%}}.pull-down[_ngcontent-%COMP%]{position:absolute;bottom:0;width:100%}.dialog-style[_ngcontent-%COMP%]{position:fixed;top:0;background-color:#fff;right:0;left:0;box-shadow:0 0 5px grey;z-index:1001}.schedule-container[_ngcontent-%COMP%]   .fc-widget-content[_ngcontent-%COMP%]{background-color:#fff}.schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%]{opacity:.75;text-indent:3px}.schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-event[_ngcontent-%COMP%]{border-radius:0;cursor:default;color:#01396a;min-height:2rem}.schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-event[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%]{font-weight:700}.schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%]:hover, .schedule-container[_ngcontent-%COMP%]   .fc-event[_ngcontent-%COMP%]:hover{text-decoration:none;color:#01396a}.schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%]   .fc-title[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-event[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-event[_ngcontent-%COMP%]   .fc-title[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-slats[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-slats[_ngcontent-%COMP%]   .fc-title[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-title[_ngcontent-%COMP%]{font-size:.8rem}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-content[_ngcontent-%COMP%]{display:flex}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-title[_ngcontent-%COMP%]{display:inline-block;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.schedule-container[_ngcontent-%COMP%]   .commitment-event[_ngcontent-%COMP%]{background-color:#d9d9d9;border-color:#d9d9d9}.schedule-container[_ngcontent-%COMP%]   .commitment-event[_ngcontent-%COMP%]:hover{cursor:pointer}.schedule-container[_ngcontent-%COMP%]   .fc-header-toolbar[_ngcontent-%COMP%]   .fc-left[_ngcontent-%COMP%]{margin-left:10px}.schedule-container[_ngcontent-%COMP%]   .fc-button-group[_ngcontent-%COMP%]{font-size:.6rem}.schedule-container[_ngcontent-%COMP%]   .fc-button-group[_ngcontent-%COMP%]   .fc-button-primary[_ngcontent-%COMP%]{background-color:#fff;border-color:grey;color:grey;box-shadow:none}.schedule-container[_ngcontent-%COMP%]   .fc-button-group[_ngcontent-%COMP%]   .fc-button-primary[_ngcontent-%COMP%]:not(:disabled):active{box-shadow:none}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]{min-height:1rem}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%]::before{display:none}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid[_ngcontent-%COMP%]   .fc-slats[_ngcontent-%COMP%]   .fc-minor[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-top:0}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-container[_ngcontent-%COMP%]{overflow:visible!important}.slds-scope[_ngcontent-%COMP%]   .slds-button[_ngcontent-%COMP%]:not([disabled]){color:#0672d4}.slds-scope[_ngcontent-%COMP%]   .slds-button.slds-button_brand[_ngcontent-%COMP%]{color:#fff}.slds-scope[_ngcontent-%COMP%]   .slds-button.decline-button[_ngcontent-%COMP%]:not([disabled]){color:#c13834;border-color:#c13834}.slds-scope[_ngcontent-%COMP%]   .slds-button.accept-button[_ngcontent-%COMP%]:not([disabled]){color:#fff}.slds-scope[_ngcontent-%COMP%]   .slds-slider__range[_ngcontent-%COMP%]{-webkit-appearance:none}.slds-scope[_ngcontent-%COMP%]   .slds-slider__range[_ngcontent-%COMP%]::-webkit-slider-thumb{-webkit-appearance:none;appearance:none}.initialize-softphone[_ngcontent-%COMP%]   .slds-spinner[_ngcontent-%COMP%]{margin-left:-6em}.slds-scope[_ngcontent-%COMP%]   .cdk-overlay-container[_ngcontent-%COMP%]{position:absolute}.unread-icon[_ngcontent-%COMP%]{height:.5rem;width:.5rem;border-radius:50%;display:inline-block;background-color:#1589ee}.unread-icon.visited[_ngcontent-%COMP%]{background:0 0}.log-container[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column}.log-container[_ngcontent-%COMP%]   .full-width[_ngcontent-%COMP%]{width:100%}.log-container[_ngcontent-%COMP%]   .full-width[_ngcontent-%COMP%]:focus{box-shadow:none}.log-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover:not([disabled]){background-color:#f2f2f2}.log-container[_ngcontent-%COMP%]   button.slds-button_brand[_ngcontent-%COMP%]:hover:not([disabled]){background-color:#1b5297}"]],data:{}});function ca(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,28,"div",[["class","log-container"]],null,null,null,null,null)),(n()(),o.qb(1,0,null,null,8,"div",[["class","slds-grid slds-wrap slds-p-around_small"]],null,null,null,null,null)),(n()(),o.qb(2,0,null,null,7,"div",[["class","slds-col slds-size_1-of-1"]],null,null,null,null,null)),(n()(),o.qb(3,0,null,null,2,"div",[["class","slds-text-heading_small slds-show_inline-block"]],null,null,null,null,null)),(n()(),o.Hb(4,null,[" "," "])),o.Bb(131072,d.i,[d.j,o.h]),(n()(),o.qb(6,0,null,null,3,"span",[["class","slds-icon_container slds-float_right cursor-pointer"]],[[8,"title",0]],[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.close()&&l),l},null,null)),o.Bb(131072,d.i,[d.j,o.h]),(n()(),o.qb(8,0,null,null,1,":svg:svg",[["aria-hidden","true"],["class","slds-icon slds-icon-text-light slds-icon_x-small"]],null,null,null,null,null)),(n()(),o.qb(9,0,null,null,0,":svg:use",[[":xlink:href","/_slds/icons/utility-sprite/svg/symbols.svg#close"]],null,null,null,null,null)),(n()(),o.qb(10,0,null,null,5,"div",[["class","slds-col_padded slds-p-top_medium"]],null,null,null,null,null)),(n()(),o.qb(11,0,null,null,2,"div",[["class","slds-m-bottom_x-small"]],null,null,null,null,null)),(n()(),o.Hb(12,null,["",""])),o.Bb(131072,d.i,[d.j,o.h]),(n()(),o.qb(14,0,null,null,1,"app-combo-box",[],null,[[null,"changeEvent"]],function(n,t,e){var l=!0;return"changeEvent"===t&&(l=!1!==n.component.updateLogs(e)&&l),l},ce,ee)),o.pb(15,573440,null,0,te,[S,f],{options:[0,"options"],isMultiSelect:[1,"isMultiSelect"],selectedOptions:[2,"selectedOptions"]},{changeEvent:"changeEvent"}),(n()(),o.qb(16,0,null,null,12,"div",[["class","slds-grid slds-wrap slds-m-around_small"]],null,null,null,null,null)),(n()(),o.qb(17,0,null,null,5,"div",[["class","slds-col slds-size_1-of-2 slds-p-right_xx-small"]],null,null,null,null,null)),(n()(),o.qb(18,0,null,null,4,"button",[["class","full-width"],["nglButton",""],["type","button"],["variant","neutral"]],null,[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.onDownload()&&l),l},_t.m,_t.a)),o.Eb(512,null,Et.lc,Et.lc,[o.F]),o.pb(20,638976,null,0,Et.n,[o.k,o.E,Et.lc],{variant:[0,"variant"]},null),(n()(),o.Hb(21,0,["",""])),o.Bb(131072,d.i,[d.j,o.h]),(n()(),o.qb(23,0,null,null,5,"div",[["class","slds-col slds-size_1-of-2 slds-p-left_xx-small"]],null,null,null,null,null)),(n()(),o.qb(24,0,null,null,4,"button",[["class","full-width"],["nglButton",""],["type","button"],["variant","brand"]],null,[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.onSave()&&l),l},_t.m,_t.a)),o.Eb(512,null,Et.lc,Et.lc,[o.F]),o.pb(26,638976,null,0,Et.n,[o.k,o.E,Et.lc],{variant:[0,"variant"]},null),(n()(),o.Hb(27,0,["",""])),o.Bb(131072,d.i,[d.j,o.h])],function(n,t){var e=t.component;n(t,15,0,e.logs,!1,e.selectedLog),n(t,20,0,"neutral"),n(t,26,0,"brand")},function(n,t){n(t,4,0,o.Ib(t,4,0,o.Ab(t,5).transform("logSettings"))),n(t,6,0,o.sb(1,"",o.Ib(t,6,0,o.Ab(t,7).transform("close")),"")),n(t,12,0,o.Ib(t,12,0,o.Ab(t,13).transform("logLevel"))),n(t,21,0,o.Ib(t,21,0,o.Ab(t,22).transform("downloadLog"))),n(t,27,0,o.Ib(t,27,0,o.Ab(t,28).transform("save")))})}function aa(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,1,"app-log-settings",[],null,null,null,ca,sa)),o.pb(1,245760,null,0,pt,[Hn,Bn,_,m,tt],null,null)],function(n,t){n(t,1,0)},null)}var ra=o.mb("app-log-settings",pt,aa,{},{},[]),ua=function(){return function(){}}(),da=o.ob({encapsulation:0,styles:[[".full-height[_ngcontent-%COMP%], html[_ngcontent-%COMP%], html[_ngcontent-%COMP%]   body[_ngcontent-%COMP%]{height:100%}.no-strech[_ngcontent-%COMP%]{flex:0}.strech[_ngcontent-%COMP%]{flex:1;position:relative}.no-scroll[_ngcontent-%COMP%]{overflow:hidden}.full-height-flex[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;justify-content:center}.center-align[_ngcontent-%COMP%]{text-align:center}.cursor-pointer[_ngcontent-%COMP%]{cursor:pointer}.text-wrap[_ngcontent-%COMP%]{word-wrap:break-word}.text-bold[_ngcontent-%COMP%]{font-weight:700}.cdk-overlay-container[_ngcontent-%COMP%]   .slds-modal__container[_ngcontent-%COMP%]{margin:0;padding:0}.cdk-overlay-container[_ngcontent-%COMP%]   .slds-modal__content[_ngcontent-%COMP%]{height:100%}.cdk-global-scrollblock[_ngcontent-%COMP%]{overflow-y:auto!important}@media (min-width:48em){.slds-scope[_ngcontent-%COMP%]   .slds-modal--large[_ngcontent-%COMP%]   .slds-modal__container[_ngcontent-%COMP%], .slds-scope[_ngcontent-%COMP%]   .slds-modal_large[_ngcontent-%COMP%]   .slds-modal__container[_ngcontent-%COMP%]{width:100%;height:100%}}.pull-down[_ngcontent-%COMP%]{position:absolute;bottom:0;width:100%}.dialog-style[_ngcontent-%COMP%]{position:fixed;top:0;background-color:#fff;right:0;left:0;box-shadow:0 0 5px grey;z-index:1001}.schedule-container[_ngcontent-%COMP%]   .fc-widget-content[_ngcontent-%COMP%]{background-color:#fff}.schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%]{opacity:.75;text-indent:3px}.schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-event[_ngcontent-%COMP%]{border-radius:0;cursor:default;color:#01396a;min-height:2rem}.schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-event[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%]{font-weight:700}.schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%]:hover, .schedule-container[_ngcontent-%COMP%]   .fc-event[_ngcontent-%COMP%]:hover{text-decoration:none;color:#01396a}.schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%]   .fc-title[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-event[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-event[_ngcontent-%COMP%]   .fc-title[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-slats[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-slats[_ngcontent-%COMP%]   .fc-title[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-title[_ngcontent-%COMP%]{font-size:.8rem}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-content[_ngcontent-%COMP%]{display:flex}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-title[_ngcontent-%COMP%]{display:inline-block;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.schedule-container[_ngcontent-%COMP%]   .commitment-event[_ngcontent-%COMP%]{background-color:#d9d9d9;border-color:#d9d9d9}.schedule-container[_ngcontent-%COMP%]   .commitment-event[_ngcontent-%COMP%]:hover{cursor:pointer}.schedule-container[_ngcontent-%COMP%]   .fc-header-toolbar[_ngcontent-%COMP%]   .fc-left[_ngcontent-%COMP%]{margin-left:10px}.schedule-container[_ngcontent-%COMP%]   .fc-button-group[_ngcontent-%COMP%]{font-size:.6rem}.schedule-container[_ngcontent-%COMP%]   .fc-button-group[_ngcontent-%COMP%]   .fc-button-primary[_ngcontent-%COMP%]{background-color:#fff;border-color:grey;color:grey;box-shadow:none}.schedule-container[_ngcontent-%COMP%]   .fc-button-group[_ngcontent-%COMP%]   .fc-button-primary[_ngcontent-%COMP%]:not(:disabled):active{box-shadow:none}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]{min-height:1rem}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%]::before{display:none}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid[_ngcontent-%COMP%]   .fc-slats[_ngcontent-%COMP%]   .fc-minor[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-top:0}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-container[_ngcontent-%COMP%]{overflow:visible!important}.slds-scope[_ngcontent-%COMP%]   .slds-button[_ngcontent-%COMP%]:not([disabled]){color:#0672d4}.slds-scope[_ngcontent-%COMP%]   .slds-button.slds-button_brand[_ngcontent-%COMP%]{color:#fff}.slds-scope[_ngcontent-%COMP%]   .slds-button.decline-button[_ngcontent-%COMP%]:not([disabled]){color:#c13834;border-color:#c13834}.slds-scope[_ngcontent-%COMP%]   .slds-button.accept-button[_ngcontent-%COMP%]:not([disabled]){color:#fff}.slds-scope[_ngcontent-%COMP%]   .slds-slider__range[_ngcontent-%COMP%]{-webkit-appearance:none}.slds-scope[_ngcontent-%COMP%]   .slds-slider__range[_ngcontent-%COMP%]::-webkit-slider-thumb{-webkit-appearance:none;appearance:none}.initialize-softphone[_ngcontent-%COMP%]   .slds-spinner[_ngcontent-%COMP%]{margin-left:-6em}.slds-scope[_ngcontent-%COMP%]   .cdk-overlay-container[_ngcontent-%COMP%]{position:absolute}.unread-icon[_ngcontent-%COMP%]{height:.5rem;width:.5rem;border-radius:50%;display:inline-block;background-color:#1589ee}.unread-icon.visited[_ngcontent-%COMP%]{background:0 0}.performance-details[_ngcontent-%COMP%]   .header-text[_ngcontent-%COMP%]{font-size:.7rem;color:#8a98b1;padding:.15rem .2rem}.performance-details[_ngcontent-%COMP%]   .cell-content[_ngcontent-%COMP%]{padding:.15rem .2rem}"]],data:{}});function ga(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,55,"div",[["class","performance-details"]],null,null,null,null,null)),(n()(),o.qb(1,0,null,null,15,"div",[["class","slds-grid slds-wrap slds-grid_align-end slds-p-vertical_xxx-small slds-p-horizontal_x-small slds-border_top slds-border_bottom"]],null,null,null,null,null)),(n()(),o.qb(2,0,null,null,4,"div",[["class","slds-col slds-size_1-of-4 header-text"]],[[8,"title",0]],null,null,null,null)),o.Bb(131072,d.i,[d.j,o.h]),(n()(),o.qb(4,0,null,null,2,"div",[["class","slds-truncate"]],null,null,null,null,null)),(n()(),o.Hb(5,null,[" "," "])),o.Bb(131072,d.i,[d.j,o.h]),(n()(),o.qb(7,0,null,null,4,"div",[["class","slds-col slds-size_1-of-4 header-text"]],[[8,"title",0]],null,null,null,null)),o.Bb(131072,d.i,[d.j,o.h]),(n()(),o.qb(9,0,null,null,2,"div",[["class","slds-truncate"]],null,null,null,null,null)),(n()(),o.Hb(10,null,[" "," "])),o.Bb(131072,d.i,[d.j,o.h]),(n()(),o.qb(12,0,null,null,4,"div",[["class","slds-col slds-size_1-of-4 header-text"]],[[8,"title",0]],null,null,null,null)),o.Bb(131072,d.i,[d.j,o.h]),(n()(),o.qb(14,0,null,null,2,"div",[["class","slds-truncate"]],null,null,null,null,null)),(n()(),o.Hb(15,null,[" "," "])),o.Bb(131072,d.i,[d.j,o.h]),(n()(),o.qb(17,0,null,null,12,"div",[["class","slds-grid slds-wrap slds-p-vertical_xxx-small slds-p-horizontal_x-small slds-border_bottom"]],null,null,null,null,null)),(n()(),o.qb(18,0,null,null,5,"div",[["class","slds-col slds-size_1-of-4 cell-content"]],[[8,"title",0]],null,null,null,null)),o.Bb(131072,d.i,[d.j,o.h]),(n()(),o.qb(20,0,null,null,3,"div",[["class","slds-truncate"]],null,null,null,null,null)),(n()(),o.qb(21,0,null,null,2,"strong",[],null,null,null,null,null)),(n()(),o.Hb(22,null,["",""])),o.Bb(131072,d.i,[d.j,o.h]),(n()(),o.qb(24,0,null,null,1,"div",[["class","slds-col slds-size_1-of-4 cell-content"]],null,null,null,null,null)),(n()(),o.Hb(25,null,[" "," "])),(n()(),o.qb(26,0,null,null,1,"div",[["class","slds-col slds-size_1-of-4 cell-content"]],null,null,null,null,null)),(n()(),o.Hb(27,null,[" "," "])),(n()(),o.qb(28,0,null,null,1,"div",[["class","slds-col slds-size_1-of-4 cell-content"]],null,null,null,null,null)),(n()(),o.Hb(29,null,[" ","% "])),(n()(),o.qb(30,0,null,null,12,"div",[["class","slds-grid slds-wrap slds-p-vertical_xxx-small slds-p-horizontal_x-small slds-border_bottom"]],null,null,null,null,null)),(n()(),o.qb(31,0,null,null,5,"div",[["class","slds-col slds-size_1-of-4 cell-content"]],[[8,"title",0]],null,null,null,null)),o.Bb(131072,d.i,[d.j,o.h]),(n()(),o.qb(33,0,null,null,3,"div",[["class","slds-truncate"]],null,null,null,null,null)),(n()(),o.qb(34,0,null,null,2,"strong",[],null,null,null,null,null)),(n()(),o.Hb(35,null,["",""])),o.Bb(131072,d.i,[d.j,o.h]),(n()(),o.qb(37,0,null,null,1,"div",[["class","slds-col slds-size_1-of-4 cell-content"]],null,null,null,null,null)),(n()(),o.Hb(38,null,[" "," "])),(n()(),o.qb(39,0,null,null,1,"div",[["class","slds-col slds-size_1-of-4 cell-content"]],null,null,null,null,null)),(n()(),o.Hb(40,null,[" "," "])),(n()(),o.qb(41,0,null,null,1,"div",[["class","slds-col slds-size_1-of-4 cell-content"]],null,null,null,null,null)),(n()(),o.Hb(42,null,[" ","% "])),(n()(),o.qb(43,0,null,null,12,"div",[["class","slds-grid slds-wrap slds-p-vertical_xxx-small slds-p-horizontal_x-small slds-border_bottom"]],null,null,null,null,null)),(n()(),o.qb(44,0,null,null,5,"div",[["class","slds-col slds-size_1-of-4 cell-content"]],[[8,"title",0]],null,null,null,null)),o.Bb(131072,d.i,[d.j,o.h]),(n()(),o.qb(46,0,null,null,3,"div",[["class","slds-truncate"]],null,null,null,null,null)),(n()(),o.qb(47,0,null,null,2,"strong",[],null,null,null,null,null)),(n()(),o.Hb(48,null,["",""])),o.Bb(131072,d.i,[d.j,o.h]),(n()(),o.qb(50,0,null,null,1,"div",[["class","slds-col slds-size_1-of-4 cell-content"]],null,null,null,null,null)),(n()(),o.Hb(51,null,[" "," "])),(n()(),o.qb(52,0,null,null,1,"div",[["class","slds-col slds-size_1-of-4 cell-content"]],null,null,null,null,null)),(n()(),o.Hb(53,null,[" "," "])),(n()(),o.qb(54,0,null,null,1,"div",[["class","slds-col slds-size_1-of-4 cell-content"]],null,null,null,null,null)),(n()(),o.Hb(55,null,[" ","% "]))],null,function(n,t){var e=t.component;n(t,2,0,o.Ib(t,2,0,o.Ab(t,3).transform("youTableHeader"))),n(t,5,0,o.Ib(t,5,0,o.Ab(t,6).transform("youTableHeader"))),n(t,7,0,o.Ib(t,7,0,o.Ab(t,8).transform("teamTableHeader"))),n(t,10,0,o.Ib(t,10,0,o.Ab(t,11).transform("teamTableHeader"))),n(t,12,0,o.Ib(t,12,0,o.Ab(t,13).transform("percentageTableHeader"))),n(t,15,0,o.Ib(t,15,0,o.Ab(t,16).transform("percentageTableHeader"))),n(t,18,0,o.Ib(t,18,0,o.Ab(t,19).transform("inbound"))),n(t,22,0,o.Ib(t,22,0,o.Ab(t,23).transform("inbound"))),n(t,25,0,e.agentData.inboundHandled),n(t,27,0,e.teamData.inboundHandled),n(t,29,0,e.performanceDetails.inboundPercentage),n(t,31,0,o.Ib(t,31,0,o.Ab(t,32).transform("outbound"))),n(t,35,0,o.Ib(t,35,0,o.Ab(t,36).transform("outbound"))),n(t,38,0,e.agentData.outboundHandled),n(t,40,0,e.teamData.outboundHandled),n(t,42,0,e.performanceDetails.outboundPercentage),n(t,44,0,o.Ib(t,44,0,o.Ab(t,45).transform("overall"))),n(t,48,0,o.Ib(t,48,0,o.Ab(t,49).transform("overall"))),n(t,51,0,e.agentData.totalHandled),n(t,53,0,e.teamData.totalHandled),n(t,55,0,e.performanceDetails.totalPercentage)})}var ha=function(){return function(){}}(),pa=o.ob({encapsulation:0,styles:[[".full-height[_ngcontent-%COMP%], html[_ngcontent-%COMP%], html[_ngcontent-%COMP%]   body[_ngcontent-%COMP%]{height:100%}.no-strech[_ngcontent-%COMP%]{flex:0}.strech[_ngcontent-%COMP%]{flex:1;position:relative}.no-scroll[_ngcontent-%COMP%]{overflow:hidden}.full-height-flex[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;justify-content:center}.center-align[_ngcontent-%COMP%]{text-align:center}.cursor-pointer[_ngcontent-%COMP%]{cursor:pointer}.text-wrap[_ngcontent-%COMP%]{word-wrap:break-word}.text-bold[_ngcontent-%COMP%]{font-weight:700}.cdk-overlay-container[_ngcontent-%COMP%]   .slds-modal__container[_ngcontent-%COMP%]{margin:0;padding:0}.cdk-overlay-container[_ngcontent-%COMP%]   .slds-modal__content[_ngcontent-%COMP%]{height:100%}.cdk-global-scrollblock[_ngcontent-%COMP%]{overflow-y:auto!important}@media (min-width:48em){.slds-scope[_ngcontent-%COMP%]   .slds-modal--large[_ngcontent-%COMP%]   .slds-modal__container[_ngcontent-%COMP%], .slds-scope[_ngcontent-%COMP%]   .slds-modal_large[_ngcontent-%COMP%]   .slds-modal__container[_ngcontent-%COMP%]{width:100%;height:100%}}.pull-down[_ngcontent-%COMP%]{position:absolute;bottom:0;width:100%}.dialog-style[_ngcontent-%COMP%]{position:fixed;top:0;background-color:#fff;right:0;left:0;box-shadow:0 0 5px grey;z-index:1001}.schedule-container[_ngcontent-%COMP%]   .fc-widget-content[_ngcontent-%COMP%]{background-color:#fff}.schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%]{opacity:.75;text-indent:3px}.schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-event[_ngcontent-%COMP%]{border-radius:0;cursor:default;color:#01396a;min-height:2rem}.schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-event[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%]{font-weight:700}.schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%]:hover, .schedule-container[_ngcontent-%COMP%]   .fc-event[_ngcontent-%COMP%]:hover{text-decoration:none;color:#01396a}.schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%]   .fc-title[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-event[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-event[_ngcontent-%COMP%]   .fc-title[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-slats[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-slats[_ngcontent-%COMP%]   .fc-title[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-title[_ngcontent-%COMP%]{font-size:.8rem}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-content[_ngcontent-%COMP%]{display:flex}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-title[_ngcontent-%COMP%]{display:inline-block;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.schedule-container[_ngcontent-%COMP%]   .commitment-event[_ngcontent-%COMP%]{background-color:#d9d9d9;border-color:#d9d9d9}.schedule-container[_ngcontent-%COMP%]   .commitment-event[_ngcontent-%COMP%]:hover{cursor:pointer}.schedule-container[_ngcontent-%COMP%]   .fc-header-toolbar[_ngcontent-%COMP%]   .fc-left[_ngcontent-%COMP%]{margin-left:10px}.schedule-container[_ngcontent-%COMP%]   .fc-button-group[_ngcontent-%COMP%]{font-size:.6rem}.schedule-container[_ngcontent-%COMP%]   .fc-button-group[_ngcontent-%COMP%]   .fc-button-primary[_ngcontent-%COMP%]{background-color:#fff;border-color:grey;color:grey;box-shadow:none}.schedule-container[_ngcontent-%COMP%]   .fc-button-group[_ngcontent-%COMP%]   .fc-button-primary[_ngcontent-%COMP%]:not(:disabled):active{box-shadow:none}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]{min-height:1rem}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%]::before{display:none}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid[_ngcontent-%COMP%]   .fc-slats[_ngcontent-%COMP%]   .fc-minor[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-top:0}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-container[_ngcontent-%COMP%]{overflow:visible!important}.slds-scope[_ngcontent-%COMP%]   .slds-button[_ngcontent-%COMP%]:not([disabled]){color:#0672d4}.slds-scope[_ngcontent-%COMP%]   .slds-button.slds-button_brand[_ngcontent-%COMP%]{color:#fff}.slds-scope[_ngcontent-%COMP%]   .slds-button.decline-button[_ngcontent-%COMP%]:not([disabled]){color:#c13834;border-color:#c13834}.slds-scope[_ngcontent-%COMP%]   .slds-button.accept-button[_ngcontent-%COMP%]:not([disabled]){color:#fff}.slds-scope[_ngcontent-%COMP%]   .slds-slider__range[_ngcontent-%COMP%]{-webkit-appearance:none}.slds-scope[_ngcontent-%COMP%]   .slds-slider__range[_ngcontent-%COMP%]::-webkit-slider-thumb{-webkit-appearance:none;appearance:none}.initialize-softphone[_ngcontent-%COMP%]   .slds-spinner[_ngcontent-%COMP%]{margin-left:-6em}.slds-scope[_ngcontent-%COMP%]   .cdk-overlay-container[_ngcontent-%COMP%]{position:absolute}.unread-icon[_ngcontent-%COMP%]{height:.5rem;width:.5rem;border-radius:50%;display:inline-block;background-color:#1589ee}.unread-icon.visited[_ngcontent-%COMP%]{background:0 0}.productivity-details[_ngcontent-%COMP%]   .duration[_ngcontent-%COMP%]{text-align:right}.productivity-details[_ngcontent-%COMP%]   .available[_ngcontent-%COMP%]     .slds-progress-bar__value{background-color:#4bca81}.productivity-details[_ngcontent-%COMP%]   .working[_ngcontent-%COMP%]     .slds-progress-bar__value{background-color:#ff9a3b}.productivity-details[_ngcontent-%COMP%]   .unavailable[_ngcontent-%COMP%]     .slds-progress-bar__value{background-color:#c13834}"]],data:{}});function fa(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,75,"div",[["class","productivity-details"]],null,null,null,null,null)),(n()(),o.qb(1,0,null,null,24,"div",[["class","slds-m-bottom_x-large"]],null,null,null,null,null)),(n()(),o.qb(2,0,null,null,11,"div",[["class","slds-grid slds-wrap slds-p-horizontal_small slds-m-bottom_small"]],null,null,null,null,null)),(n()(),o.qb(3,0,null,null,3,"div",[["class","slds-col slds-size_1-of-2 slds-truncate"]],null,null,null,null,null)),(n()(),o.Hb(4,null,[" ",": "," "])),o.Bb(131072,d.i,[d.j,o.h]),o.Bb(131072,d.i,[d.j,o.h]),(n()(),o.qb(7,0,null,null,2,"div",[["class","slds-col duration slds-size_1-of-2"]],null,null,null,null,null)),(n()(),o.qb(8,0,null,null,1,"strong",[],null,null,null,null,null)),(n()(),o.Hb(9,null,[""," - ","%"])),(n()(),o.qb(10,0,null,null,3,"div",[["class","slds-col slds-size_1-of-1 slds-m-top_x-small available"]],null,null,null,null,null)),(n()(),o.qb(11,0,null,null,2,"ngl-progress-bar",[],null,null,null,_t.s,_t.g)),o.Eb(512,null,Et.lc,Et.lc,[o.F]),o.pb(13,638976,null,0,Et.Pb,[o.k,o.E,Et.lc],{value:[0,"value"],size:[1,"size"]},null),(n()(),o.qb(14,0,null,null,11,"div",[["class","slds-grid slds-wrap slds-p-horizontal_small slds-m-bottom_small"]],null,null,null,null,null)),(n()(),o.qb(15,0,null,null,3,"div",[["class","slds-col slds-size_1-of-2 slds-truncate"]],null,null,null,null,null)),(n()(),o.Hb(16,null,[" ",": "," "])),o.Bb(131072,d.i,[d.j,o.h]),o.Bb(131072,d.i,[d.j,o.h]),(n()(),o.qb(19,0,null,null,2,"div",[["class","slds-col duration slds-size_1-of-2"]],null,null,null,null,null)),(n()(),o.qb(20,0,null,null,1,"strong",[],null,null,null,null,null)),(n()(),o.Hb(21,null,[""," - ","%"])),(n()(),o.qb(22,0,null,null,3,"div",[["class","slds-col slds-size_1-of-1 slds-m-top_x-small available"]],null,null,null,null,null)),(n()(),o.qb(23,0,null,null,2,"ngl-progress-bar",[],null,null,null,_t.s,_t.g)),o.Eb(512,null,Et.lc,Et.lc,[o.F]),o.pb(25,638976,null,0,Et.Pb,[o.k,o.E,Et.lc],{value:[0,"value"],size:[1,"size"]},null),(n()(),o.qb(26,0,null,null,24,"div",[["class","slds-m-bottom_x-large"]],null,null,null,null,null)),(n()(),o.qb(27,0,null,null,11,"div",[["class","slds-grid slds-wrap slds-p-horizontal_small slds-m-bottom_small"]],null,null,null,null,null)),(n()(),o.qb(28,0,null,null,3,"div",[["class","slds-col slds-size_1-of-2 slds-truncate"]],null,null,null,null,null)),(n()(),o.Hb(29,null,[" ",": "," "])),o.Bb(131072,d.i,[d.j,o.h]),o.Bb(131072,d.i,[d.j,o.h]),(n()(),o.qb(32,0,null,null,2,"div",[["class","slds-col duration slds-size_1-of-2"]],null,null,null,null,null)),(n()(),o.qb(33,0,null,null,1,"strong",[],null,null,null,null,null)),(n()(),o.Hb(34,null,[""," - ","%"])),(n()(),o.qb(35,0,null,null,3,"div",[["class","slds-col slds-size_1-of-1 slds-m-top_x-small working"]],null,null,null,null,null)),(n()(),o.qb(36,0,null,null,2,"ngl-progress-bar",[],null,null,null,_t.s,_t.g)),o.Eb(512,null,Et.lc,Et.lc,[o.F]),o.pb(38,638976,null,0,Et.Pb,[o.k,o.E,Et.lc],{value:[0,"value"],size:[1,"size"]},null),(n()(),o.qb(39,0,null,null,11,"div",[["class","slds-grid slds-wrap slds-p-horizontal_small slds-m-bottom_small"]],null,null,null,null,null)),(n()(),o.qb(40,0,null,null,3,"div",[["class","slds-col slds-size_1-of-2 slds-truncate"]],null,null,null,null,null)),(n()(),o.Hb(41,null,[" ",": "," "])),o.Bb(131072,d.i,[d.j,o.h]),o.Bb(131072,d.i,[d.j,o.h]),(n()(),o.qb(44,0,null,null,2,"div",[["class","slds-col duration slds-size_1-of-2"]],null,null,null,null,null)),(n()(),o.qb(45,0,null,null,1,"strong",[],null,null,null,null,null)),(n()(),o.Hb(46,null,[""," - ","%"])),(n()(),o.qb(47,0,null,null,3,"div",[["class","slds-col slds-size_1-of-1 slds-m-top_x-small working"]],null,null,null,null,null)),(n()(),o.qb(48,0,null,null,2,"ngl-progress-bar",[],null,null,null,_t.s,_t.g)),o.Eb(512,null,Et.lc,Et.lc,[o.F]),o.pb(50,638976,null,0,Et.Pb,[o.k,o.E,Et.lc],{value:[0,"value"],size:[1,"size"]},null),(n()(),o.qb(51,0,null,null,24,"div",[["class","slds-m-bottom_x-large"]],null,null,null,null,null)),(n()(),o.qb(52,0,null,null,11,"div",[["class","slds-grid slds-wrap slds-p-horizontal_small slds-m-bottom_small"]],null,null,null,null,null)),(n()(),o.qb(53,0,null,null,3,"div",[["class","slds-col slds-size_1-of-2 slds-truncate"]],null,null,null,null,null)),(n()(),o.Hb(54,null,[" ",": "," "])),o.Bb(131072,d.i,[d.j,o.h]),o.Bb(131072,d.i,[d.j,o.h]),(n()(),o.qb(57,0,null,null,2,"div",[["class","slds-col duration slds-size_1-of-2"]],null,null,null,null,null)),(n()(),o.qb(58,0,null,null,1,"strong",[],null,null,null,null,null)),(n()(),o.Hb(59,null,[""," - ","%"])),(n()(),o.qb(60,0,null,null,3,"div",[["class","slds-col slds-size_1-of-1 slds-m-top_x-small unavailable"]],null,null,null,null,null)),(n()(),o.qb(61,0,null,null,2,"ngl-progress-bar",[],null,null,null,_t.s,_t.g)),o.Eb(512,null,Et.lc,Et.lc,[o.F]),o.pb(63,638976,null,0,Et.Pb,[o.k,o.E,Et.lc],{value:[0,"value"],size:[1,"size"]},null),(n()(),o.qb(64,0,null,null,11,"div",[["class","slds-grid slds-wrap slds-p-horizontal_small slds-m-bottom_small"]],null,null,null,null,null)),(n()(),o.qb(65,0,null,null,3,"div",[["class","slds-col slds-size_1-of-2 slds-truncate"]],null,null,null,null,null)),(n()(),o.Hb(66,null,[" ",": "," "])),o.Bb(131072,d.i,[d.j,o.h]),o.Bb(131072,d.i,[d.j,o.h]),(n()(),o.qb(69,0,null,null,2,"div",[["class","slds-col duration slds-size_1-of-2"]],null,null,null,null,null)),(n()(),o.qb(70,0,null,null,1,"strong",[],null,null,null,null,null)),(n()(),o.Hb(71,null,[""," - ","%"])),(n()(),o.qb(72,0,null,null,3,"div",[["class","slds-col slds-size_1-of-1 slds-m-top_x-small unavailable"]],null,null,null,null,null)),(n()(),o.qb(73,0,null,null,2,"ngl-progress-bar",[],null,null,null,_t.s,_t.g)),o.Eb(512,null,Et.lc,Et.lc,[o.F]),o.pb(75,638976,null,0,Et.Pb,[o.k,o.E,Et.lc],{value:[0,"value"],size:[1,"size"]},null)],function(n,t){var e=t.component;n(t,13,0,e.productivityDetails.agentAvailablePercentage,"medium"),n(t,25,0,e.productivityDetails.teamAvailablePercentage,"medium"),n(t,38,0,e.productivityDetails.agentWorkingPercentage,"medium"),n(t,50,0,e.productivityDetails.teamWorkingPercentage,"medium"),n(t,63,0,e.productivityDetails.agentUnavailablePercentage,"medium"),n(t,75,0,e.productivityDetails.teamUnavailablePercentage,"medium")},function(n,t){var e=t.component;n(t,4,0,o.Ib(t,4,0,o.Ab(t,5).transform("available")),o.Ib(t,4,1,o.Ab(t,6).transform("personal"))),n(t,9,0,e.productivityDetails.agentAvailableDisplayTime,e.productivityDetails.agentAvailablePercentage),n(t,16,0,o.Ib(t,16,0,o.Ab(t,17).transform("available")),o.Ib(t,16,1,o.Ab(t,18).transform("team"))),n(t,21,0,e.productivityDetails.teamAvailableDisplayTime,e.productivityDetails.teamAvailablePercentage),n(t,29,0,o.Ib(t,29,0,o.Ab(t,30).transform("working")),o.Ib(t,29,1,o.Ab(t,31).transform("personal"))),n(t,34,0,e.productivityDetails.agentWorkingDisplayTime,e.productivityDetails.agentWorkingPercentage),n(t,41,0,o.Ib(t,41,0,o.Ab(t,42).transform("working")),o.Ib(t,41,1,o.Ab(t,43).transform("team"))),n(t,46,0,e.productivityDetails.teamWorkingDisplayTime,e.productivityDetails.teamWorkingPercentage),n(t,54,0,o.Ib(t,54,0,o.Ab(t,55).transform("unavailable")),o.Ib(t,54,1,o.Ab(t,56).transform("personal"))),n(t,59,0,e.productivityDetails.agentUnavailableDisplayTime,e.productivityDetails.agentUnavailablePercentage),n(t,66,0,o.Ib(t,66,0,o.Ab(t,67).transform("unavailable")),o.Ib(t,66,1,o.Ab(t,68).transform("team"))),n(t,71,0,e.productivityDetails.teamUnavailableDisplayTime,e.productivityDetails.teamUnavailablePercentage)})}var ba=o.ob({encapsulation:0,styles:[[".full-height[_ngcontent-%COMP%], html[_ngcontent-%COMP%], html[_ngcontent-%COMP%]   body[_ngcontent-%COMP%]{height:100%}.no-strech[_ngcontent-%COMP%]{flex:0}.strech[_ngcontent-%COMP%]{flex:1;position:relative}.no-scroll[_ngcontent-%COMP%]{overflow:hidden}.full-height-flex[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;justify-content:center}.center-align[_ngcontent-%COMP%]{text-align:center}.cursor-pointer[_ngcontent-%COMP%]{cursor:pointer}.text-wrap[_ngcontent-%COMP%]{word-wrap:break-word}.text-bold[_ngcontent-%COMP%]{font-weight:700}.cdk-overlay-container[_ngcontent-%COMP%]   .slds-modal__container[_ngcontent-%COMP%]{margin:0;padding:0}.cdk-overlay-container[_ngcontent-%COMP%]   .slds-modal__content[_ngcontent-%COMP%]{height:100%}.cdk-global-scrollblock[_ngcontent-%COMP%]{overflow-y:auto!important}@media (min-width:48em){.slds-scope[_ngcontent-%COMP%]   .slds-modal--large[_ngcontent-%COMP%]   .slds-modal__container[_ngcontent-%COMP%], .slds-scope[_ngcontent-%COMP%]   .slds-modal_large[_ngcontent-%COMP%]   .slds-modal__container[_ngcontent-%COMP%]{width:100%;height:100%}}.pull-down[_ngcontent-%COMP%]{position:absolute;bottom:0;width:100%}.dialog-style[_ngcontent-%COMP%]{position:fixed;top:0;background-color:#fff;right:0;left:0;box-shadow:0 0 5px grey;z-index:1001}.schedule-container[_ngcontent-%COMP%]   .fc-widget-content[_ngcontent-%COMP%]{background-color:#fff}.schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%]{opacity:.75;text-indent:3px}.schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-event[_ngcontent-%COMP%]{border-radius:0;cursor:default;color:#01396a;min-height:2rem}.schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-event[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%]{font-weight:700}.schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%]:hover, .schedule-container[_ngcontent-%COMP%]   .fc-event[_ngcontent-%COMP%]:hover{text-decoration:none;color:#01396a}.schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%]   .fc-title[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-event[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-event[_ngcontent-%COMP%]   .fc-title[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-slats[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-slats[_ngcontent-%COMP%]   .fc-title[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-title[_ngcontent-%COMP%]{font-size:.8rem}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-content[_ngcontent-%COMP%]{display:flex}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-title[_ngcontent-%COMP%]{display:inline-block;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.schedule-container[_ngcontent-%COMP%]   .commitment-event[_ngcontent-%COMP%]{background-color:#d9d9d9;border-color:#d9d9d9}.schedule-container[_ngcontent-%COMP%]   .commitment-event[_ngcontent-%COMP%]:hover{cursor:pointer}.schedule-container[_ngcontent-%COMP%]   .fc-header-toolbar[_ngcontent-%COMP%]   .fc-left[_ngcontent-%COMP%]{margin-left:10px}.schedule-container[_ngcontent-%COMP%]   .fc-button-group[_ngcontent-%COMP%]{font-size:.6rem}.schedule-container[_ngcontent-%COMP%]   .fc-button-group[_ngcontent-%COMP%]   .fc-button-primary[_ngcontent-%COMP%]{background-color:#fff;border-color:grey;color:grey;box-shadow:none}.schedule-container[_ngcontent-%COMP%]   .fc-button-group[_ngcontent-%COMP%]   .fc-button-primary[_ngcontent-%COMP%]:not(:disabled):active{box-shadow:none}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]{min-height:1rem}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%]::before{display:none}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid[_ngcontent-%COMP%]   .fc-slats[_ngcontent-%COMP%]   .fc-minor[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-top:0}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-container[_ngcontent-%COMP%]{overflow:visible!important}.slds-scope[_ngcontent-%COMP%]   .slds-button[_ngcontent-%COMP%]:not([disabled]){color:#0672d4}.slds-scope[_ngcontent-%COMP%]   .slds-button.slds-button_brand[_ngcontent-%COMP%]{color:#fff}.slds-scope[_ngcontent-%COMP%]   .slds-button.decline-button[_ngcontent-%COMP%]:not([disabled]){color:#c13834;border-color:#c13834}.slds-scope[_ngcontent-%COMP%]   .slds-button.accept-button[_ngcontent-%COMP%]:not([disabled]){color:#fff}.slds-scope[_ngcontent-%COMP%]   .slds-slider__range[_ngcontent-%COMP%]{-webkit-appearance:none}.slds-scope[_ngcontent-%COMP%]   .slds-slider__range[_ngcontent-%COMP%]::-webkit-slider-thumb{-webkit-appearance:none;appearance:none}.initialize-softphone[_ngcontent-%COMP%]   .slds-spinner[_ngcontent-%COMP%]{margin-left:-6em}.slds-scope[_ngcontent-%COMP%]   .cdk-overlay-container[_ngcontent-%COMP%]{position:absolute}.unread-icon[_ngcontent-%COMP%]{height:.5rem;width:.5rem;border-radius:50%;display:inline-block;background-color:#1589ee}.unread-icon.visited[_ngcontent-%COMP%]{background:0 0}.agent-reports[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column}.agent-reports[_ngcontent-%COMP%]   .tabs-section[_ngcontent-%COMP%]     li{text-align:center;flex:1 1 auto;width:50%}.agent-reports[_ngcontent-%COMP%]   .tabs-section[_ngcontent-%COMP%]     li a{text-decoration:none}.agent-reports[_ngcontent-%COMP%]   .date-range-dropdown[_ngcontent-%COMP%]{width:100%}.agent-reports[_ngcontent-%COMP%]   .date-range-dropdown[_ngcontent-%COMP%]   .selected-date[_ngcontent-%COMP%]{width:80%}.agent-reports[_ngcontent-%COMP%]   .date-range-dropdown[_ngcontent-%COMP%]   .slds-dropdown[_ngcontent-%COMP%]{width:100%;left:.5rem;top:2.2rem}.agent-reports[_ngcontent-%COMP%]   .date-range-dropdown[_ngcontent-%COMP%]   .slds-dropdown[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .agent-reports[_ngcontent-%COMP%]   .date-range-dropdown[_ngcontent-%COMP%]   .slds-dropdown[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#080707}.agent-reports[_ngcontent-%COMP%]   .performance-percentage[_ngcontent-%COMP%]{font-size:.9rem}.agent-reports[_ngcontent-%COMP%]   .no-report-error[_ngcontent-%COMP%]{height:100%}"]],data:{}});function ma(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,1,"app-loading-spinner",[],null,null,null,Kt,Qt)),o.pb(1,49152,null,0,Xt,[],null,null)],null,null)}function Ca(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,7,null,null,null,null,null,null,null)),(n()(),o.qb(1,0,null,null,6,"li",[["class","slds-m-top_xx-small slds-m-bottom_xx-small"]],[[8,"title",0]],[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.selectDateRange(n.context.$implicit)&&l),l},null,null)),o.Bb(131072,d.i,[d.j,o.h]),(n()(),o.qb(3,0,null,null,4,"a",[["nglDropdownItem",""],["role","menuitem"],["tabindex","0"]],null,[[null,"focus"],[null,"blur"]],function(n,t,e){var l=!0;return"focus"===t&&(l=!1!==o.Ab(n,4).onFocus()&&l),"blur"===t&&(l=!1!==o.Ab(n,4).onBlur()&&l),l},null,null)),o.pb(4,16384,[[1,4]],0,Et.Cb,[o.k],null,null),(n()(),o.qb(5,0,null,null,2,"span",[],null,null,null,null,null)),(n()(),o.Hb(6,null,["",""])),o.Bb(131072,d.i,[d.j,o.h])],null,function(n,t){n(t,1,0,o.Ib(t,1,0,o.Ab(t,2).transform(t.context.$implicit))),n(t,6,0,o.Ib(t,6,0,o.Ab(t,7).transform(t.context.$implicit)))})}function va(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,2,"span",[],null,null,null,null,null)),(n()(),o.Hb(1,null,["",""])),o.Bb(131072,d.i,[d.j,o.h])],null,function(n,t){n(t,1,0,o.Ib(t,1,0,o.Ab(t,2).transform("performance")))})}function _a(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,2,"span",[],null,null,null,null,null)),(n()(),o.Hb(1,null,["",""])),o.Bb(131072,d.i,[d.j,o.h])],null,function(n,t){n(t,1,0,o.Ib(t,1,0,o.Ab(t,2).transform("productivity")))})}function Oa(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,2,"div",[["class","slds-m-top_small"]],null,null,null,null,null)),(n()(),o.qb(1,0,null,null,1,"app-performance-details",[],null,null,null,ga,da)),o.pb(2,49152,null,0,ua,[],{performanceDetails:[0,"performanceDetails"],agentData:[1,"agentData"],teamData:[2,"teamData"]},null)],function(n,t){var e=t.component;n(t,2,0,e.performanceDetails,e.agentPerformanceData,e.teamPerformanceData)},null)}function Ma(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,2,"div",[["class","slds-m-top_small"]],null,null,null,null,null)),(n()(),o.qb(1,0,null,null,1,"app-productivity-details",[],null,null,null,fa,pa)),o.pb(2,49152,null,0,ha,[],{productivityDetails:[0,"productivityDetails"]},null)],function(n,t){n(t,2,0,t.component.productivityDetails)},null)}function Pa(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,2,"div",[["class","no-report-error slds-p-around_small slds-align_absolute-center"]],null,null,null,null,null)),(n()(),o.Hb(1,null,[" "," "])),o.Bb(131072,d.i,[d.j,o.h])],null,function(n,t){n(t,1,0,o.Ib(t,1,0,o.Ab(t,2).transform("noItemsToDisplay")))})}function Sa(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,56,"div",[["class","agent-reports"]],null,null,null,null,null)),(n()(),o.hb(16777216,null,null,1,null,ma)),o.pb(2,16384,null,0,Pt.l,[o.P,o.M],{ngIf:[0,"ngIf"]},null),(n()(),o.qb(3,0,null,null,8,"div",[["class","slds-grid slds-wrap slds-p-around_small"]],null,null,null,null,null)),(n()(),o.qb(4,0,null,null,7,"div",[["class","slds-col slds-size_1-of-1"]],null,null,null,null,null)),(n()(),o.qb(5,0,null,null,2,"div",[["class","slds-text-heading_small slds-show_inline-block"]],null,null,null,null,null)),(n()(),o.Hb(6,null,[" "," "])),o.Bb(131072,d.i,[d.j,o.h]),(n()(),o.qb(8,0,null,null,3,"span",[["class","slds-icon_container slds-float_right cursor-pointer"]],[[8,"title",0]],[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.close()&&l),l},null,null)),o.Bb(131072,d.i,[d.j,o.h]),(n()(),o.qb(10,0,null,null,1,":svg:svg",[["aria-hidden","true"],["class","slds-icon slds-icon-text-light slds-icon_x-small"]],null,null,null,null,null)),(n()(),o.qb(11,0,null,null,0,":svg:use",[[":xlink:href","/_slds/icons/utility-sprite/svg/symbols.svg#close"]],null,null,null,null,null)),(n()(),o.qb(12,0,null,null,14,"div",[["class","tabs-section slds-m-top_medium slds-m-bottom_x-small"]],null,null,null,null,null)),(n()(),o.qb(13,0,null,null,13,"div",[["class","slds-tabs_default"]],null,null,null,null,null)),(n()(),o.qb(14,0,null,null,12,"ul",[["class","slds-tabs_default__nav"],["role","tablist"]],null,null,null,null,null)),(n()(),o.qb(15,0,null,null,5,"li",[["class","slds-tabs_default__item slds-truncate slds-p-horizontal_x-small"]],null,[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.switchTab("performance")&&l),l},null,null)),o.pb(16,278528,null,0,Pt.j,[o.s,o.t,o.k,o.E],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),o.Cb(17,{"slds-is-active":0}),(n()(),o.qb(18,0,null,null,2,"a",[["class","slds-tabs_default__link"]],null,null,null,null,null)),(n()(),o.Hb(19,null,["",""])),o.Bb(131072,d.i,[d.j,o.h]),(n()(),o.qb(21,0,null,null,5,"li",[["class","slds-tabs_default__item slds-truncate slds-p-horizontal_x-small"]],null,[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.switchTab("productivity")&&l),l},null,null)),o.pb(22,278528,null,0,Pt.j,[o.s,o.t,o.k,o.E],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),o.Cb(23,{"slds-is-active":0}),(n()(),o.qb(24,0,null,null,2,"a",[["class","slds-tabs_default__link"]],null,null,null,null,null)),(n()(),o.Hb(25,null,["",""])),o.Bb(131072,d.i,[d.j,o.h]),(n()(),o.qb(27,0,null,null,16,"div",[["class","slds-grid slds-wrap slds-border_bottom"]],null,null,null,null,null)),(n()(),o.qb(28,0,null,null,15,"div",[["class","slds-col slds-size_2-of-5 slds-medium-size_2-of-8"]],null,null,null,null,null)),(n()(),o.qb(29,0,null,null,14,"span",[["class","date-range-dropdown cursor-pointer"],["nglDropdown",""]],[[2,"slds-dropdown-trigger",null],[2,"slds-dropdown-trigger_click",null]],[[null,"openChange"],[null,"keydown.esc"],[null,"keydown.tab"],[null,"keydown.arrowdown"],[null,"keydown.arrowup"]],function(n,t,e){var l=!0,i=n.component;return"keydown.esc"===t&&(l=!1!==o.Ab(n,30).onKeydownClose("esc")&&l),"keydown.tab"===t&&(l=!1!==o.Ab(n,30).onKeydownClose("tab")&&l),"keydown.arrowdown"===t&&(l=!1!==o.Ab(n,30).onKeydownFocusNext(e,"next")&&l),"keydown.arrowup"===t&&(l=!1!==o.Ab(n,30).onKeydownFocusNext(e,"previous")&&l),"openChange"===t&&(l=!1!==(i.isDateRangeOpen=e)&&l),l},null,null)),o.pb(30,212992,null,1,Et.Bb,[o.k,o.E],{isOpen:[0,"isOpen"]},{isOpenChange:"openChange"}),o.Fb(603979776,1,{items:1}),(n()(),o.qb(32,0,null,null,7,"div",[["aria-haspopup","true"],["class","slds-p-horizontal_small slds-p-vertical_x-small"],["nglDropdownTrigger",""]],null,[[null,"click"],[null,"keydown.arrowdown"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==o.Ab(n,33).toggleOpen()&&l),"keydown.arrowdown"===t&&(l=!1!==o.Ab(n,33).onKeyDownOpen(e)&&l),l},null,null)),o.pb(33,147456,null,0,Et.Db,[o.k,Et.Bb],null,null),(n()(),o.qb(34,0,null,null,2,"span",[["class","selected-date slds-show_inline-block slds-truncate"]],null,null,null,null,null)),(n()(),o.Hb(35,null,["",""])),o.Bb(131072,d.i,[d.j,o.h]),(n()(),o.qb(37,0,null,null,2,"div",[["class","slds-m-top_xx-small slds-float_right slds-show_inline-block"]],null,null,null,null,null)),(n()(),o.qb(38,0,null,null,1,":svg:svg",[["aria-hidden","true"],["class","slds-icon slds-icon-text-default slds-icon_xx-small slds-p-bottom_xx-small"]],null,null,null,null,null)),(n()(),o.qb(39,0,null,null,0,":svg:use",[[":xlink:href","/_slds/icons/utility-sprite/svg/symbols.svg#chevrondown"]],null,null,null,null,null)),(n()(),o.qb(40,0,null,null,3,"div",[["class","slds-dropdown slds-dropdown_left"]],null,null,null,null,null)),(n()(),o.qb(41,0,null,null,2,"ul",[["class","slds-m-left_small"]],null,null,null,null,null)),(n()(),o.hb(16777216,null,null,1,null,Ca)),o.pb(43,278528,null,0,Pt.k,[o.P,o.M,o.s],{ngForOf:[0,"ngForOf"]},null),(n()(),o.qb(44,0,null,null,6,"div",[["class","performance-percentage slds-p-horizontal_small slds-p-top_small slds-p-bottom_xxx-small"]],null,null,null,null,null)),(n()(),o.hb(16777216,null,null,1,null,va)),o.pb(46,16384,null,0,Pt.l,[o.P,o.M],{ngIf:[0,"ngIf"]},null),(n()(),o.hb(16777216,null,null,1,null,_a)),o.pb(48,16384,null,0,Pt.l,[o.P,o.M],{ngIf:[0,"ngIf"]},null),(n()(),o.qb(49,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),o.Hb(50,null,[": ","%"])),(n()(),o.hb(16777216,null,null,1,null,Oa)),o.pb(52,16384,null,0,Pt.l,[o.P,o.M],{ngIf:[0,"ngIf"]},null),(n()(),o.hb(16777216,null,null,1,null,Ma)),o.pb(54,16384,null,0,Pt.l,[o.P,o.M],{ngIf:[0,"ngIf"]},null),(n()(),o.hb(16777216,null,null,1,null,Pa)),o.pb(56,16384,null,0,Pt.l,[o.P,o.M],{ngIf:[0,"ngIf"]},null)],function(n,t){var e=t.component;n(t,2,0,e.showSpinner);var l=n(t,17,0,"performance"===e.activeTab);n(t,16,0,"slds-tabs_default__item slds-truncate slds-p-horizontal_x-small",l);var o=n(t,23,0,"productivity"===e.activeTab);n(t,22,0,"slds-tabs_default__item slds-truncate slds-p-horizontal_x-small",o),n(t,30,0,e.isDateRangeOpen),n(t,43,0,e.dateRangeList),n(t,46,0,"performance"===e.activeTab),n(t,48,0,"productivity"===e.activeTab),n(t,52,0,"performance"===e.activeTab&&e.performanceDetails),n(t,54,0,"productivity"===e.activeTab&&e.productivityDetails),n(t,56,0,e.showNoDataFound)},function(n,t){var e=t.component;n(t,6,0,o.Ib(t,6,0,o.Ab(t,7).transform("agentReports"))),n(t,8,0,o.sb(1,"",o.Ib(t,8,0,o.Ab(t,9).transform("close")),"")),n(t,19,0,o.Ib(t,19,0,o.Ab(t,20).transform("performanceTab"))),n(t,25,0,o.Ib(t,25,0,o.Ab(t,26).transform("productivityTab"))),n(t,29,0,!0,!0),n(t,35,0,o.Ib(t,35,0,o.Ab(t,36).transform(e.selectedDate))),n(t,50,0,e.overallPercentage)})}function ya(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,1,"app-agent-reports",[],null,null,null,Sa,ba)),o.pb(1,245760,null,0,ht,[Hn,Un,_,f,P],null,null)],function(n,t){n(t,1,0)},null)}var ka=o.mb("app-agent-reports",ht,ya,{},{},[]),wa=o.ob({encapsulation:0,styles:[[".audio-visual-settings[_ngcontent-%COMP%]{height:100%}"]],data:{}});function Ia(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,18,"div",[["class","slds-grid slds-p-around_small slds-grid_vertical slds-wrap audio-visual-settings"]],null,null,null,null,null)),(n()(),o.qb(1,0,null,null,8,"div",[["class","slds-col slds-size_1-of-1"]],null,null,null,null,null)),(n()(),o.qb(2,0,null,null,2,"div",[["class","slds-text-heading_small slds-size_2-of-3 slds-show_inline-block"]],null,null,null,null,null)),(n()(),o.Hb(3,null,[" "," "])),o.Bb(131072,d.i,[d.j,o.h]),(n()(),o.qb(5,0,null,null,4,"div",[["class","slds-size_1-of-3 slds-show_inline-block"]],null,null,null,null,null)),(n()(),o.qb(6,0,null,null,3,"span",[["class","slds-icon_container slds-float_right cursor-pointer"]],[[8,"title",0]],[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.close()&&l),l},null,null)),o.Bb(131072,d.i,[d.j,o.h]),(n()(),o.qb(8,0,null,null,1,":svg:svg",[["aria-hidden","true"],["class","slds-icon slds-icon-text-light slds-icon_x-small"]],null,null,null,null,null)),(n()(),o.qb(9,0,null,null,0,":svg:use",[[":xlink:href","/_slds/icons/utility-sprite/svg/symbols.svg#close"]],null,null,null,null,null)),(n()(),o.qb(10,0,null,null,4,"div",[["class","slds-col slds-size_1-of-1 slds-p-top_large"]],null,null,null,null,null)),(n()(),o.qb(11,0,null,null,3,"ngl-slider",[],[[2,"slds-has-error",null]],[[null,"valueChange"]],function(n,t,e){var l=!0,o=n.component;return"valueChange"===t&&(l=!1!==(o.volume=e)&&l),"valueChange"===t&&(l=!1!==o.valueChanged(e)&&l),l},_t.v,_t.j)),o.Eb(5120,null,Mt.f,function(n){return[n]},[Et.bc]),o.pb(13,49152,null,0,Et.bc,[o.k,o.E,o.h],{label:[0,"label"],value:[1,"value"]},{valueChange:"valueChange"}),o.Bb(131072,d.i,[d.j,o.h]),(n()(),o.qb(15,0,null,null,3,"div",[["class","slds-col_bump-top slds-size_1-of-1"]],null,null,null,null,null)),(n()(),o.qb(16,0,null,null,2,"button",[["class","slds-button slds-button_brand slds-size_1-of-1"]],null,[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.saveAudioSettings()&&l),l},null,null)),(n()(),o.Hb(17,null,["",""])),o.Bb(131072,d.i,[d.j,o.h])],function(n,t){var e=t.component;n(t,13,0,o.sb(1,"",o.Ib(t,13,0,o.Ab(t,14).transform("headsetVolume")),""),e.volume)},function(n,t){n(t,3,0,o.Ib(t,3,0,o.Ab(t,4).transform("audioVisualSettings"))),n(t,6,0,o.sb(1,"",o.Ib(t,6,0,o.Ab(t,7).transform("close")),"")),n(t,11,0,o.Ab(t,13).hasError),n(t,17,0,o.Ib(t,17,0,o.Ab(t,18).transform("save")))})}function Na(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,1,"app-audio-visual-settings",[],null,null,null,Ia,wa)),o.pb(1,245760,null,0,bt,[Hn,p,f,_],null,null)],function(n,t){n(t,1,0)},null)}var xa=o.mb("app-audio-visual-settings",bt,Na,{},{},[]),Aa=o.ob({encapsulation:0,styles:[[".full-height[_ngcontent-%COMP%], html[_ngcontent-%COMP%], html[_ngcontent-%COMP%]   body[_ngcontent-%COMP%]{height:100%}.no-strech[_ngcontent-%COMP%]{flex:0}.strech[_ngcontent-%COMP%]{flex:1;position:relative}.no-scroll[_ngcontent-%COMP%]{overflow:hidden}.full-height-flex[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;justify-content:center}.center-align[_ngcontent-%COMP%]{text-align:center}.cursor-pointer[_ngcontent-%COMP%]{cursor:pointer}.text-wrap[_ngcontent-%COMP%]{word-wrap:break-word}.text-bold[_ngcontent-%COMP%]{font-weight:700}.cdk-overlay-container[_ngcontent-%COMP%]   .slds-modal__container[_ngcontent-%COMP%]{margin:0;padding:0}.cdk-overlay-container[_ngcontent-%COMP%]   .slds-modal__content[_ngcontent-%COMP%]{height:100%}.cdk-global-scrollblock[_ngcontent-%COMP%]{overflow-y:auto!important}@media (min-width:48em){.slds-scope[_ngcontent-%COMP%]   .slds-modal--large[_ngcontent-%COMP%]   .slds-modal__container[_ngcontent-%COMP%], .slds-scope[_ngcontent-%COMP%]   .slds-modal_large[_ngcontent-%COMP%]   .slds-modal__container[_ngcontent-%COMP%]{width:100%;height:100%}}.pull-down[_ngcontent-%COMP%]{position:absolute;bottom:0;width:100%}.dialog-style[_ngcontent-%COMP%]{position:fixed;top:0;background-color:#fff;right:0;left:0;box-shadow:0 0 5px grey;z-index:1001}.schedule-container[_ngcontent-%COMP%]   .fc-widget-content[_ngcontent-%COMP%]{background-color:#fff}.schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%]{opacity:.75;text-indent:3px}.schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-event[_ngcontent-%COMP%]{border-radius:0;cursor:default;color:#01396a;min-height:2rem}.schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-event[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%]{font-weight:700}.schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%]:hover, .schedule-container[_ngcontent-%COMP%]   .fc-event[_ngcontent-%COMP%]:hover{text-decoration:none;color:#01396a}.schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%]   .fc-title[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-event[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-event[_ngcontent-%COMP%]   .fc-title[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-slats[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-slats[_ngcontent-%COMP%]   .fc-title[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-title[_ngcontent-%COMP%]{font-size:.8rem}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-content[_ngcontent-%COMP%]{display:flex}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-title[_ngcontent-%COMP%]{display:inline-block;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.schedule-container[_ngcontent-%COMP%]   .commitment-event[_ngcontent-%COMP%]{background-color:#d9d9d9;border-color:#d9d9d9}.schedule-container[_ngcontent-%COMP%]   .commitment-event[_ngcontent-%COMP%]:hover{cursor:pointer}.schedule-container[_ngcontent-%COMP%]   .fc-header-toolbar[_ngcontent-%COMP%]   .fc-left[_ngcontent-%COMP%]{margin-left:10px}.schedule-container[_ngcontent-%COMP%]   .fc-button-group[_ngcontent-%COMP%]{font-size:.6rem}.schedule-container[_ngcontent-%COMP%]   .fc-button-group[_ngcontent-%COMP%]   .fc-button-primary[_ngcontent-%COMP%]{background-color:#fff;border-color:grey;color:grey;box-shadow:none}.schedule-container[_ngcontent-%COMP%]   .fc-button-group[_ngcontent-%COMP%]   .fc-button-primary[_ngcontent-%COMP%]:not(:disabled):active{box-shadow:none}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]{min-height:1rem}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%]::before{display:none}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid[_ngcontent-%COMP%]   .fc-slats[_ngcontent-%COMP%]   .fc-minor[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-top:0}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-container[_ngcontent-%COMP%]{overflow:visible!important}.slds-scope[_ngcontent-%COMP%]   .slds-button[_ngcontent-%COMP%]:not([disabled]){color:#0672d4}.slds-scope[_ngcontent-%COMP%]   .slds-button.slds-button_brand[_ngcontent-%COMP%]{color:#fff}.slds-scope[_ngcontent-%COMP%]   .slds-button.decline-button[_ngcontent-%COMP%]:not([disabled]){color:#c13834;border-color:#c13834}.slds-scope[_ngcontent-%COMP%]   .slds-button.accept-button[_ngcontent-%COMP%]:not([disabled]){color:#fff}.slds-scope[_ngcontent-%COMP%]   .slds-slider__range[_ngcontent-%COMP%]{-webkit-appearance:none}.slds-scope[_ngcontent-%COMP%]   .slds-slider__range[_ngcontent-%COMP%]::-webkit-slider-thumb{-webkit-appearance:none;appearance:none}.initialize-softphone[_ngcontent-%COMP%]   .slds-spinner[_ngcontent-%COMP%]{margin-left:-6em}.slds-scope[_ngcontent-%COMP%]   .cdk-overlay-container[_ngcontent-%COMP%]{position:absolute}.unread-icon[_ngcontent-%COMP%]{height:.5rem;width:.5rem;border-radius:50%;display:inline-block;background-color:#1589ee}.unread-icon.visited[_ngcontent-%COMP%]{background:0 0}.txt-align[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.text-panel[_ngcontent-%COMP%]{font-weight:700}.info-text[_ngcontent-%COMP%]{color:#506584}"]],data:{}});function Ta(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,4,"div",[],null,null,null,null,null)),(n()(),o.qb(1,0,null,null,1,"div",[],null,null,null,null,null)),(n()(),o.Hb(2,null,[" "," "])),(n()(),o.qb(3,0,null,null,1,"div",[["class","slds-text-title_bold slds-p-bottom_x-large txt-align"]],[[8,"title",0]],null,null,null,null)),(n()(),o.Hb(4,null,[" "," "]))],null,function(n,t){n(t,2,0,t.context.$implicit.skillType),n(t,3,0,o.sb(1,"",t.context.$implicit.skillName,"")),n(t,4,0,t.context.$implicit.skillName)})}function Ea(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,11,"div",[["class","slds-grid slds-wrap slds-p-top_small"]],null,null,null,null,null)),(n()(),o.qb(1,0,null,null,10,"div",[["class","slds-col slds-size_2-of-2 slds-is-relative slds-p-around_x-small"]],null,null,null,null,null)),(n()(),o.qb(2,0,null,null,2,"div",[["class","slds-text-heading_small slds-show_inline-block"]],null,null,null,null,null)),(n()(),o.Hb(3,null,[" "," "])),o.Bb(131072,d.i,[d.j,o.h]),(n()(),o.qb(5,0,null,null,6,"span",[["class","slds-icon_container slds-float_right cursor-pointer"]],[[8,"title",0]],[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.close()&&l),l},null,null)),o.Bb(131072,d.i,[d.j,o.h]),(n()(),o.qb(7,0,null,null,1,":svg:svg",[["aria-hidden","true"],["class","slds-icon slds-icon-text-light slds-icon_x-small"]],null,null,null,null,null)),(n()(),o.qb(8,0,null,null,0,":svg:use",[[":xlink:href","/_slds/icons/utility-sprite/svg/symbols.svg#close"]],null,null,null,null,null)),(n()(),o.qb(9,0,null,null,2,"span",[["class","slds-assistive-text"]],null,null,null,null,null)),(n()(),o.Hb(10,null,["",""])),o.Bb(131072,d.i,[d.j,o.h]),(n()(),o.qb(12,0,null,null,73,"div",[["class","slds-p-top_x-large"]],null,null,null,null,null)),(n()(),o.qb(13,0,null,null,66,"div",[["class","info-text"]],null,null,null,null,null)),(n()(),o.qb(14,0,null,null,5,"div",[["class","slds-truncate slds-truncate slds-p-bottom_x-small slds-p-top_x-small slds-border_top slds-border_bottom slds-p-left_large slds-p-left_large"]],null,null,null,null,null)),(n()(),o.qb(15,0,null,null,2,"div",[],null,null,null,null,null)),(n()(),o.Hb(16,null,["",""])),o.Bb(131072,d.i,[d.j,o.h]),(n()(),o.qb(18,0,null,null,1,"div",[["class","text-panel"]],null,null,null,null,null)),(n()(),o.Hb(19,null,["",""])),(n()(),o.qb(20,0,null,null,5,"div",[["class","slds-truncate slds-truncate slds-p-bottom_x-small slds-p-top_x-small slds-border_bottom slds-p-left_large"]],null,null,null,null,null)),(n()(),o.qb(21,0,null,null,2,"div",[],null,null,null,null,null)),(n()(),o.Hb(22,null,["",""])),o.Bb(131072,d.i,[d.j,o.h]),(n()(),o.qb(24,0,null,null,1,"div",[["class","txt-align text-panel"]],[[8,"title",0]],null,null,null,null)),(n()(),o.Hb(25,null,["",""])),(n()(),o.qb(26,0,null,null,5,"div",[["class","slds-truncate slds-truncate slds-p-bottom_x-small slds-p-top_x-small slds-border_bottom slds-p-left_large"]],null,null,null,null,null)),(n()(),o.qb(27,0,null,null,2,"div",[],null,null,null,null,null)),(n()(),o.Hb(28,null,["",""])),o.Bb(131072,d.i,[d.j,o.h]),(n()(),o.qb(30,0,null,null,1,"div",[["class","text-panel"]],null,null,null,null,null)),(n()(),o.Hb(31,null,["",""])),(n()(),o.qb(32,0,null,null,5,"div",[["class","slds-truncate slds-truncate slds-p-bottom_x-small slds-p-top_x-small slds-border_bottom slds-p-left_large"]],null,null,null,null,null)),(n()(),o.qb(33,0,null,null,2,"div",[],null,null,null,null,null)),(n()(),o.Hb(34,null,["",""])),o.Bb(131072,d.i,[d.j,o.h]),(n()(),o.qb(36,0,null,null,1,"div",[["class","text-panel"]],null,null,null,null,null)),(n()(),o.Hb(37,null,["",""])),(n()(),o.qb(38,0,null,null,5,"div",[["class","slds-truncate slds-truncate slds-p-bottom_x-small slds-p-top_x-small slds-border_bottom slds-p-left_large"]],null,null,null,null,null)),(n()(),o.qb(39,0,null,null,2,"div",[],null,null,null,null,null)),(n()(),o.Hb(40,null,["",""])),o.Bb(131072,d.i,[d.j,o.h]),(n()(),o.qb(42,0,null,null,1,"div",[["class","text-panel"]],null,null,null,null,null)),(n()(),o.Hb(43,null,["",""])),(n()(),o.qb(44,0,null,null,5,"div",[["class","slds-truncate slds-truncate slds-p-bottom_x-small slds-p-top_x-small slds-border_bottom slds-p-left_large"]],null,null,null,null,null)),(n()(),o.qb(45,0,null,null,2,"div",[],null,null,null,null,null)),(n()(),o.Hb(46,null,["",""])),o.Bb(131072,d.i,[d.j,o.h]),(n()(),o.qb(48,0,null,null,1,"div",[["class","text-panel"]],null,null,null,null,null)),(n()(),o.Hb(49,null,["",""])),(n()(),o.qb(50,0,null,null,5,"div",[["class","slds-truncate slds-truncate slds-p-bottom_x-small slds-p-top_x-small slds-border_bottom slds-p-left_large"]],null,null,null,null,null)),(n()(),o.qb(51,0,null,null,2,"div",[],null,null,null,null,null)),(n()(),o.Hb(52,null,["",""])),o.Bb(131072,d.i,[d.j,o.h]),(n()(),o.qb(54,0,null,null,1,"div",[["class","text-panel"]],null,null,null,null,null)),(n()(),o.Hb(55,null,["",""])),(n()(),o.qb(56,0,null,null,5,"div",[["class","slds-truncate slds-truncate slds-p-bottom_x-small slds-p-top_x-small slds-border_bottom slds-p-left_large"]],null,null,null,null,null)),(n()(),o.qb(57,0,null,null,2,"div",[],null,null,null,null,null)),(n()(),o.Hb(58,null,["",""])),o.Bb(131072,d.i,[d.j,o.h]),(n()(),o.qb(60,0,null,null,1,"div",[["class","text-panel"]],null,null,null,null,null)),(n()(),o.Hb(61,null,["",""])),(n()(),o.qb(62,0,null,null,5,"div",[["class","slds-truncate slds-truncate slds-p-bottom_x-small slds-p-top_x-small slds-border_bottom slds-p-left_large"]],null,null,null,null,null)),(n()(),o.qb(63,0,null,null,2,"div",[],null,null,null,null,null)),(n()(),o.Hb(64,null,["",""])),o.Bb(131072,d.i,[d.j,o.h]),(n()(),o.qb(66,0,null,null,1,"div",[["class","text-panel"]],null,null,null,null,null)),(n()(),o.Hb(67,null,["",""])),(n()(),o.qb(68,0,null,null,5,"div",[["class","slds-truncate slds-truncate slds-p-bottom_x-small slds-p-top_x-small slds-border_bottom slds-p-left_large"]],null,null,null,null,null)),(n()(),o.qb(69,0,null,null,2,"div",[],null,null,null,null,null)),(n()(),o.Hb(70,null,["",""])),o.Bb(131072,d.i,[d.j,o.h]),(n()(),o.qb(72,0,null,null,1,"div",[["class","text-panel"]],null,null,null,null,null)),(n()(),o.Hb(73,null,["",""])),(n()(),o.qb(74,0,null,null,5,"div",[["class","slds-truncate slds-truncate slds-p-bottom_x-small slds-p-top_x-small slds-border_bottom slds-p-left_large"]],null,null,null,null,null)),(n()(),o.qb(75,0,null,null,2,"div",[],null,null,null,null,null)),(n()(),o.Hb(76,null,["",""])),o.Bb(131072,d.i,[d.j,o.h]),(n()(),o.qb(78,0,null,null,1,"div",[["class","text-panel"]],null,null,null,null,null)),(n()(),o.Hb(79,null,["",""])),(n()(),o.qb(80,0,null,null,2,"div",[["class","slds-p-bottom_x-small slds-p-top_medium slds-border_bottom slds-p-left_large"]],null,null,null,null,null)),(n()(),o.Hb(81,null,["",""])),o.Bb(131072,d.i,[d.j,o.h]),(n()(),o.qb(83,0,null,null,2,"div",[["class","slds-p-left_large slds-p-top_small"]],null,null,null,null,null)),(n()(),o.hb(16777216,null,null,1,null,Ta)),o.pb(85,278528,null,0,Pt.k,[o.P,o.M,o.s],{ngForOf:[0,"ngForOf"]},null)],function(n,t){n(t,85,0,t.component.skillDetails)},function(n,t){var e=t.component;n(t,3,0,o.Ib(t,3,0,o.Ab(t,4).transform("platformInformation"))),n(t,5,0,o.sb(1,"",o.Ib(t,5,0,o.Ab(t,6).transform("close")),"")),n(t,10,0,o.Ib(t,10,0,o.Ab(t,11).transform("close"))),n(t,16,0,o.Ib(t,16,0,o.Ab(t,17).transform("agentId"))),n(t,19,0,e.platformInfo.agentId),n(t,22,0,o.Ib(t,22,0,o.Ab(t,23).transform("agentName"))),n(t,24,0,o.sb(1,"",e.platformInfo.agentName,"")),n(t,25,0,e.platformInfo.agentName),n(t,28,0,o.Ib(t,28,0,o.Ab(t,29).transform("stationId"))),n(t,31,0,e.platformInfo.stationId),n(t,34,0,o.Ib(t,34,0,o.Ab(t,35).transform("phoneNumber"))),n(t,37,0,e.platformInfo.phoneNumber),n(t,40,0,o.Ib(t,40,0,o.Ab(t,41).transform("callerId"))),n(t,43,0,e.platformInfo.callerId),n(t,46,0,o.Ib(t,46,0,o.Ab(t,47).transform("currentContacts"))),n(t,49,0,e.platformInfo.currentContacts),n(t,52,0,o.Ib(t,52,0,o.Ab(t,53).transform("currentTime"))),n(t,55,0,e.platformInfo.currentTime),n(t,58,0,o.Ib(t,58,0,o.Ab(t,59).transform("sessionId"))),n(t,61,0,e.platformInfo.sessionId),n(t,64,0,o.Ib(t,64,0,o.Ab(t,65).transform("agentLedId"))),n(t,67,0,e.platformInfo.agentLegId),n(t,70,0,o.Ib(t,70,0,o.Ab(t,71).transform("server"))),n(t,73,0,e.platformInfo.server),n(t,76,0,o.Ib(t,76,0,o.Ab(t,77).transform("version"))),n(t,79,0,e.platformInfo.version),n(t,81,0,o.Ib(t,81,0,o.Ab(t,82).transform("agentSkills")))})}function Da(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,1,"app-platform-information",[],null,null,null,Ea,Aa)),o.pb(1,245760,null,0,mt,[ot,Hn,Un,qn,p,f,O,_],null,null)],function(n,t){n(t,1,0)},null)}var Ua=o.mb("app-platform-information",mt,Da,{},{},[]),qa=function(){function n(n,t,e,l,i,s){this.agentSvc=n,this.adminSvc=t,this.logger=e,this.validationUtilSvc=l,this.navigationUtilSvc=i,this.dateTimeUtilSvc=s,this.callAccepted=new o.m}return n.prototype.ngOnInit=function(){var t=this;this.logger.debug(n.className,"Initialize"),this.getAgentDetails(),this.destroyTimerEvent();var e=Object(at.a)(1e3,1e3);this.callTimerEvent=e.subscribe(function(){t.validationUtilSvc.isNotNullOrEmpty(t.consultCallDetails)&&(t.callWaitTime=t.dateTimeUtilSvc.getElapsedTime(t.consultCallDetails.time))})},n.prototype.getAgentDetails=function(){var t=this;this.validationUtilSvc.isNotNullOrEmpty(this.consultCallDetails)&&this.adminSvc.getAgentDetails(this.consultCallDetails.inbound?this.consultCallDetails.ani:this.consultCallDetails.dnis).then(function(e){t.logger.debug(n.className,"Get Agent Details Success"),t.agentName=e.firstName+" "+e.lastName},function(e){t.logger.error(n.className,"Get Agent Details Error - "+e.message)})},n.prototype.acceptConsultCall=function(){var t=this;this.agentSvc.acceptConsultCall(this.consultCallDetails.id).then(function(e){t.logger.debug(n.className,"Consult Call Accept Success"),t.callAccepted.emit(!0),t.navigationUtilSvc.navigate(["/contacts"])},function(e){t.callAccepted.emit(!0),t.logger.error(n.className,"Consult Call Accept Error - "+e.message)})},n.prototype.destroyTimerEvent=function(){this.validationUtilSvc.isNotNullOrUndefined(this.callTimerEvent)&&this.callTimerEvent.unsubscribe()},n.prototype.ngOnDestroy=function(){this.logger.debug(n.className,"Destroy"),this.destroyTimerEvent()},n.className="ConsultCallAcceptComponent",n}(),La=o.ob({encapsulation:0,styles:[[".full-height[_ngcontent-%COMP%], html[_ngcontent-%COMP%], html[_ngcontent-%COMP%]   body[_ngcontent-%COMP%]{height:100%}.no-strech[_ngcontent-%COMP%]{flex:0}.strech[_ngcontent-%COMP%]{flex:1;position:relative}.no-scroll[_ngcontent-%COMP%]{overflow:hidden}.full-height-flex[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;justify-content:center}.center-align[_ngcontent-%COMP%]{text-align:center}.cursor-pointer[_ngcontent-%COMP%]{cursor:pointer}.text-wrap[_ngcontent-%COMP%]{word-wrap:break-word}.text-bold[_ngcontent-%COMP%]{font-weight:700}.cdk-overlay-container[_ngcontent-%COMP%]   .slds-modal__container[_ngcontent-%COMP%]{margin:0;padding:0}.cdk-overlay-container[_ngcontent-%COMP%]   .slds-modal__content[_ngcontent-%COMP%]{height:100%}.cdk-global-scrollblock[_ngcontent-%COMP%]{overflow-y:auto!important}@media (min-width:48em){.slds-scope[_ngcontent-%COMP%]   .slds-modal--large[_ngcontent-%COMP%]   .slds-modal__container[_ngcontent-%COMP%], .slds-scope[_ngcontent-%COMP%]   .slds-modal_large[_ngcontent-%COMP%]   .slds-modal__container[_ngcontent-%COMP%]{width:100%;height:100%}}.pull-down[_ngcontent-%COMP%]{position:absolute;bottom:0;width:100%}.dialog-style[_ngcontent-%COMP%]{position:fixed;top:0;background-color:#fff;right:0;left:0;box-shadow:0 0 5px grey;z-index:1001}.schedule-container[_ngcontent-%COMP%]   .fc-widget-content[_ngcontent-%COMP%]{background-color:#fff}.schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%]{opacity:.75;text-indent:3px}.schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-event[_ngcontent-%COMP%]{border-radius:0;cursor:default;color:#01396a;min-height:2rem}.schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-event[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%]{font-weight:700}.schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%]:hover, .schedule-container[_ngcontent-%COMP%]   .fc-event[_ngcontent-%COMP%]:hover{text-decoration:none;color:#01396a}.schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%]   .fc-title[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-event[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-event[_ngcontent-%COMP%]   .fc-title[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-slats[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-slats[_ngcontent-%COMP%]   .fc-title[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-title[_ngcontent-%COMP%]{font-size:.8rem}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-content[_ngcontent-%COMP%]{display:flex}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-title[_ngcontent-%COMP%]{display:inline-block;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.schedule-container[_ngcontent-%COMP%]   .commitment-event[_ngcontent-%COMP%]{background-color:#d9d9d9;border-color:#d9d9d9}.schedule-container[_ngcontent-%COMP%]   .commitment-event[_ngcontent-%COMP%]:hover{cursor:pointer}.schedule-container[_ngcontent-%COMP%]   .fc-header-toolbar[_ngcontent-%COMP%]   .fc-left[_ngcontent-%COMP%]{margin-left:10px}.schedule-container[_ngcontent-%COMP%]   .fc-button-group[_ngcontent-%COMP%]{font-size:.6rem}.schedule-container[_ngcontent-%COMP%]   .fc-button-group[_ngcontent-%COMP%]   .fc-button-primary[_ngcontent-%COMP%]{background-color:#fff;border-color:grey;color:grey;box-shadow:none}.schedule-container[_ngcontent-%COMP%]   .fc-button-group[_ngcontent-%COMP%]   .fc-button-primary[_ngcontent-%COMP%]:not(:disabled):active{box-shadow:none}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]{min-height:1rem}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%]::before{display:none}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid[_ngcontent-%COMP%]   .fc-slats[_ngcontent-%COMP%]   .fc-minor[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-top:0}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-container[_ngcontent-%COMP%]{overflow:visible!important}.slds-scope[_ngcontent-%COMP%]   .slds-button[_ngcontent-%COMP%]:not([disabled]){color:#0672d4}.slds-scope[_ngcontent-%COMP%]   .slds-button.slds-button_brand[_ngcontent-%COMP%]{color:#fff}.slds-scope[_ngcontent-%COMP%]   .slds-button.decline-button[_ngcontent-%COMP%]:not([disabled]){color:#c13834;border-color:#c13834}.slds-scope[_ngcontent-%COMP%]   .slds-button.accept-button[_ngcontent-%COMP%]:not([disabled]){color:#fff}.slds-scope[_ngcontent-%COMP%]   .slds-slider__range[_ngcontent-%COMP%]{-webkit-appearance:none}.slds-scope[_ngcontent-%COMP%]   .slds-slider__range[_ngcontent-%COMP%]::-webkit-slider-thumb{-webkit-appearance:none;appearance:none}.initialize-softphone[_ngcontent-%COMP%]   .slds-spinner[_ngcontent-%COMP%]{margin-left:-6em}.slds-scope[_ngcontent-%COMP%]   .cdk-overlay-container[_ngcontent-%COMP%]{position:absolute}.unread-icon[_ngcontent-%COMP%]{height:.5rem;width:.5rem;border-radius:50%;display:inline-block;background-color:#1589ee}.unread-icon.visited[_ngcontent-%COMP%]{background:0 0}.consult-call-accept[_ngcontent-%COMP%]{position:absolute;width:100%;z-index:1100;background-color:#fff}.consult-call-accept[_ngcontent-%COMP%]   .call-details[_ngcontent-%COMP%]{background-color:#4bca81;color:#fff}.consult-call-accept[_ngcontent-%COMP%]   .call-details[_ngcontent-%COMP%]   .slds-icon[_ngcontent-%COMP%]{width:1.2rem;height:1.2rem;fill:#fff;position:absolute;left:.95rem}.consult-call-accept[_ngcontent-%COMP%]   .call-details[_ngcontent-%COMP%]   .call-duration[_ngcontent-%COMP%]{text-align:right}.consult-call-accept[_ngcontent-%COMP%]   .call-details[_ngcontent-%COMP%]   .call-duration[_ngcontent-%COMP%], .consult-call-accept[_ngcontent-%COMP%]   .call-details[_ngcontent-%COMP%]   .consult-call[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.consult-call-accept[_ngcontent-%COMP%]   .call-accept-section[_ngcontent-%COMP%]   .answer-button[_ngcontent-%COMP%]{background-color:#4bca81;border-color:#4bca81;color:#fff;justify-content:center;width:8rem;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;cursor:pointer}.consult-call-accept[_ngcontent-%COMP%]   .call-accept-section[_ngcontent-%COMP%]   .answer-button[_ngcontent-%COMP%]:active, .consult-call-accept[_ngcontent-%COMP%]   .call-accept-section[_ngcontent-%COMP%]   .answer-button[_ngcontent-%COMP%]:hover{background-color:#4bca81;border-color:#4bca81}"]],data:{}});function Ba(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,21,"div",[["class","consult-call-accept"]],null,null,null,null,null)),(n()(),o.qb(1,0,null,null,15,"div",[["class","call-details slds-grid slds-p-around_small"]],null,null,null,null,null)),(n()(),o.qb(2,0,null,null,12,"div",[["class","slds-col slds-p-left_x-large slds-size_9-of-12"]],null,null,null,null,null)),(n()(),o.qb(3,0,null,null,1,":svg:svg",[["aria-hidden","true"],["class","slds-icon slds-m-top_x-small"]],null,null,null,null,null)),(n()(),o.qb(4,0,null,null,0,":svg:use",[[":xlink:href","/_slds/icons/utility-sprite/svg/symbols.svg#call"]],null,null,null,null,null)),(n()(),o.qb(5,0,null,null,4,"div",[["class","consult-call"]],[[8,"title",0]],null,null,null,null)),o.Bb(131072,d.i,[d.j,o.h]),(n()(),o.qb(7,0,null,null,2,"strong",[],null,null,null,null,null)),(n()(),o.Hb(8,null,["",""])),o.Bb(131072,d.i,[d.j,o.h]),(n()(),o.qb(10,0,null,null,4,"div",[["class","agent-name"]],[[8,"title",0]],null,null,null,null)),o.pb(11,278528,null,0,Pt.o,[o.t,o.k,o.E],{ngStyle:[0,"ngStyle"]},null),o.Cb(12,{visibility:0}),(n()(),o.Hb(13,null,[" "," "," "])),o.Bb(131072,d.i,[d.j,o.h]),(n()(),o.qb(15,0,null,null,1,"div",[["class","call-duration slds-p-left_small slds-col slds-size_3-of-12"]],null,null,null,null,null)),(n()(),o.Hb(16,null,[" "," "])),(n()(),o.qb(17,0,null,null,4,"div",[["class","slds-clearfix slds-p-horizontal_small slds-p-vertical_x-small slds-border_bottom"]],null,null,null,null,null)),(n()(),o.qb(18,0,null,null,3,"div",[["class","call-accept-section slds-float_right"]],null,null,null,null,null)),(n()(),o.qb(19,0,null,null,2,"button",[["class","slds-button answer-button slds-p-horizontal_xx-small"]],null,[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.acceptConsultCall()&&l),l},null,null)),(n()(),o.Hb(20,null,[" "," "])),o.Bb(131072,d.i,[d.j,o.h])],function(n,t){var e=n(t,12,0,t.component.agentName?"":"hidden");n(t,11,0,e)},function(n,t){var e=t.component;n(t,5,0,o.sb(1,"",o.Ib(t,5,0,o.Ab(t,6).transform("consultRequest")),"")),n(t,8,0,o.Ib(t,8,0,o.Ab(t,9).transform("consultRequest"))),n(t,10,0,e.agentName),n(t,13,0,o.Ib(t,13,0,o.Ab(t,14).transform("requestFrom")),e.agentName),n(t,16,0,e.callWaitTime),n(t,20,0,o.Ib(t,20,0,o.Ab(t,21).transform("answer")))})}var Ra=function(){function n(n,t,e,l,i,s){this.modalSvc=n,this.agentSvc=t,this.logger=e,this.dateTimeUtilSvc=l,this.validationUtilSvc=i,this.localStorageSvc=s,this.remainingTime=0,this.remainingTimeInSeconds=0,this.reminderCloseEvent=new o.m}return n.prototype.ngOnInit=function(){var n=this;this.validationUtilSvc.isNullOrEmpty(this.commitmentReminderModel)||(this.timerStartTime=new Date,this.remainingTime=Qn.COMMITMENT_REMINDER_DURATION-Math.ceil((this.timerStartTime.getTime()-this.commitmentReminderModel.start.getTime())/1e3),this.remainingTimeInSeconds=this.remainingTime,this.displayTime=this.dateTimeUtilSvc.toDisplayTime(this.remainingTimeInSeconds),this.timerInstance=Object(at.a)(0,1e3),this.timerSubscription=this.timerInstance.subscribe(function(){return n.setRemainingTime()}))},n.prototype.rescheduleCallbackDatetime=function(){this.reminderCloseEvent.emit();var n=new Wn;n.contentType=l.Commitment,n.dataModel=this.commitmentReminderModel,this.modalSvc.openModalDialog(n)},n.prototype.makeCommitmentCall=function(){var t=this;this.reminderCloseEvent.emit(),this.agentSvc.makeCommitmentCall(this.commitmentReminderModel.id).then(function(n){t.localStorageSvc.remove(g.CommitmentReminderData)},function(e){t.logger.error(n.className,"Make commitment call failed -"+JSON.stringify(e))})},n.prototype.setRemainingTime=function(){var n=new Date;this.remainingTimeInSeconds=this.remainingTime-Math.ceil((n.getTime()-this.timerStartTime.getTime())/1e3),this.remainingTimeInSeconds<=0&&(this.removeTimerSubscription(),this.reminderCloseEvent.emit()),this.displayTime=this.dateTimeUtilSvc.toDisplayTime(this.remainingTimeInSeconds)},n.prototype.ngOnDestroy=function(){this.removeTimerSubscription()},n.prototype.removeTimerSubscription=function(){this.validationUtilSvc.isNullOrEmpty(this.timerSubscription)||this.timerSubscription.unsubscribe()},n.className="CommitmentReminderComponent",n}(),ja=o.ob({encapsulation:2,styles:[[".full-height,html,html body{height:100%}.no-strech{flex:0}.strech{flex:1;position:relative}.no-scroll{overflow:hidden}.full-height-flex{height:100%;display:flex;flex-direction:column;justify-content:center}.center-align{text-align:center}.cursor-pointer{cursor:pointer}.text-wrap{word-wrap:break-word}.text-bold{font-weight:700}.cdk-overlay-container .slds-modal__container{margin:0;padding:0}.cdk-overlay-container .slds-modal__content{height:100%}.cdk-global-scrollblock{overflow-y:auto!important}@media (min-width:48em){.slds-scope .slds-modal--large .slds-modal__container,.slds-scope .slds-modal_large .slds-modal__container{width:100%;height:100%}}.pull-down{position:absolute;bottom:0;width:100%}.dialog-style{position:fixed;top:0;background-color:#fff;right:0;left:0;box-shadow:0 0 5px grey;z-index:1001}.schedule-container .fc-widget-content{background-color:#fff}.schedule-container .fc-bgevent{opacity:.75;text-indent:3px}.schedule-container .fc-bgevent,.schedule-container .fc-event{border-radius:0;cursor:default;color:#01396a;min-height:2rem}.schedule-container .fc-bgevent .fc-time,.schedule-container .fc-event .fc-time{font-weight:700}.schedule-container .fc-bgevent:hover,.schedule-container .fc-event:hover{text-decoration:none;color:#01396a}.schedule-container .fc-bgevent .fc-time,.schedule-container .fc-bgevent .fc-title,.schedule-container .fc-event .fc-time,.schedule-container .fc-event .fc-title,.schedule-container .fc-slats .fc-time,.schedule-container .fc-slats .fc-title,.schedule-container .fc-time-grid-event.fc-short .fc-time,.schedule-container .fc-time-grid-event.fc-short .fc-title{font-size:.8rem}.schedule-container .fc-time-grid-event.fc-short .fc-content{display:flex}.schedule-container .fc-time-grid-event.fc-short .fc-title{display:inline-block;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.schedule-container .commitment-event{background-color:#d9d9d9;border-color:#d9d9d9}.schedule-container .commitment-event:hover{cursor:pointer}.schedule-container .fc-header-toolbar .fc-left{margin-left:10px}.schedule-container .fc-button-group{font-size:.6rem}.schedule-container .fc-button-group .fc-button-primary{background-color:#fff;border-color:grey;color:grey;box-shadow:none}.schedule-container .fc-button-group .fc-button-primary:not(:disabled):active{box-shadow:none}.schedule-container .fc-time-grid-event.fc-short{min-height:1rem}.schedule-container .fc-time-grid-event.fc-short .fc-time::before{display:none}.schedule-container .fc-time-grid-event.fc-short .fc-time span{display:inline-block}.schedule-container .fc-time-grid .fc-slats .fc-minor td{border-top:0}.schedule-container .fc-time-grid-container{overflow:visible!important}.slds-scope .slds-button:not([disabled]){color:#0672d4}.slds-scope .slds-button.slds-button_brand{color:#fff}.slds-scope .slds-button.decline-button:not([disabled]){color:#c13834;border-color:#c13834}.slds-scope .slds-button.accept-button:not([disabled]){color:#fff}.slds-scope .slds-slider__range{-webkit-appearance:none}.slds-scope .slds-slider__range::-webkit-slider-thumb{-webkit-appearance:none;appearance:none}.initialize-softphone .slds-spinner{margin-left:-6em}.slds-scope .cdk-overlay-container{position:absolute}.unread-icon{height:.5rem;width:.5rem;border-radius:50%;display:inline-block;background-color:#1589ee}.unread-icon.visited{background:0 0}.slds-scope .proceed-control.proceed-button:not([disabled]){color:#fff}.font-bold{font-weight:700}"]],data:{}});function Ja(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,21,"div",[],null,null,null,null,null)),(n()(),o.qb(1,0,null,null,4,"div",[["class","slds-grid slds-grid_vertical-align-center slds-m-top_x-small font-bold"]],null,null,null,null,null)),(n()(),o.qb(2,0,null,null,1,"div",[["class","slds-col_padded slds-truncate"]],null,null,null,null,null)),(n()(),o.Hb(3,null,[" "," "])),(n()(),o.qb(4,0,null,null,1,"div",[["class","slds-col_padded slds-text-align_right"]],null,null,null,null,null)),(n()(),o.Hb(5,null,[" "," "])),(n()(),o.qb(6,0,null,null,6,"div",[["class","slds-grid slds-grid_vertical-align-center slds-m-top_x-small"]],null,null,null,null,null)),(n()(),o.qb(7,0,null,null,5,"div",[["class","slds-col_padded"]],null,null,null,null,null)),(n()(),o.qb(8,0,null,null,2,"label",[],null,null,null,null,null)),(n()(),o.Hb(9,null,["",""])),o.Bb(131072,d.i,[d.j,o.h]),(n()(),o.qb(11,0,null,null,1,"label",[["class","slds-m-left_xx-small"]],null,null,null,null,null)),(n()(),o.Hb(12,null,["",""])),(n()(),o.qb(13,0,null,null,8,"div",[["class","slds-grid slds-grid_vertical-align-center slds-m-top_large slds-m-bottom_small"]],null,null,null,null,null)),(n()(),o.qb(14,0,null,null,3,"div",[["class","slds-col_padded"]],null,null,null,null,null)),(n()(),o.qb(15,0,null,null,2,"button",[["class","slds-button slds-button_outline-brand slds-button_stretch"]],null,[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.rescheduleCallbackDatetime()&&l),l},null,null)),(n()(),o.Hb(16,null,["",""])),o.Bb(131072,d.i,[d.j,o.h]),(n()(),o.qb(18,0,null,null,3,"div",[["class","slds-col_padded"]],null,null,null,null,null)),(n()(),o.qb(19,0,null,null,2,"button",[["class","slds-button proceed-control proceed-button slds-button_success slds-button_stretch"]],null,[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.makeCommitmentCall()&&l),l},null,null)),(n()(),o.Hb(20,null,["",""])),o.Bb(131072,d.i,[d.j,o.h])],null,function(n,t){var e=t.component;n(t,3,0,null==e.commitmentReminderModel?null:e.commitmentReminderModel.name),n(t,5,0,null==e.commitmentReminderModel?null:e.commitmentReminderModel.phoneNumber),n(t,9,0,o.Ib(t,9,0,o.Ab(t,10).transform("commitmentReminderMsg"))),n(t,12,0,e.displayTime),n(t,16,0,o.Ib(t,16,0,o.Ab(t,17).transform("reschedule"))),n(t,20,0,o.Ib(t,20,0,o.Ab(t,21).transform("proceed")))})}var Fa=function(){function n(n,t,e,l,i,s,c,a,r,u){this.agentSvc=n,this.adminSvc=t,this.dateTimeUtilSvc=e,this.validationUtilSvc=l,this.contactsSvc=i,this.containerSvc=s,this.omniChannelClientService=c,this.alertService=a,this.saleforceCtiSvc=r,this.logger=u,this.showWorkItemIcon=!1,this.isAcceptDisabled=!1,this.actionSelected=new o.m}return n.prototype.ngOnInit=function(){var t=this;if(this.logger.debug(n.className,"Initialize"),this.getSkillDetails(),this.workItemDetails.workItemType===Qn.SALESFORCE_OMNI_CHANNEL_ROUTING){this.isAcceptDisabled=!0;var e=JSON.parse(this.workItemDetails.workItemPayload),l=e.ServiceChannelId,o=e.WorkItemId;this.omniChannelClientService.canOmniChannelAcceptAgentWork(l).then(this.canOmniChannelAcceptAgentWorkCompleted.bind(this,o,l)).catch(this.canOmniChannelAcceptAgentWorkCompleted.bind(this,o,l)),this.validationUtilSvc.isNullOrEmpty(this.workItemDetails.sfWorkItemType)&&this.contactsSvc.getWorkItemType(this.workItemDetails)}var i=Object(at.a)(1e3,1e3);this.contactTimerEvent=i.subscribe(function(){t.validationUtilSvc.isNotNullOrEmpty(t.workItemDetails)&&(t.contactWaitTime=t.dateTimeUtilSvc.getElapsedTime(t.workItemDetails.lastStateTime))})},n.prototype.canOmniChannelAcceptAgentWorkCompleted=function(n,t,e){this.isAcceptDisabled=!1,e?this.saleforceCtiSvc.createAgentWork(n,t):(this.declineWorkItem(),this.alertService.createAndShowAlert(Kn.Info,"omniChannelBusy"))},n.prototype.acceptWorkItem=function(){this.agentSvc.acceptContact(this.workItemDetails.id),this.actionSelected.emit(),this.agentSvc.pullContact()},n.prototype.declineWorkItem=function(){this.agentSvc.rejectContact(this.workItemDetails.id),this.actionSelected.emit(),this.agentSvc.pullContact()},n.prototype.getSkillDetails=function(){var n=this;this.adminSvc.getSkillDetails(this.workItemDetails.skillId).then(function(t){n.skillName=t.skillName})},n.prototype.ngOnDestroy=function(){this.logger.debug(n.className,"Destroy"),this.validationUtilSvc.isNotNullOrUndefined(this.contactTimerEvent)&&this.contactTimerEvent.unsubscribe()},n.className="WorkItemAcceptDeclineComponent",n}(),za=o.ob({encapsulation:0,styles:[[".full-height[_ngcontent-%COMP%], html[_ngcontent-%COMP%], html[_ngcontent-%COMP%]   body[_ngcontent-%COMP%]{height:100%}.no-strech[_ngcontent-%COMP%]{flex:0}.strech[_ngcontent-%COMP%]{flex:1;position:relative}.no-scroll[_ngcontent-%COMP%]{overflow:hidden}.full-height-flex[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;justify-content:center}.center-align[_ngcontent-%COMP%]{text-align:center}.cursor-pointer[_ngcontent-%COMP%]{cursor:pointer}.text-wrap[_ngcontent-%COMP%]{word-wrap:break-word}.text-bold[_ngcontent-%COMP%]{font-weight:700}.cdk-overlay-container[_ngcontent-%COMP%]   .slds-modal__container[_ngcontent-%COMP%]{margin:0;padding:0}.cdk-overlay-container[_ngcontent-%COMP%]   .slds-modal__content[_ngcontent-%COMP%]{height:100%}.cdk-global-scrollblock[_ngcontent-%COMP%]{overflow-y:auto!important}@media (min-width:48em){.slds-scope[_ngcontent-%COMP%]   .slds-modal--large[_ngcontent-%COMP%]   .slds-modal__container[_ngcontent-%COMP%], .slds-scope[_ngcontent-%COMP%]   .slds-modal_large[_ngcontent-%COMP%]   .slds-modal__container[_ngcontent-%COMP%]{width:100%;height:100%}}.pull-down[_ngcontent-%COMP%]{position:absolute;bottom:0;width:100%}.dialog-style[_ngcontent-%COMP%]{position:fixed;top:0;background-color:#fff;right:0;left:0;box-shadow:0 0 5px grey;z-index:1001}.schedule-container[_ngcontent-%COMP%]   .fc-widget-content[_ngcontent-%COMP%]{background-color:#fff}.schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%]{opacity:.75;text-indent:3px}.schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-event[_ngcontent-%COMP%]{border-radius:0;cursor:default;color:#01396a;min-height:2rem}.schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-event[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%]{font-weight:700}.schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%]:hover, .schedule-container[_ngcontent-%COMP%]   .fc-event[_ngcontent-%COMP%]:hover{text-decoration:none;color:#01396a}.schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%]   .fc-title[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-event[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-event[_ngcontent-%COMP%]   .fc-title[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-slats[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-slats[_ngcontent-%COMP%]   .fc-title[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-title[_ngcontent-%COMP%]{font-size:.8rem}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-content[_ngcontent-%COMP%]{display:flex}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-title[_ngcontent-%COMP%]{display:inline-block;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.schedule-container[_ngcontent-%COMP%]   .commitment-event[_ngcontent-%COMP%]{background-color:#d9d9d9;border-color:#d9d9d9}.schedule-container[_ngcontent-%COMP%]   .commitment-event[_ngcontent-%COMP%]:hover{cursor:pointer}.schedule-container[_ngcontent-%COMP%]   .fc-header-toolbar[_ngcontent-%COMP%]   .fc-left[_ngcontent-%COMP%]{margin-left:10px}.schedule-container[_ngcontent-%COMP%]   .fc-button-group[_ngcontent-%COMP%]{font-size:.6rem}.schedule-container[_ngcontent-%COMP%]   .fc-button-group[_ngcontent-%COMP%]   .fc-button-primary[_ngcontent-%COMP%]{background-color:#fff;border-color:grey;color:grey;box-shadow:none}.schedule-container[_ngcontent-%COMP%]   .fc-button-group[_ngcontent-%COMP%]   .fc-button-primary[_ngcontent-%COMP%]:not(:disabled):active{box-shadow:none}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]{min-height:1rem}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%]::before{display:none}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid[_ngcontent-%COMP%]   .fc-slats[_ngcontent-%COMP%]   .fc-minor[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-top:0}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-container[_ngcontent-%COMP%]{overflow:visible!important}.slds-scope[_ngcontent-%COMP%]   .slds-button[_ngcontent-%COMP%]:not([disabled]){color:#0672d4}.slds-scope[_ngcontent-%COMP%]   .slds-button.slds-button_brand[_ngcontent-%COMP%]{color:#fff}.slds-scope[_ngcontent-%COMP%]   .slds-button.decline-button[_ngcontent-%COMP%]:not([disabled]){color:#c13834;border-color:#c13834}.slds-scope[_ngcontent-%COMP%]   .slds-button.accept-button[_ngcontent-%COMP%]:not([disabled]){color:#fff}.slds-scope[_ngcontent-%COMP%]   .slds-slider__range[_ngcontent-%COMP%]{-webkit-appearance:none}.slds-scope[_ngcontent-%COMP%]   .slds-slider__range[_ngcontent-%COMP%]::-webkit-slider-thumb{-webkit-appearance:none;appearance:none}.initialize-softphone[_ngcontent-%COMP%]   .slds-spinner[_ngcontent-%COMP%]{margin-left:-6em}.slds-scope[_ngcontent-%COMP%]   .cdk-overlay-container[_ngcontent-%COMP%]{position:absolute}.unread-icon[_ngcontent-%COMP%]{height:.5rem;width:.5rem;border-radius:50%;display:inline-block;background-color:#1589ee}.unread-icon.visited[_ngcontent-%COMP%]{background:0 0}.work-item-panel[_ngcontent-%COMP%]   .skill-name[_ngcontent-%COMP%], .work-item-panel[_ngcontent-%COMP%]   .work-item-details[_ngcontent-%COMP%]{font-size:.75rem}.work-item-panel[_ngcontent-%COMP%]   .contact-duration[_ngcontent-%COMP%]{text-align:right}.work-item-panel[_ngcontent-%COMP%]   .work-item-icon[_ngcontent-%COMP%]{width:1.6rem;height:1.6rem}.work-item-panel[_ngcontent-%COMP%]   .slds-icon-standard-picklist-type[_ngcontent-%COMP%]{background-color:#706e6b}.work-item-panel[_ngcontent-%COMP%]   .slds-icon-standard-picklist-type[_ngcontent-%COMP%]   .default-work-item[_ngcontent-%COMP%]{padding:.15rem}.work-item-panel[_ngcontent-%COMP%]   .button-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%}.work-item-panel[_ngcontent-%COMP%]   .button-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus{box-shadow:none}.work-item-panel[_ngcontent-%COMP%]   .button-section[_ngcontent-%COMP%]   .accept-button[_ngcontent-%COMP%]{background-color:#4bca81;border-color:#4bca81;color:#fff}.work-item-panel[_ngcontent-%COMP%]   .button-section[_ngcontent-%COMP%]   .accept-button[_ngcontent-%COMP%]:active, .work-item-panel[_ngcontent-%COMP%]   .button-section[_ngcontent-%COMP%]   .accept-button[_ngcontent-%COMP%]:hover{background-color:#4bca81;border-color:#4bca81}.work-item-panel[_ngcontent-%COMP%]   .button-section[_ngcontent-%COMP%]   .accept-button[_ngcontent-%COMP%]:disabled{background-color:#706e6b;border-color:#706e6b;color:#fff}.work-item-panel[_ngcontent-%COMP%]   .button-section[_ngcontent-%COMP%]   .decline-button[_ngcontent-%COMP%]{border-color:#c13834;color:#c13834}.work-item-panel[_ngcontent-%COMP%]   .button-section[_ngcontent-%COMP%]   .decline-button[_ngcontent-%COMP%]:hover{background-color:#f2f2f2}"]],data:{}});function Ha(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,2,"span",[["class","slds-icon_container slds-icon-standard-picklist-type slds-m-top_xx-small slds-m-left_xx-small"]],null,null,null,null,null)),(n()(),o.qb(1,0,null,null,1,":svg:svg",[["aria-hidden","true"],["class","slds-icon work-item-icon default-work-item"]],null,null,null,null,null)),(n()(),o.qb(2,0,null,null,0,":svg:use",[[":xlink:href","/_slds/icons/utility-sprite/svg/symbols.svg#picklist_type"]],null,null,null,null,null))],null,null)}function Wa(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,1,":svg:svg",[["aria-hidden","true"],["class","slds-icon slds-icon-text-default work-item-icon slds-p-top_xx-small slds-p-left_xx-small"]],null,null,null,null,null)),(n()(),o.qb(1,0,null,null,0,":svg:use",[[":xlink:href","/_slds/icons/utility-sprite/svg/symbols.svg#case"]],null,null,null,null,null))],null,null)}function Va(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,1,":svg:svg",[["aria-hidden","true"],["class","slds-icon slds-icon-text-default work-item-icon slds-p-top_xx-small slds-p-left_xx-small"]],null,null,null,null,null)),(n()(),o.qb(1,0,null,null,0,":svg:use",[[":xlink:href","/_slds/icons/utility-sprite/svg/symbols.svg#chat"]],null,null,null,null,null))],null,null)}function Ga(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,2,"span",[],null,null,null,null,null)),(n()(),o.Hb(1,null,["",""])),o.Bb(131072,d.i,[d.j,o.h])],null,function(n,t){n(t,1,0,o.Ib(t,1,0,o.Ab(t,2).transform("workItem")))})}function Xa(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,2,"span",[],null,null,null,null,null)),(n()(),o.Hb(1,null,["",""])),o.Bb(131072,d.i,[d.j,o.h])],null,function(n,t){var e=t.component;n(t,1,0,o.Ib(t,1,0,o.Ab(t,2).transform(e.workItemDetails.sfWorkItemType)))})}function Qa(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),o.Hb(1,null,[""," "]))],null,function(n,t){n(t,1,0,t.component.workItemDetails.workItemType)})}function $a(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,1,"div",[["class","slds-truncate skill-name"]],[[8,"title",0]],null,null,null,null)),(n()(),o.Hb(1,null,["",""]))],null,function(n,t){var e=t.component;n(t,0,0,e.skillName),n(t,1,0,e.skillName)})}function Ka(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,34,"div",[["class","work-item-panel dialog-style"]],null,null,null,null,null)),(n()(),o.qb(1,0,null,null,24,"div",[["class","slds-grid slds-p-top_x-small slds-p-bottom_xx-small slds-p-horizontal_x-small slds-border_bottom"]],null,null,null,null,null)),(n()(),o.qb(2,0,null,null,6,"div",[["class","slds-col slds-size_1-of-8"]],null,null,null,null,null)),(n()(),o.hb(16777216,null,null,1,null,Ha)),o.pb(4,16384,null,0,Pt.l,[o.P,o.M],{ngIf:[0,"ngIf"]},null),(n()(),o.hb(16777216,null,null,1,null,Wa)),o.pb(6,16384,null,0,Pt.l,[o.P,o.M],{ngIf:[0,"ngIf"]},null),(n()(),o.hb(16777216,null,null,1,null,Va)),o.pb(8,16384,null,0,Pt.l,[o.P,o.M],{ngIf:[0,"ngIf"]},null),(n()(),o.qb(9,0,null,null,14,"div",[["class","slds-col slds-size_6-of-8"]],null,null,null,null,null)),(n()(),o.qb(10,0,null,null,7,"div",[["class","slds-m-bottom_xx-small slds-p-right_xx-small"]],null,null,null,null,null)),(n()(),o.qb(11,0,null,null,6,"strong",[],null,null,null,null,null)),(n()(),o.Hb(12,null,[""," "])),o.Bb(131072,d.i,[d.j,o.h]),(n()(),o.hb(16777216,null,null,1,null,Ga)),o.pb(15,16384,null,0,Pt.l,[o.P,o.M],{ngIf:[0,"ngIf"]},null),(n()(),o.hb(16777216,null,null,1,null,Xa)),o.pb(17,16384,null,0,Pt.l,[o.P,o.M],{ngIf:[0,"ngIf"]},null),(n()(),o.qb(18,0,null,null,3,"div",[["class","work-item-details"]],null,null,null,null,null)),(n()(),o.hb(16777216,null,null,1,null,Qa)),o.pb(20,16384,null,0,Pt.l,[o.P,o.M],{ngIf:[0,"ngIf"]},null),(n()(),o.Hb(21,null,[" "," "])),(n()(),o.hb(16777216,null,null,1,null,$a)),o.pb(23,16384,null,0,Pt.l,[o.P,o.M],{ngIf:[0,"ngIf"]},null),(n()(),o.qb(24,0,null,null,1,"div",[["class","slds-col slds-size_1-of-8 contact-duration"]],null,null,null,null,null)),(n()(),o.Hb(25,null,[" "," "])),(n()(),o.qb(26,0,null,null,8,"div",[["class","slds-grid slds-p-around_x-small button-section"]],null,null,null,null,null)),(n()(),o.qb(27,0,null,null,3,"div",[["class","slds-col_padded slds-size_1-of-2"]],null,null,null,null,null)),(n()(),o.qb(28,0,null,null,2,"button",[["class","slds-button slds-button_neutral decline-button"]],null,[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.declineWorkItem()&&l),l},null,null)),(n()(),o.Hb(29,null,["",""])),o.Bb(131072,d.i,[d.j,o.h]),(n()(),o.qb(31,0,null,null,3,"div",[["class","slds-col_padded slds-size_1-of-2"]],null,null,null,null,null)),(n()(),o.qb(32,0,null,null,2,"button",[["class","slds-button slds-button_success accept-button"]],[[8,"disabled",0]],[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.acceptWorkItem()&&l),l},null,null)),(n()(),o.Hb(33,null,["",""])),o.Bb(131072,d.i,[d.j,o.h])],function(n,t){var e=t.component;n(t,4,0,"salesforce-omnichannel-routing"!==e.workItemDetails.workItemType||"omniChannelContact"===e.workItemDetails.sfWorkItemType),n(t,6,0,"salesforceCase"===e.workItemDetails.sfWorkItemType),n(t,8,0,"salesforceChat"===e.workItemDetails.sfWorkItemType),n(t,15,0,"salesforce-omnichannel-routing"!==e.workItemDetails.workItemType),n(t,17,0,e.workItemDetails.sfWorkItemType),n(t,20,0,"salesforce-omnichannel-routing"!==e.workItemDetails.workItemType),n(t,23,0,e.skillName)},function(n,t){var e=t.component;n(t,12,0,o.Ib(t,12,0,o.Ab(t,13).transform("incoming"))),n(t,21,0,e.workItemDetails.workItemId),n(t,25,0,e.contactWaitTime),n(t,29,0,o.Ib(t,29,0,o.Ab(t,30).transform("decline"))),n(t,32,0,e.isAcceptDisabled),n(t,33,0,o.Ib(t,33,0,o.Ab(t,34).transform("accept")))})}var Ya=o.ob({encapsulation:0,styles:[[".full-height[_ngcontent-%COMP%], html[_ngcontent-%COMP%], html[_ngcontent-%COMP%]   body[_ngcontent-%COMP%]{height:100%}.no-strech[_ngcontent-%COMP%]{flex:0}.strech[_ngcontent-%COMP%]{flex:1;position:relative}.no-scroll[_ngcontent-%COMP%]{overflow:hidden}.full-height-flex[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;justify-content:center}.center-align[_ngcontent-%COMP%]{text-align:center}.cursor-pointer[_ngcontent-%COMP%]{cursor:pointer}.text-wrap[_ngcontent-%COMP%]{word-wrap:break-word}.text-bold[_ngcontent-%COMP%]{font-weight:700}.cdk-overlay-container[_ngcontent-%COMP%]   .slds-modal__container[_ngcontent-%COMP%]{margin:0;padding:0}.cdk-overlay-container[_ngcontent-%COMP%]   .slds-modal__content[_ngcontent-%COMP%]{height:100%}.cdk-global-scrollblock[_ngcontent-%COMP%]{overflow-y:auto!important}@media (min-width:48em){.slds-scope[_ngcontent-%COMP%]   .slds-modal--large[_ngcontent-%COMP%]   .slds-modal__container[_ngcontent-%COMP%], .slds-scope[_ngcontent-%COMP%]   .slds-modal_large[_ngcontent-%COMP%]   .slds-modal__container[_ngcontent-%COMP%]{width:100%;height:100%}}.pull-down[_ngcontent-%COMP%]{position:absolute;bottom:0;width:100%}.dialog-style[_ngcontent-%COMP%]{position:fixed;top:0;background-color:#fff;right:0;left:0;box-shadow:0 0 5px grey;z-index:1001}.schedule-container[_ngcontent-%COMP%]   .fc-widget-content[_ngcontent-%COMP%]{background-color:#fff}.schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%]{opacity:.75;text-indent:3px}.schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-event[_ngcontent-%COMP%]{border-radius:0;cursor:default;color:#01396a;min-height:2rem}.schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-event[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%]{font-weight:700}.schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%]:hover, .schedule-container[_ngcontent-%COMP%]   .fc-event[_ngcontent-%COMP%]:hover{text-decoration:none;color:#01396a}.schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-bgevent[_ngcontent-%COMP%]   .fc-title[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-event[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-event[_ngcontent-%COMP%]   .fc-title[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-slats[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-slats[_ngcontent-%COMP%]   .fc-title[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%], .schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-title[_ngcontent-%COMP%]{font-size:.8rem}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-content[_ngcontent-%COMP%]{display:flex}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-title[_ngcontent-%COMP%]{display:inline-block;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.schedule-container[_ngcontent-%COMP%]   .commitment-event[_ngcontent-%COMP%]{background-color:#d9d9d9;border-color:#d9d9d9}.schedule-container[_ngcontent-%COMP%]   .commitment-event[_ngcontent-%COMP%]:hover{cursor:pointer}.schedule-container[_ngcontent-%COMP%]   .fc-header-toolbar[_ngcontent-%COMP%]   .fc-left[_ngcontent-%COMP%]{margin-left:10px}.schedule-container[_ngcontent-%COMP%]   .fc-button-group[_ngcontent-%COMP%]{font-size:.6rem}.schedule-container[_ngcontent-%COMP%]   .fc-button-group[_ngcontent-%COMP%]   .fc-button-primary[_ngcontent-%COMP%]{background-color:#fff;border-color:grey;color:grey;box-shadow:none}.schedule-container[_ngcontent-%COMP%]   .fc-button-group[_ngcontent-%COMP%]   .fc-button-primary[_ngcontent-%COMP%]:not(:disabled):active{box-shadow:none}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]{min-height:1rem}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%]::before{display:none}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-event.fc-short[_ngcontent-%COMP%]   .fc-time[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid[_ngcontent-%COMP%]   .fc-slats[_ngcontent-%COMP%]   .fc-minor[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-top:0}.schedule-container[_ngcontent-%COMP%]   .fc-time-grid-container[_ngcontent-%COMP%]{overflow:visible!important}.slds-scope[_ngcontent-%COMP%]   .slds-button[_ngcontent-%COMP%]:not([disabled]){color:#0672d4}.slds-scope[_ngcontent-%COMP%]   .slds-button.slds-button_brand[_ngcontent-%COMP%]{color:#fff}.slds-scope[_ngcontent-%COMP%]   .slds-button.decline-button[_ngcontent-%COMP%]:not([disabled]){color:#c13834;border-color:#c13834}.slds-scope[_ngcontent-%COMP%]   .slds-button.accept-button[_ngcontent-%COMP%]:not([disabled]){color:#fff}.slds-scope[_ngcontent-%COMP%]   .slds-slider__range[_ngcontent-%COMP%]{-webkit-appearance:none}.slds-scope[_ngcontent-%COMP%]   .slds-slider__range[_ngcontent-%COMP%]::-webkit-slider-thumb{-webkit-appearance:none;appearance:none}.initialize-softphone[_ngcontent-%COMP%]   .slds-spinner[_ngcontent-%COMP%]{margin-left:-6em}.slds-scope[_ngcontent-%COMP%]   .cdk-overlay-container[_ngcontent-%COMP%]{position:absolute}.unread-icon[_ngcontent-%COMP%]{height:.5rem;width:.5rem;border-radius:50%;display:inline-block;background-color:#1589ee}.unread-icon.visited[_ngcontent-%COMP%]{background:0 0}.alert-style[_ngcontent-%COMP%]{position:absolute;top:0;background:#fff;z-index:1001;left:0;right:0}.msg-text-color_warning[_ngcontent-%COMP%]{color:#ff9a3b}"]],data:{}});function Za(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,8,"div",[["class","center-align full-height-flex "]],null,null,null,null,null)),(n()(),o.qb(1,0,null,null,7,"a",[],null,[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.highlightMasterTab()&&l),l},null,null)),(n()(),o.qb(2,0,null,null,2,"b",[],null,null,null,null,null)),(n()(),o.Hb(3,null,[" ",""])),o.Bb(131072,d.i,[d.j,o.h]),(n()(),o.qb(5,0,null,null,0,"br",[],null,null,null,null,null)),(n()(),o.qb(6,0,null,null,2,"b",[],null,null,null,null,null)),(n()(),o.Hb(7,null,["",""])),o.Bb(131072,d.i,[d.j,o.h])],null,function(n,t){n(t,3,0,o.Ib(t,3,0,o.Ab(t,4).transform("nonMasterTabMsg1"))),n(t,7,0,o.Ib(t,7,0,o.Ab(t,8).transform("nonMasterTabMsg2")))})}function nr(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,2,"button",[["class","slds-button slds-button_neutral slds-size_2-of-7 slds-small-size_2-of-7 slds-medium-size_2-of-7 slds-large-size_2-of-7 slds-m-top_x-small slds-float_right"]],null,[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.hideAlert()&&l),l},null,null)),(n()(),o.Hb(1,null,["",""])),o.Bb(131072,d.i,[d.j,o.h])],null,function(n,t){n(t,1,0,o.Ib(t,1,0,o.Ab(t,2).transform("ok")))})}function tr(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,6,"div",[["class","slds-float_right"]],null,null,null,null,null)),(n()(),o.qb(1,0,null,null,2,"button",[["class","slds-button slds-button_neutral"]],null,[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.triggerAlertActionEvent()&&l),l},null,null)),(n()(),o.Hb(2,null,["",""])),o.Bb(131072,d.i,[d.j,o.h]),(n()(),o.qb(4,0,null,null,2,"button",[["class","slds-button slds-button_neutral slds-m-right_x-small"]],null,[[null,"click"]],function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.hideAlert()&&l),l},null,null)),(n()(),o.Hb(5,null,["",""])),o.Bb(131072,d.i,[d.j,o.h])],null,function(n,t){n(t,2,0,o.Ib(t,2,0,o.Ab(t,3).transform("yes"))),n(t,5,0,o.Ib(t,5,0,o.Ab(t,6).transform("no")))})}function er(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,8,"div",[["class","slds-box slds-m-top_xx-large slds-clearfix alert-style"]],null,null,null,null,null)),(n()(),o.qb(1,0,null,null,3,"p",[],null,null,null,null,null)),o.pb(2,278528,null,0,Pt.j,[o.s,o.t,o.k,o.E],{ngClass:[0,"ngClass"]},null),(n()(),o.Hb(3,null,["",""])),o.Bb(131072,d.i,[d.j,o.h]),(n()(),o.hb(16777216,null,null,1,null,nr)),o.pb(6,16384,null,0,Pt.l,[o.P,o.M],{ngIf:[0,"ngIf"]},null),(n()(),o.hb(16777216,null,null,1,null,tr)),o.pb(8,16384,null,0,Pt.l,[o.P,o.M],{ngIf:[0,"ngIf"]},null)],function(n,t){var e=t.component;n(t,2,0,e.alertTextStyle),n(t,6,0,!e.alertConfirmationMode),n(t,8,0,e.alertConfirmationMode)},function(n,t){var e=t.component;n(t,3,0,o.Ib(t,3,0,o.Ab(t,4).transform(e.alertText)))})}function lr(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,1,"app-consult-call-accept",[],null,[[null,"callAccepted"]],function(n,t,e){var l=!0;return"callAccepted"===t&&(l=!1!==n.component.acceptConsultCall()&&l),l},Ba,La)),o.pb(1,245760,null,0,qa,[Un,qn,_,f,A,P],{consultCallDetails:[0,"consultCallDetails"]},{callAccepted:"callAccepted"})],function(n,t){n(t,1,0,t.component.consultCallDetails)},null)}function or(n){return o.Jb(0,[(n()(),o.qb(0,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),o.pb(1,212992,null,0,x.m,[x.b,o.P,o.j,[8,null],o.h],null,null),(n()(),o.hb(0,null,null,0))],function(n,t){n(t,1,0)},null)}function ir(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,2,"div",[["class","dialog-style"]],null,null,null,null,null)),(n()(),o.qb(1,0,null,null,1,"app-commitment-reminder",[],null,[[null,"reminderCloseEvent"]],function(n,t,e){var l=!0;return"reminderCloseEvent"===t&&(l=0!=(n.component.showCommitmentReminder=!1)&&l),l},Ja,ja)),o.pb(2,245760,null,0,Ra,[Hn,Un,_,P,f,p],{commitmentReminderModel:[0,"commitmentReminderModel"]},{reminderCloseEvent:"reminderCloseEvent"})],function(n,t){n(t,2,0,t.component.commitmentReminderModel)},null)}function sr(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,1,"div",[],null,null,null,null,null)),(n()(),o.qb(1,0,null,null,0,"audio",[["autoplay",""],["class","slds-hide"],["controls",""],["id","audio"]],null,null,null,null,null))],null,null)}function cr(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,2,"div",[],null,null,null,null,null)),(n()(),o.qb(1,0,null,null,1,"app-work-item-accept-decline",[],null,[[null,"actionSelected"]],function(n,t,e){var l=!0;return"actionSelected"===t&&(l=!1!==n.component.clearWorkItemDetails()&&l),l},Ka,za)),o.pb(2,245760,null,0,Fa,[Un,qn,P,f,Yn,ot,Zn,tt,Bn,_],{workItemDetails:[0,"workItemDetails"]},{actionSelected:"actionSelected"})],function(n,t){n(t,2,0,t.component.workItemDetails)},null)}function ar(n){return o.Jb(0,[o.Fb(402653184,1,{viewContainer:0}),(n()(),o.hb(16777216,null,null,1,null,Za)),o.pb(2,16384,null,0,Pt.l,[o.P,o.M],{ngIf:[0,"ngIf"]},null),(n()(),o.hb(16777216,null,null,1,null,er)),o.pb(4,16384,null,0,Pt.l,[o.P,o.M],{ngIf:[0,"ngIf"]},null),(n()(),o.hb(16777216,null,null,1,null,lr)),o.pb(6,16384,null,0,Pt.l,[o.P,o.M],{ngIf:[0,"ngIf"]},null),(n()(),o.hb(16777216,null,null,1,null,or)),o.pb(8,16384,null,0,Pt.l,[o.P,o.M],{ngIf:[0,"ngIf"]},null),(n()(),o.qb(9,0,null,null,6,"ngl-modal",[],null,[[null,"keydown.esc"],[null,"click"]],function(n,t,e){var l=!0;return"keydown.esc"===t&&(l=!1!==o.Ab(n,10).close(e)&&l),"click"===t&&(l=!1!==o.Ab(n,10).clickOutside(e)&&l),l},_t.r,_t.f)),o.pb(10,1753088,null,3,Et.Fb,[as.c,Pt.c,po.d,o.k],{size:[0,"size"],open:[1,"open"]},null),o.Fb(335544320,2,{headerTpl:0}),o.Fb(335544320,3,{taglineTpl:0}),o.Fb(335544320,4,{footer:0}),(n()(),o.qb(14,16777216,[[1,3],["modalContainer",1]],0,1,"template",[],null,null,null,null,null)),(n()(),o.Hb(-1,null,["\n    "])),(n()(),o.hb(16777216,null,null,1,null,ir)),o.pb(17,16384,null,0,Pt.l,[o.P,o.M],{ngIf:[0,"ngIf"]},null),(n()(),o.hb(16777216,null,null,1,null,sr)),o.pb(19,16384,null,0,Pt.l,[o.P,o.M],{ngIf:[0,"ngIf"]},null),(n()(),o.hb(16777216,null,null,1,null,cr)),o.pb(21,16384,null,0,Pt.l,[o.P,o.M],{ngIf:[0,"ngIf"]},null)],function(n,t){var e=t.component;n(t,2,0,!e.isMaster),n(t,4,0,e.isMaster&&e.canShowAlert),n(t,6,0,e.isMaster&&e.consultCallDetails&&!e.consultCallAccepted),n(t,8,0,e.isMaster),n(t,10,0,"large",e.modalOpen),n(t,17,0,e.isMaster&&e.showCommitmentReminder),n(t,19,0,e.isMaster&&e.isWebRTC),n(t,21,0,e.isMaster&&e.workItemDetails)},null)}function rr(n){return o.Jb(0,[(n()(),o.qb(0,0,null,null,1,"app-root",[],null,null,null,ar,Ya)),o.pb(1,114688,null,0,vt,[Un,b,f,O,p,S,A,Bn,_,qn,o.j,Hn,tt,ot,it,ft,Yn,Ct],null,null)],function(n,t){n(t,1,0)},null)}var ur=o.mb("app-root",vt,rr,{},{},[]),dr=e("DAyI"),gr=function(){function n(n,t){this.alertSvc=n,this.logger=t,this.apiErrorMessages=new Map,this.apiErrorMessages.set(En.Hold_Failed,"holdError"),this.apiErrorMessages.set(En.Resume_Failed,"resumeError"),this.apiErrorMessages.set(En.End_Failed,"contactEndError"),this.apiErrorMessages.set(En.SubmitDisposition_Failed,"contactDispError"),this.apiErrorMessages.set(En.Mute_Failed,"muteError"),this.apiErrorMessages.set(En.UnMute_Failed,"unmuteError"),this.apiErrorMessages.set(En.Mask_Failed,"maskError"),this.apiErrorMessages.set(En.UnMask_Failed,"unMaskError"),this.apiErrorMessages.set(En.Record_Failed,"recordError"),this.apiErrorMessages.set(En.ConsultAgent_Failed,"consultAgentError"),this.apiErrorMessages.set(En.DialAgent_Failed,"dialAgentError"),this.apiErrorMessages.set(En.DialSkill_Failed,"dialSkillError"),this.apiErrorMessages.set(En.Transfer_Failed,"transferError"),this.apiErrorMessages.set(En.DialPhone_Failed,"dialError"),this.apiErrorMessages.set(En.Conference_Failed,"conferenceError"),this.apiErrorMessages.set(En.AcceptContact_Failed,"acceptContactError"),this.apiErrorMessages.set(En.DeclineContact_Failed,"declineContactError"),this.apiErrorMessages.set(En.ActiveContact_Failed,"activeContactError")}return n.prototype.handleError=function(t){t.rejection instanceof _n?this.handleAPIError(t.rejection):this.logger.error(n.className,t)},n.prototype.showError=function(n){this.alertSvc.createAndShowAlert(Kn.Error,n)},n.prototype.handleAPIError=function(n){this.apiErrorMessages.has(n.type)&&this.showError(this.apiErrorMessages.get(n.type))},n.className="AppErrorHandlerService",n.ngInjectableDef=o.T({factory:function(){return new n(o.X(tt),o.X(_))},token:n,providedIn:"root"}),n}(),hr=e("YYUK"),pr=e("dz1D"),fr=function(){return function(){}}(),br=o.nb(N,[vt],function(n){return o.xb([o.yb(512,o.j,o.cb,[[8,[_t.y,_t.z,Ot.a,Tt,Qi,yc,Kc,ia,Ds,ra,ka,xa,Ua,ur]],[3,o.j],o.x]),o.yb(5120,o.u,o.lb,[[3,o.u]]),o.yb(4608,Pt.n,Pt.m,[o.u,[2,Pt.z]]),o.yb(5120,o.c,o.ib,[]),o.yb(5120,o.s,o.jb,[]),o.yb(5120,o.t,o.kb,[]),o.yb(4608,Ai.b,Ai.k,[Pt.c]),o.yb(6144,o.H,null,[Ai.b]),o.yb(4608,Ai.e,Ai.g,[]),o.yb(5120,Ai.c,function(n,t,e,l,o,i,s,c){return[new Ai.i(n,t,e),new Ai.n(l),new Ai.m(o,i,s,c)]},[Pt.c,o.z,o.B,Pt.c,Pt.c,Ai.e,o.db,[2,Ai.f]]),o.yb(4608,Ai.d,Ai.d,[Ai.c,o.z]),o.yb(135680,Ai.l,Ai.l,[Pt.c]),o.yb(4608,Ai.j,Ai.j,[Ai.d,Ai.l,o.c]),o.yb(6144,o.F,null,[Ai.j]),o.yb(6144,Ai.o,null,[Ai.l]),o.yb(4608,o.N,o.N,[o.z]),o.yb(4608,D.j,D.p,[Pt.c,o.B,D.n]),o.yb(4608,D.q,D.q,[D.j,D.o]),o.yb(5120,D.a,function(n){return[n]},[D.q]),o.yb(4608,D.m,D.m,[]),o.yb(6144,D.k,null,[D.m]),o.yb(4608,D.i,D.i,[D.k]),o.yb(6144,D.b,null,[D.i]),o.yb(4608,D.f,D.l,[D.b,o.q]),o.yb(4608,D.c,D.c,[D.f]),o.yb(4608,c.e,c.e,[D.c]),o.yb(4608,c.d,c.d,[c.e,c.b,o.B]),o.yb(4608,c.a,c.a,[c.e,o.B]),o.yb(4608,Mt.o,Mt.o,[]),o.yb(4608,Mt.c,Mt.c,[]),o.yb(4608,po.d,po.d,[po.i,po.e,o.j,po.h,po.f,o.q,o.z,Pt.c,Ce.b,[2,Pt.h]]),o.yb(5120,po.j,po.k,[po.d]),o.yb(4608,dr.a,dr.a,[]),o.yb(4608,Et.jb,Et.jb,[]),o.yb(5120,x.a,x.x,[x.k]),o.yb(4608,x.d,x.d,[]),o.yb(6144,x.f,null,[x.d]),o.yb(135680,x.n,x.n,[x.k,o.w,o.i,o.q,x.f]),o.yb(4608,x.e,x.e,[]),o.yb(5120,x.B,x.t,[x.k,Pt.v,x.g]),o.yb(5120,x.h,x.A,[x.y]),o.yb(5120,o.b,function(n){return[n]},[x.h]),o.yb(5120,d.f,w,[D.c]),o.yb(4608,d.c,d.e,[]),o.yb(4608,d.h,d.d,[]),o.yb(4608,d.b,d.a,[]),o.yb(4608,d.k,d.k,[]),o.yb(4608,d.j,d.j,[d.k,d.f,d.c,d.h,d.b,d.l,d.m]),o.yb(4608,p,p,[]),o.yb(4608,b,b,[p,f]),o.yb(4608,Yn,Yn,[Un,qn,p,f,Bn,Jn,m]),o.yb(4608,ot,ot,[_,p,Bn,f,Un,Jn,b,qn,O,Hn,S,$n,Yn,Zn,m,tt,lt]),o.yb(1073742336,Pt.b,Pt.b,[]),o.yb(512,o.l,gr,[tt,_]),o.yb(1024,o.y,function(){return[x.s()]},[]),o.yb(512,x.y,x.y,[o.q]),o.yb(1024,o.d,function(n,t){return[Ai.p(n),x.z(t)]},[[2,o.y],x.y]),o.yb(512,o.e,o.e,[[2,o.d]]),o.yb(131584,o.g,o.g,[o.z,o.db,o.q,o.l,o.j,o.e]),o.yb(1073742336,o.f,o.f,[o.g]),o.yb(1073742336,Ai.a,Ai.a,[[3,Ai.a]]),o.yb(1073742336,D.e,D.e,[]),o.yb(1073742336,D.d,D.d,[]),o.yb(1073742336,c.c,c.c,[]),o.yb(1073742336,Mt.n,Mt.n,[]),o.yb(1073742336,Mt.d,Mt.d,[]),o.yb(1073742336,Mt.l,Mt.l,[]),o.yb(1073742336,Et.jc,Et.jc,[]),o.yb(1073742336,Et.nc,Et.nc,[]),o.yb(1073742336,Et.bb,Et.bb,[]),o.yb(1073742336,Et.pc,Et.pc,[]),o.yb(1073742336,Et.rc,Et.rc,[]),o.yb(1073742336,Et.tc,Et.tc,[]),o.yb(1073742336,Et.vc,Et.vc,[]),o.yb(1073742336,Et.j,Et.j,[]),o.yb(1073742336,Et.m,Et.m,[]),o.yb(1073742336,Et.r,Et.r,[]),o.yb(1073742336,Et.v,Et.v,[]),o.yb(1073742336,Et.K,Et.K,[]),o.yb(1073742336,Ce.a,Ce.a,[]),o.yb(1073742336,hr.c,hr.c,[]),o.yb(1073742336,pr.b,pr.b,[]),o.yb(1073742336,me.g,me.g,[]),o.yb(1073742336,po.g,po.g,[]),o.yb(1073742336,dr.b,dr.b,[]),o.yb(1073742336,as.a,as.a,[]),o.yb(1073742336,Et.Q,Et.Q,[]),o.yb(1073742336,Et.W,Et.W,[]),o.yb(1073742336,Et.T,Et.T,[]),o.yb(1073742336,Et.B,Et.B,[]),o.yb(1073742336,Et.Z,Et.Z,[]),o.yb(1073742336,Et.h,Et.h,[]),o.yb(1073742336,Et.mb,Et.mb,[]),o.yb(1073742336,Et.eb,Et.eb,[]),o.yb(1073742336,Et.ob,Et.ob,[]),o.yb(1073742336,Et.ub,Et.ub,[]),o.yb(1073742336,Et.xb,Et.xb,[]),o.yb(1073742336,Et.Ab,Et.Ab,[]),o.yb(1073742336,Et.Eb,Et.Eb,[]),o.yb(1073742336,Et.Gb,Et.Gb,[]),o.yb(1073742336,Et.Ib,Et.Ib,[]),o.yb(1073742336,Et.Kb,Et.Kb,[]),o.yb(1073742336,Et.Lb,Et.Lb,[]),o.yb(1073742336,Et.Ob,Et.Ob,[]),o.yb(1073742336,Et.Qb,Et.Qb,[]),o.yb(1073742336,Et.Ub,Et.Ub,[]),o.yb(1073742336,Et.Wb,Et.Wb,[]),o.yb(1073742336,Et.Yb,Et.Yb,[]),o.yb(1073742336,Et.ac,Et.ac,[]),o.yb(1073742336,Et.cc,Et.cc,[]),o.yb(1073742336,Et.ec,Et.ec,[]),o.yb(1073742336,Et.f,Et.f,[]),o.yb(1024,x.r,x.v,[[3,x.k]]),o.yb(512,x.p,x.c,[]),o.yb(512,x.b,x.b,[]),o.yb(256,x.g,{initialNavigation:!1},[]),o.yb(1024,Pt.i,x.u,[Pt.u,[2,Pt.a],x.g]),o.yb(512,Pt.h,Pt.h,[Pt.i]),o.yb(512,o.i,o.i,[]),o.yb(512,o.w,o.K,[o.i,[2,o.L]]),o.yb(1024,x.i,function(){return[[{path:"station",component:St},{path:"home",component:Ji},{path:"contacts",component:uc}]]},[]),o.yb(1024,x.k,x.w,[o.g,x.p,x.b,Pt.h,o.q,o.w,o.i,x.i,x.g,[2,x.o],[2,x.j]]),o.yb(1073742336,x.l,x.l,[[2,x.r],[2,x.k]]),o.yb(1073742336,fr,fr,[]),o.yb(1073742336,Yo.b,Yo.b,[]),o.yb(1073742336,d.g,d.g,[]),o.yb(1073742336,N,N,[]),o.yb(256,o.bb,!0,[]),o.yb(256,D.n,"XSRF-TOKEN",[]),o.yb(256,D.o,"X-XSRF-TOKEN",[]),o.yb(256,c.b,{level:5},[]),o.yb(256,d.m,void 0,[]),o.yb(256,d.l,void 0,[]),o.yb(256,Et.c,I,[])])});i.production&&Object(o.U)(),Ai.h().bootstrapModuleFactory(br).catch(function(n){return console.error(n)})},zn8P:function(n,t){function e(n){return Promise.resolve().then(function(){var t=new Error("Cannot find module '"+n+"'");throw t.code="MODULE_NOT_FOUND",t})}e.keys=function(){return[]},e.resolve=e,n.exports=e,e.id="zn8P"}},[[0,0,4]]]);